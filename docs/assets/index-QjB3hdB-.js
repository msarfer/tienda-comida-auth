var OS=Object.defineProperty;var DS=(t,e,n)=>e in t?OS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ei=(t,e,n)=>DS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function bS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qc={exports:{}},Os={},Qc={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function LS(){if(ug)return le;ug=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function x(k,M,oe){this.props=k,this.context=M,this.refs=A,this.updater=oe||C}x.prototype.isReactComponent={},x.prototype.setState=function(k,M){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,M,"setState")},x.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function O(){}O.prototype=x.prototype;function W(k,M,oe){this.props=k,this.context=M,this.refs=A,this.updater=oe||C}var L=W.prototype=new O;L.constructor=W,I(L,x.prototype),L.isPureReactComponent=!0;var B=Array.isArray,Y=Object.prototype.hasOwnProperty,J={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function ee(k,M,oe){var ce,pe={},me=null,Se=null;if(M!=null)for(ce in M.ref!==void 0&&(Se=M.ref),M.key!==void 0&&(me=""+M.key),M)Y.call(M,ce)&&!se.hasOwnProperty(ce)&&(pe[ce]=M[ce]);var ye=arguments.length-2;if(ye===1)pe.children=oe;else if(1<ye){for(var Pe=Array(ye),wt=0;wt<ye;wt++)Pe[wt]=arguments[wt+2];pe.children=Pe}if(k&&k.defaultProps)for(ce in ye=k.defaultProps,ye)pe[ce]===void 0&&(pe[ce]=ye[ce]);return{$$typeof:t,type:k,key:me,ref:Se,props:pe,_owner:J.current}}function fe(k,M){return{$$typeof:t,type:k.type,key:M,ref:k.ref,props:k.props,_owner:k._owner}}function De(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function Rt(k){var M={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return M[oe]})}var Yt=/\/+/g;function vt(k,M){return typeof k=="object"&&k!==null&&k.key!=null?Rt(""+k.key):M.toString(36)}function Ft(k,M,oe,ce,pe){var me=typeof k;(me==="undefined"||me==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(me){case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case t:case e:Se=!0}}if(Se)return Se=k,pe=pe(Se),k=ce===""?"."+vt(Se,0):ce,B(pe)?(oe="",k!=null&&(oe=k.replace(Yt,"$&/")+"/"),Ft(pe,M,oe,"",function(wt){return wt})):pe!=null&&(De(pe)&&(pe=fe(pe,oe+(!pe.key||Se&&Se.key===pe.key?"":(""+pe.key).replace(Yt,"$&/")+"/")+k)),M.push(pe)),1;if(Se=0,ce=ce===""?".":ce+":",B(k))for(var ye=0;ye<k.length;ye++){me=k[ye];var Pe=ce+vt(me,ye);Se+=Ft(me,M,oe,Pe,pe)}else if(Pe=v(k),typeof Pe=="function")for(k=Pe.call(k),ye=0;!(me=k.next()).done;)me=me.value,Pe=ce+vt(me,ye++),Se+=Ft(me,M,oe,Pe,pe);else if(me==="object")throw M=String(k),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Se}function Jt(k,M,oe){if(k==null)return k;var ce=[],pe=0;return Ft(k,ce,"","",function(me){return M.call(oe,me,pe++)}),ce}function dt(k){if(k._status===-1){var M=k._result;M=M(),M.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=M)}if(k._status===1)return k._result.default;throw k._result}var be={current:null},$={transition:null},te={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:$,ReactCurrentOwner:J};function G(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:Jt,forEach:function(k,M,oe){Jt(k,function(){M.apply(this,arguments)},oe)},count:function(k){var M=0;return Jt(k,function(){M++}),M},toArray:function(k){return Jt(k,function(M){return M})||[]},only:function(k){if(!De(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},le.Component=x,le.Fragment=n,le.Profiler=o,le.PureComponent=W,le.StrictMode=s,le.Suspense=h,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,le.act=G,le.cloneElement=function(k,M,oe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ce=I({},k.props),pe=k.key,me=k.ref,Se=k._owner;if(M!=null){if(M.ref!==void 0&&(me=M.ref,Se=J.current),M.key!==void 0&&(pe=""+M.key),k.type&&k.type.defaultProps)var ye=k.type.defaultProps;for(Pe in M)Y.call(M,Pe)&&!se.hasOwnProperty(Pe)&&(ce[Pe]=M[Pe]===void 0&&ye!==void 0?ye[Pe]:M[Pe])}var Pe=arguments.length-2;if(Pe===1)ce.children=oe;else if(1<Pe){ye=Array(Pe);for(var wt=0;wt<Pe;wt++)ye[wt]=arguments[wt+2];ce.children=ye}return{$$typeof:t,type:k.type,key:pe,ref:me,props:ce,_owner:Se}},le.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:a,_context:k},k.Consumer=k},le.createElement=ee,le.createFactory=function(k){var M=ee.bind(null,k);return M.type=k,M},le.createRef=function(){return{current:null}},le.forwardRef=function(k){return{$$typeof:f,render:k}},le.isValidElement=De,le.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:dt}},le.memo=function(k,M){return{$$typeof:m,type:k,compare:M===void 0?null:M}},le.startTransition=function(k){var M=$.transition;$.transition={};try{k()}finally{$.transition=M}},le.unstable_act=G,le.useCallback=function(k,M){return be.current.useCallback(k,M)},le.useContext=function(k){return be.current.useContext(k)},le.useDebugValue=function(){},le.useDeferredValue=function(k){return be.current.useDeferredValue(k)},le.useEffect=function(k,M){return be.current.useEffect(k,M)},le.useId=function(){return be.current.useId()},le.useImperativeHandle=function(k,M,oe){return be.current.useImperativeHandle(k,M,oe)},le.useInsertionEffect=function(k,M){return be.current.useInsertionEffect(k,M)},le.useLayoutEffect=function(k,M){return be.current.useLayoutEffect(k,M)},le.useMemo=function(k,M){return be.current.useMemo(k,M)},le.useReducer=function(k,M,oe){return be.current.useReducer(k,M,oe)},le.useRef=function(k){return be.current.useRef(k)},le.useState=function(k){return be.current.useState(k)},le.useSyncExternalStore=function(k,M,oe){return be.current.useSyncExternalStore(k,M,oe)},le.useTransition=function(){return be.current.useTransition()},le.version="18.3.1",le}var cg;function xa(){return cg||(cg=1,Qc.exports=LS()),Qc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function MS(){if(dg)return Os;dg=1;var t=xa(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,m){var _,y={},v=null,C=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(C=h.ref);for(_ in h)s.call(h,_)&&!a.hasOwnProperty(_)&&(y[_]=h[_]);if(f&&f.defaultProps)for(_ in h=f.defaultProps,h)y[_]===void 0&&(y[_]=h[_]);return{$$typeof:e,type:f,key:v,ref:C,props:y,_owner:o.current}}return Os.Fragment=n,Os.jsx=c,Os.jsxs=c,Os}var fg;function FS(){return fg||(fg=1,qc.exports=MS()),qc.exports}var b=FS(),N=xa();const Q_=bS(N);var Wl={},Yc={exports:{}},_t={},Jc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function US(){return hg||(hg=1,function(t){function e($,te){var G=$.length;$.push(te);e:for(;0<G;){var k=G-1>>>1,M=$[k];if(0<o(M,te))$[k]=te,$[G]=M,G=k;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var te=$[0],G=$.pop();if(G!==te){$[0]=G;e:for(var k=0,M=$.length,oe=M>>>1;k<oe;){var ce=2*(k+1)-1,pe=$[ce],me=ce+1,Se=$[me];if(0>o(pe,G))me<M&&0>o(Se,pe)?($[k]=Se,$[me]=G,k=me):($[k]=pe,$[ce]=G,k=ce);else if(me<M&&0>o(Se,G))$[k]=Se,$[me]=G,k=me;else break e}}return te}function o($,te){var G=$.sortIndex-te.sortIndex;return G!==0?G:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],_=1,y=null,v=3,C=!1,I=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L($){for(var te=n(m);te!==null;){if(te.callback===null)s(m);else if(te.startTime<=$)s(m),te.sortIndex=te.expirationTime,e(h,te);else break;te=n(m)}}function B($){if(A=!1,L($),!I)if(n(h)!==null)I=!0,dt(Y);else{var te=n(m);te!==null&&be(B,te.startTime-$)}}function Y($,te){I=!1,A&&(A=!1,O(ee),ee=-1),C=!0;var G=v;try{for(L(te),y=n(h);y!==null&&(!(y.expirationTime>te)||$&&!Rt());){var k=y.callback;if(typeof k=="function"){y.callback=null,v=y.priorityLevel;var M=k(y.expirationTime<=te);te=t.unstable_now(),typeof M=="function"?y.callback=M:y===n(h)&&s(h),L(te)}else s(h);y=n(h)}if(y!==null)var oe=!0;else{var ce=n(m);ce!==null&&be(B,ce.startTime-te),oe=!1}return oe}finally{y=null,v=G,C=!1}}var J=!1,se=null,ee=-1,fe=5,De=-1;function Rt(){return!(t.unstable_now()-De<fe)}function Yt(){if(se!==null){var $=t.unstable_now();De=$;var te=!0;try{te=se(!0,$)}finally{te?vt():(J=!1,se=null)}}else J=!1}var vt;if(typeof W=="function")vt=function(){W(Yt)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,Jt=Ft.port2;Ft.port1.onmessage=Yt,vt=function(){Jt.postMessage(null)}}else vt=function(){x(Yt,0)};function dt($){se=$,J||(J=!0,vt())}function be($,te){ee=x(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){I||C||(I=!0,dt(Y))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var G=v;v=te;try{return $()}finally{v=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=v;v=$;try{return te()}finally{v=G}},t.unstable_scheduleCallback=function($,te,G){var k=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?k+G:k):G=k,$){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,$={id:_++,callback:te,priorityLevel:$,startTime:G,expirationTime:M,sortIndex:-1},G>k?($.sortIndex=G,e(m,$),n(h)===null&&$===n(m)&&(A?(O(ee),ee=-1):A=!0,be(B,G-k))):($.sortIndex=M,e(h,$),I||C||(I=!0,dt(Y))),$},t.unstable_shouldYield=Rt,t.unstable_wrapCallback=function($){var te=v;return function(){var G=v;v=te;try{return $.apply(this,arguments)}finally{v=G}}}}(Xc)),Xc}var pg;function jS(){return pg||(pg=1,Jc.exports=US()),Jc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function zS(){if(mg)return _t;mg=1;var t=xa(),e=jS();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},y={};function v(r){return h.call(y,r)?!0:h.call(_,r)?!1:m.test(r)?y[r]=!0:(_[r]=!0,!1)}function C(r,i,l,u){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function I(r,i,l,u){if(i===null||typeof i>"u"||C(r,i,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function A(r,i,l,u,d,p,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=p,this.removeEmptyString=g}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new A(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];x[i]=new A(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new A(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new A(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new A(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new A(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new A(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new A(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new A(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(O,W);x[i]=new A(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(O,W);x[i]=new A(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(O,W);x[i]=new A(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new A(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new A(r,1,!1,r.toLowerCase(),null,!0,!0)});function L(r,i,l,u){var d=x.hasOwnProperty(i)?x[i]:null;(d!==null?d.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(I(i,l,d,u)&&(l=null),u||d===null?v(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):d.mustUseProperty?r[d.propertyName]=l===null?d.type===3?!1:"":l:(i=d.attributeName,u=d.attributeNamespace,l===null?r.removeAttribute(i):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,u?r.setAttributeNS(u,i,l):r.setAttribute(i,l))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),J=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),De=Symbol.for("react.provider"),Rt=Symbol.for("react.context"),Yt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),Jt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),$=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,k;function M(r){if(k===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||""}return`
`+k+r}var oe=!1;function ce(r,i){if(!r||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(P){var u=P}Reflect.construct(r,[],i)}else{try{i.call()}catch(P){u=P}r.call(i.prototype)}else{try{throw Error()}catch(P){u=P}r()}}catch(P){if(P&&u&&typeof P.stack=="string"){for(var d=P.stack.split(`
`),p=u.stack.split(`
`),g=d.length-1,w=p.length-1;1<=g&&0<=w&&d[g]!==p[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==p[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==p[w]){var E=`
`+d[g].replace(" at new "," at ");return r.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",r.displayName)),E}while(1<=g&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?M(r):""}function pe(r){switch(r.tag){case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return r=ce(r.type,!1),r;case 11:return r=ce(r.type.render,!1),r;case 1:return r=ce(r.type,!0),r;default:return""}}function me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case se:return"Fragment";case J:return"Portal";case fe:return"Profiler";case ee:return"StrictMode";case vt:return"Suspense";case Ft:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Rt:return(r.displayName||"Context")+".Consumer";case De:return(r._context.displayName||"Context")+".Provider";case Yt:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Jt:return i=r.displayName||null,i!==null?i:me(r.type)||"Memo";case dt:i=r._payload,r=r._init;try{return me(r(i))}catch{}}return null}function Se(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ye(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(r){var i=Pe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(g){u=""+g,p.call(this,g)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(g){u=""+g},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ao(r){r._valueTracker||(r._valueTracker=wt(r))}function mh(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=Pe(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function Oo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function tu(r,i){var l=i.checked;return G({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function gh(r,i){var l=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;l=ye(i.value!=null?i.value:l),r._wrapperState={initialChecked:u,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function _h(r,i){i=i.checked,i!=null&&L(r,"checked",i,!1)}function nu(r,i){_h(r,i);var l=ye(i.value),u=i.type;if(l!=null)u==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?ru(r,i.type,l):i.hasOwnProperty("defaultValue")&&ru(r,i.type,ye(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function yh(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ru(r,i,l){(i!=="number"||Oo(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ki=Array.isArray;function Yr(r,i,l,u){if(r=r.options,i){i={};for(var d=0;d<l.length;d++)i["$"+l[d]]=!0;for(l=0;l<r.length;l++)d=i.hasOwnProperty("$"+r[l].value),r[l].selected!==d&&(r[l].selected=d),d&&u&&(r[l].defaultSelected=!0)}else{for(l=""+ye(l),i=null,d=0;d<r.length;d++){if(r[d].value===l){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function iu(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function vh(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Ki(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:ye(l)}}function wh(r,i){var l=ye(i.value),u=ye(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),u!=null&&(r.defaultValue=""+u)}function Eh(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Sh(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function su(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Sh(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Do,Ch=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,u,d){MSApp.execUnsafeLocalFunction(function(){return r(i,l,u,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Do=Do||document.createElement("div"),Do.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Do.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function qi(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fw=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(r){Fw.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Qi[i]=Qi[r]})});function Ih(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Qi.hasOwnProperty(r)&&Qi[r]?(""+i).trim():i+"px"}function kh(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var u=l.indexOf("--")===0,d=Ih(l,i[l],u);l==="float"&&(l="cssFloat"),u?r.setProperty(l,d):r[l]=d}}var Uw=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ou(r,i){if(i){if(Uw[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function lu(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=null;function uu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var cu=null,Jr=null,Xr=null;function Th(r){if(r=_s(r)){if(typeof cu!="function")throw Error(n(280));var i=r.stateNode;i&&(i=nl(i),cu(r.stateNode,r.type,i))}}function Rh(r){Jr?Xr?Xr.push(r):Xr=[r]:Jr=r}function Ph(){if(Jr){var r=Jr,i=Xr;if(Xr=Jr=null,Th(r),i)for(r=0;r<i.length;r++)Th(i[r])}}function Nh(r,i){return r(i)}function xh(){}var du=!1;function Ah(r,i,l){if(du)return r(i,l);du=!0;try{return Nh(r,i,l)}finally{du=!1,(Jr!==null||Xr!==null)&&(xh(),Ph())}}function Yi(r,i){var l=r.stateNode;if(l===null)return null;var u=nl(l);if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var fu=!1;if(f)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){fu=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{fu=!1}function jw(r,i,l,u,d,p,g,w,E){var P=Array.prototype.slice.call(arguments,3);try{i.apply(l,P)}catch(F){this.onError(F)}}var Xi=!1,bo=null,Lo=!1,hu=null,zw={onError:function(r){Xi=!0,bo=r}};function Ww(r,i,l,u,d,p,g,w,E){Xi=!1,bo=null,jw.apply(zw,arguments)}function Bw(r,i,l,u,d,p,g,w,E){if(Ww.apply(this,arguments),Xi){if(Xi){var P=bo;Xi=!1,bo=null}else throw Error(n(198));Lo||(Lo=!0,hu=P)}}function vr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Oh(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Dh(r){if(vr(r)!==r)throw Error(n(188))}function $w(r){var i=r.alternate;if(!i){if(i=vr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return Dh(d),r;if(p===u)return Dh(d),i;p=p.sibling}throw Error(n(188))}if(l.return!==u.return)l=d,u=p;else{for(var g=!1,w=d.child;w;){if(w===l){g=!0,l=d,u=p;break}if(w===u){g=!0,u=d,l=p;break}w=w.sibling}if(!g){for(w=p.child;w;){if(w===l){g=!0,l=p,u=d;break}if(w===u){g=!0,u=p,l=d;break}w=w.sibling}if(!g)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function bh(r){return r=$w(r),r!==null?Lh(r):null}function Lh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Lh(r);if(i!==null)return i;r=r.sibling}return null}var Mh=e.unstable_scheduleCallback,Fh=e.unstable_cancelCallback,Hw=e.unstable_shouldYield,Vw=e.unstable_requestPaint,Ue=e.unstable_now,Gw=e.unstable_getCurrentPriorityLevel,pu=e.unstable_ImmediatePriority,Uh=e.unstable_UserBlockingPriority,Mo=e.unstable_NormalPriority,Kw=e.unstable_LowPriority,jh=e.unstable_IdlePriority,Fo=null,Xt=null;function qw(r){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Fo,r,void 0,(r.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Jw,Qw=Math.log,Yw=Math.LN2;function Jw(r){return r>>>=0,r===0?32:31-(Qw(r)/Yw|0)|0}var Uo=64,jo=4194304;function Zi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zo(r,i){var l=r.pendingLanes;if(l===0)return 0;var u=0,d=r.suspendedLanes,p=r.pingedLanes,g=l&268435455;if(g!==0){var w=g&~d;w!==0?u=Zi(w):(p&=g,p!==0&&(u=Zi(p)))}else g=l&~d,g!==0?u=Zi(g):p!==0&&(u=Zi(p));if(u===0)return 0;if(i!==0&&i!==u&&!(i&d)&&(d=u&-u,p=i&-i,d>=p||d===16&&(p&4194240)!==0))return i;if(u&4&&(u|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=u;0<i;)l=31-Ut(i),d=1<<l,u|=r[l],i&=~d;return u}function Xw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zw(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes;0<p;){var g=31-Ut(p),w=1<<g,E=d[g];E===-1?(!(w&l)||w&u)&&(d[g]=Xw(w,i)):E<=i&&(r.expiredLanes|=w),p&=~w}}function mu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zh(){var r=Uo;return Uo<<=1,!(Uo&4194240)&&(Uo=64),r}function gu(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function es(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Ut(i),r[i]=l}function eE(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<l;){var d=31-Ut(l),p=1<<d;i[d]=0,u[d]=-1,r[d]=-1,l&=~p}}function _u(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-Ut(l),d=1<<u;d&i|r[u]&i&&(r[u]|=i),l&=~d}}var ve=0;function Wh(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Bh,yu,$h,Hh,Vh,vu=!1,Wo=[],An=null,On=null,Dn=null,ts=new Map,ns=new Map,bn=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(r,i){switch(r){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":ts.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(i.pointerId)}}function rs(r,i,l,u,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},i!==null&&(i=_s(i),i!==null&&yu(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function nE(r,i,l,u,d){switch(i){case"focusin":return An=rs(An,r,i,l,u,d),!0;case"dragenter":return On=rs(On,r,i,l,u,d),!0;case"mouseover":return Dn=rs(Dn,r,i,l,u,d),!0;case"pointerover":var p=d.pointerId;return ts.set(p,rs(ts.get(p)||null,r,i,l,u,d)),!0;case"gotpointercapture":return p=d.pointerId,ns.set(p,rs(ns.get(p)||null,r,i,l,u,d)),!0}return!1}function Kh(r){var i=wr(r.target);if(i!==null){var l=vr(i);if(l!==null){if(i=l.tag,i===13){if(i=Oh(l),i!==null){r.blockedOn=i,Vh(r.priority,function(){$h(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Bo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=Eu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);au=u,l.target.dispatchEvent(u),au=null}else return i=_s(l),i!==null&&yu(i),r.blockedOn=l,!1;i.shift()}return!0}function qh(r,i,l){Bo(r)&&l.delete(i)}function rE(){vu=!1,An!==null&&Bo(An)&&(An=null),On!==null&&Bo(On)&&(On=null),Dn!==null&&Bo(Dn)&&(Dn=null),ts.forEach(qh),ns.forEach(qh)}function is(r,i){r.blockedOn===i&&(r.blockedOn=null,vu||(vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rE)))}function ss(r){function i(d){return is(d,r)}if(0<Wo.length){is(Wo[0],r);for(var l=1;l<Wo.length;l++){var u=Wo[l];u.blockedOn===r&&(u.blockedOn=null)}}for(An!==null&&is(An,r),On!==null&&is(On,r),Dn!==null&&is(Dn,r),ts.forEach(i),ns.forEach(i),l=0;l<bn.length;l++)u=bn[l],u.blockedOn===r&&(u.blockedOn=null);for(;0<bn.length&&(l=bn[0],l.blockedOn===null);)Kh(l),l.blockedOn===null&&bn.shift()}var Zr=B.ReactCurrentBatchConfig,$o=!0;function iE(r,i,l,u){var d=ve,p=Zr.transition;Zr.transition=null;try{ve=1,wu(r,i,l,u)}finally{ve=d,Zr.transition=p}}function sE(r,i,l,u){var d=ve,p=Zr.transition;Zr.transition=null;try{ve=4,wu(r,i,l,u)}finally{ve=d,Zr.transition=p}}function wu(r,i,l,u){if($o){var d=Eu(r,i,l,u);if(d===null)Uu(r,i,u,Ho,l),Gh(r,u);else if(nE(d,r,i,l,u))u.stopPropagation();else if(Gh(r,u),i&4&&-1<tE.indexOf(r)){for(;d!==null;){var p=_s(d);if(p!==null&&Bh(p),p=Eu(r,i,l,u),p===null&&Uu(r,i,u,Ho,l),p===d)break;d=p}d!==null&&u.stopPropagation()}else Uu(r,i,u,null,l)}}var Ho=null;function Eu(r,i,l,u){if(Ho=null,r=uu(u),r=wr(r),r!==null)if(i=vr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Oh(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Ho=r,null}function Qh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gw()){case pu:return 1;case Uh:return 4;case Mo:case Kw:return 16;case jh:return 536870912;default:return 16}default:return 16}}var Ln=null,Su=null,Vo=null;function Yh(){if(Vo)return Vo;var r,i=Su,l=i.length,u,d="value"in Ln?Ln.value:Ln.textContent,p=d.length;for(r=0;r<l&&i[r]===d[r];r++);var g=l-r;for(u=1;u<=g&&i[l-u]===d[p-u];u++);return Vo=d.slice(r,1<u?1-u:void 0)}function Go(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ko(){return!0}function Jh(){return!1}function Et(r){function i(l,u,d,p,g){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=g,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(l=r[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ko:Jh,this.isPropagationStopped=Jh,this}return G(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),i}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=Et(ei),os=G({},ei,{view:0,detail:0}),oE=Et(os),Iu,ku,ls,qo=G({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ls&&(ls&&r.type==="mousemove"?(Iu=r.screenX-ls.screenX,ku=r.screenY-ls.screenY):ku=Iu=0,ls=r),Iu)},movementY:function(r){return"movementY"in r?r.movementY:ku}}),Xh=Et(qo),lE=G({},qo,{dataTransfer:0}),aE=Et(lE),uE=G({},os,{relatedTarget:0}),Tu=Et(uE),cE=G({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),dE=Et(cE),fE=G({},ei,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hE=Et(fE),pE=G({},ei,{data:0}),Zh=Et(pE),mE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_E={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yE(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=_E[r])?!!i[r]:!1}function Ru(){return yE}var vE=G({},os,{key:function(r){if(r.key){var i=mE[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(r){return r.type==="keypress"?Go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),wE=Et(vE),EE=G({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ep=Et(EE),SE=G({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),CE=Et(SE),IE=G({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),kE=Et(IE),TE=G({},qo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),RE=Et(TE),PE=[9,13,27,32],Pu=f&&"CompositionEvent"in window,as=null;f&&"documentMode"in document&&(as=document.documentMode);var NE=f&&"TextEvent"in window&&!as,tp=f&&(!Pu||as&&8<as&&11>=as),np=" ",rp=!1;function ip(r,i){switch(r){case"keyup":return PE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ti=!1;function xE(r,i){switch(r){case"compositionend":return sp(i);case"keypress":return i.which!==32?null:(rp=!0,np);case"textInput":return r=i.data,r===np&&rp?null:r;default:return null}}function AE(r,i){if(ti)return r==="compositionend"||!Pu&&ip(r,i)?(r=Yh(),Vo=Su=Ln=null,ti=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return tp&&i.locale!=="ko"?null:i.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!OE[r.type]:i==="textarea"}function lp(r,i,l,u){Rh(u),i=Zo(i,"onChange"),0<i.length&&(l=new Cu("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var us=null,cs=null;function DE(r){kp(r,0)}function Qo(r){var i=oi(r);if(mh(i))return r}function bE(r,i){if(r==="change")return i}var ap=!1;if(f){var Nu;if(f){var xu="oninput"in document;if(!xu){var up=document.createElement("div");up.setAttribute("oninput","return;"),xu=typeof up.oninput=="function"}Nu=xu}else Nu=!1;ap=Nu&&(!document.documentMode||9<document.documentMode)}function cp(){us&&(us.detachEvent("onpropertychange",dp),cs=us=null)}function dp(r){if(r.propertyName==="value"&&Qo(cs)){var i=[];lp(i,cs,r,uu(r)),Ah(DE,i)}}function LE(r,i,l){r==="focusin"?(cp(),us=i,cs=l,us.attachEvent("onpropertychange",dp)):r==="focusout"&&cp()}function ME(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qo(cs)}function FE(r,i){if(r==="click")return Qo(i)}function UE(r,i){if(r==="input"||r==="change")return Qo(i)}function jE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var jt=typeof Object.is=="function"?Object.is:jE;function ds(r,i){if(jt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!h.call(i,d)||!jt(r[d],i[d]))return!1}return!0}function fp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hp(r,i){var l=fp(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fp(l)}}function pp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?pp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function mp(){for(var r=window,i=Oo();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Oo(r.document)}return i}function Au(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function zE(r){var i=mp(),l=r.focusedElem,u=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&pp(l.ownerDocument.documentElement,l)){if(u!==null&&Au(l)){if(i=u.start,r=u.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=l.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!r.extend&&p>u&&(d=u,u=p,p=d),d=hp(l,p);var g=hp(l,u);d&&g&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==g.node||r.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),p>u?(r.addRange(i),r.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var WE=f&&"documentMode"in document&&11>=document.documentMode,ni=null,Ou=null,fs=null,Du=!1;function gp(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Du||ni==null||ni!==Oo(u)||(u=ni,"selectionStart"in u&&Au(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fs&&ds(fs,u)||(fs=u,u=Zo(Ou,"onSelect"),0<u.length&&(i=new Cu("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=ni)))}function Yo(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var ri={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},bu={},_p={};f&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Jo(r){if(bu[r])return bu[r];if(!ri[r])return r;var i=ri[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in _p)return bu[r]=i[l];return r}var yp=Jo("animationend"),vp=Jo("animationiteration"),wp=Jo("animationstart"),Ep=Jo("transitionend"),Sp=new Map,Cp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(r,i){Sp.set(r,i),a(i,[r])}for(var Lu=0;Lu<Cp.length;Lu++){var Mu=Cp[Lu],BE=Mu.toLowerCase(),$E=Mu[0].toUpperCase()+Mu.slice(1);Mn(BE,"on"+$E)}Mn(yp,"onAnimationEnd"),Mn(vp,"onAnimationIteration"),Mn(wp,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Ep,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function Ip(r,i,l){var u=r.type||"unknown-event";r.currentTarget=l,Bw(u,i,void 0,r),r.currentTarget=null}function kp(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],d=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var g=u.length-1;0<=g;g--){var w=u[g],E=w.instance,P=w.currentTarget;if(w=w.listener,E!==p&&d.isPropagationStopped())break e;Ip(d,w,P),p=E}else for(g=0;g<u.length;g++){if(w=u[g],E=w.instance,P=w.currentTarget,w=w.listener,E!==p&&d.isPropagationStopped())break e;Ip(d,w,P),p=E}}}if(Lo)throw r=hu,Lo=!1,hu=null,r}function Te(r,i){var l=i[Hu];l===void 0&&(l=i[Hu]=new Set);var u=r+"__bubble";l.has(u)||(Tp(i,r,2,!1),l.add(u))}function Fu(r,i,l){var u=0;i&&(u|=4),Tp(l,r,u,i)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function ps(r){if(!r[Xo]){r[Xo]=!0,s.forEach(function(l){l!=="selectionchange"&&(HE.has(l)||Fu(l,!1,r),Fu(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Xo]||(i[Xo]=!0,Fu("selectionchange",!1,i))}}function Tp(r,i,l,u){switch(Qh(i)){case 1:var d=iE;break;case 4:d=sE;break;default:d=wu}l=d.bind(null,i,l,r),d=void 0,!fu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(i,l,{capture:!0,passive:d}):r.addEventListener(i,l,!0):d!==void 0?r.addEventListener(i,l,{passive:d}):r.addEventListener(i,l,!1)}function Uu(r,i,l,u,d){var p=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var g=u.tag;if(g===3||g===4){var w=u.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=u.return;g!==null;){var E=g.tag;if((E===3||E===4)&&(E=g.stateNode.containerInfo,E===d||E.nodeType===8&&E.parentNode===d))return;g=g.return}for(;w!==null;){if(g=wr(w),g===null)return;if(E=g.tag,E===5||E===6){u=p=g;continue e}w=w.parentNode}}u=u.return}Ah(function(){var P=p,F=uu(l),U=[];e:{var D=Sp.get(r);if(D!==void 0){var H=Cu,K=r;switch(r){case"keypress":if(Go(l)===0)break e;case"keydown":case"keyup":H=wE;break;case"focusin":K="focus",H=Tu;break;case"focusout":K="blur",H=Tu;break;case"beforeblur":case"afterblur":H=Tu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=aE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=CE;break;case yp:case vp:case wp:H=dE;break;case Ep:H=kE;break;case"scroll":H=oE;break;case"wheel":H=RE;break;case"copy":case"cut":case"paste":H=hE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ep}var q=(i&4)!==0,je=!q&&r==="scroll",T=q?D!==null?D+"Capture":null:D;q=[];for(var S=P,R;S!==null;){R=S;var j=R.stateNode;if(R.tag===5&&j!==null&&(R=j,T!==null&&(j=Yi(S,T),j!=null&&q.push(ms(S,j,R)))),je)break;S=S.return}0<q.length&&(D=new H(D,K,null,l,F),U.push({event:D,listeners:q}))}}if(!(i&7)){e:{if(D=r==="mouseover"||r==="pointerover",H=r==="mouseout"||r==="pointerout",D&&l!==au&&(K=l.relatedTarget||l.fromElement)&&(wr(K)||K[cn]))break e;if((H||D)&&(D=F.window===F?F:(D=F.ownerDocument)?D.defaultView||D.parentWindow:window,H?(K=l.relatedTarget||l.toElement,H=P,K=K?wr(K):null,K!==null&&(je=vr(K),K!==je||K.tag!==5&&K.tag!==6)&&(K=null)):(H=null,K=P),H!==K)){if(q=Xh,j="onMouseLeave",T="onMouseEnter",S="mouse",(r==="pointerout"||r==="pointerover")&&(q=ep,j="onPointerLeave",T="onPointerEnter",S="pointer"),je=H==null?D:oi(H),R=K==null?D:oi(K),D=new q(j,S+"leave",H,l,F),D.target=je,D.relatedTarget=R,j=null,wr(F)===P&&(q=new q(T,S+"enter",K,l,F),q.target=R,q.relatedTarget=je,j=q),je=j,H&&K)t:{for(q=H,T=K,S=0,R=q;R;R=ii(R))S++;for(R=0,j=T;j;j=ii(j))R++;for(;0<S-R;)q=ii(q),S--;for(;0<R-S;)T=ii(T),R--;for(;S--;){if(q===T||T!==null&&q===T.alternate)break t;q=ii(q),T=ii(T)}q=null}else q=null;H!==null&&Rp(U,D,H,q,!1),K!==null&&je!==null&&Rp(U,je,K,q,!0)}}e:{if(D=P?oi(P):window,H=D.nodeName&&D.nodeName.toLowerCase(),H==="select"||H==="input"&&D.type==="file")var Q=bE;else if(op(D))if(ap)Q=UE;else{Q=ME;var X=LE}else(H=D.nodeName)&&H.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(Q=FE);if(Q&&(Q=Q(r,P))){lp(U,Q,l,F);break e}X&&X(r,D,P),r==="focusout"&&(X=D._wrapperState)&&X.controlled&&D.type==="number"&&ru(D,"number",D.value)}switch(X=P?oi(P):window,r){case"focusin":(op(X)||X.contentEditable==="true")&&(ni=X,Ou=P,fs=null);break;case"focusout":fs=Ou=ni=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,gp(U,l,F);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":gp(U,l,F)}var Z;if(Pu)e:{switch(r){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else ti?ip(r,l)&&(ie="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ie="onCompositionStart");ie&&(tp&&l.locale!=="ko"&&(ti||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ti&&(Z=Yh()):(Ln=F,Su="value"in Ln?Ln.value:Ln.textContent,ti=!0)),X=Zo(P,ie),0<X.length&&(ie=new Zh(ie,r,null,l,F),U.push({event:ie,listeners:X}),Z?ie.data=Z:(Z=sp(l),Z!==null&&(ie.data=Z)))),(Z=NE?xE(r,l):AE(r,l))&&(P=Zo(P,"onBeforeInput"),0<P.length&&(F=new Zh("onBeforeInput","beforeinput",null,l,F),U.push({event:F,listeners:P}),F.data=Z))}kp(U,i)})}function ms(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Zo(r,i){for(var l=i+"Capture",u=[];r!==null;){var d=r,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Yi(r,l),p!=null&&u.unshift(ms(r,p,d)),p=Yi(r,i),p!=null&&u.push(ms(r,p,d))),r=r.return}return u}function ii(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rp(r,i,l,u,d){for(var p=i._reactName,g=[];l!==null&&l!==u;){var w=l,E=w.alternate,P=w.stateNode;if(E!==null&&E===u)break;w.tag===5&&P!==null&&(w=P,d?(E=Yi(l,p),E!=null&&g.unshift(ms(l,E,w))):d||(E=Yi(l,p),E!=null&&g.push(ms(l,E,w)))),l=l.return}g.length!==0&&r.push({event:i,listeners:g})}var VE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function Pp(r){return(typeof r=="string"?r:""+r).replace(VE,`
`).replace(GE,"")}function el(r,i,l){if(i=Pp(i),Pp(r)!==i&&l)throw Error(n(425))}function tl(){}var ju=null,zu=null;function Wu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,Np=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof Np<"u"?function(r){return Np.resolve(null).then(r).catch(QE)}:Bu;function QE(r){setTimeout(function(){throw r})}function $u(r,i){var l=i,u=0;do{var d=l.nextSibling;if(r.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(u===0){r.removeChild(d),ss(i);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=d}while(l);ss(i)}function Fn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function xp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var si=Math.random().toString(36).slice(2),Zt="__reactFiber$"+si,gs="__reactProps$"+si,cn="__reactContainer$"+si,Hu="__reactEvents$"+si,YE="__reactListeners$"+si,JE="__reactHandles$"+si;function wr(r){var i=r[Zt];if(i)return i;for(var l=r.parentNode;l;){if(i=l[cn]||l[Zt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=xp(r);r!==null;){if(l=r[Zt])return l;r=xp(r)}return i}r=l,l=r.parentNode}return null}function _s(r){return r=r[Zt]||r[cn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function oi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function nl(r){return r[gs]||null}var Vu=[],li=-1;function Un(r){return{current:r}}function Re(r){0>li||(r.current=Vu[li],Vu[li]=null,li--)}function Ce(r,i){li++,Vu[li]=r.current,r.current=i}var jn={},tt=Un(jn),ft=Un(!1),Er=jn;function ai(r,i){var l=r.type.contextTypes;if(!l)return jn;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in l)d[p]=i[p];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function ht(r){return r=r.childContextTypes,r!=null}function rl(){Re(ft),Re(tt)}function Ap(r,i,l){if(tt.current!==jn)throw Error(n(168));Ce(tt,i),Ce(ft,l)}function Op(r,i,l){var u=r.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var d in u)if(!(d in i))throw Error(n(108,Se(r)||"Unknown",d));return G({},l,u)}function il(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||jn,Er=tt.current,Ce(tt,r),Ce(ft,ft.current),!0}function Dp(r,i,l){var u=r.stateNode;if(!u)throw Error(n(169));l?(r=Op(r,i,Er),u.__reactInternalMemoizedMergedChildContext=r,Re(ft),Re(tt),Ce(tt,r)):Re(ft),Ce(ft,l)}var dn=null,sl=!1,Gu=!1;function bp(r){dn===null?dn=[r]:dn.push(r)}function XE(r){sl=!0,bp(r)}function zn(){if(!Gu&&dn!==null){Gu=!0;var r=0,i=ve;try{var l=dn;for(ve=1;r<l.length;r++){var u=l[r];do u=u(!0);while(u!==null)}dn=null,sl=!1}catch(d){throw dn!==null&&(dn=dn.slice(r+1)),Mh(pu,zn),d}finally{ve=i,Gu=!1}}return null}var ui=[],ci=0,ol=null,ll=0,Pt=[],Nt=0,Sr=null,fn=1,hn="";function Cr(r,i){ui[ci++]=ll,ui[ci++]=ol,ol=r,ll=i}function Lp(r,i,l){Pt[Nt++]=fn,Pt[Nt++]=hn,Pt[Nt++]=Sr,Sr=r;var u=fn;r=hn;var d=32-Ut(u)-1;u&=~(1<<d),l+=1;var p=32-Ut(i)+d;if(30<p){var g=d-d%5;p=(u&(1<<g)-1).toString(32),u>>=g,d-=g,fn=1<<32-Ut(i)+d|l<<d|u,hn=p+r}else fn=1<<p|l<<d|u,hn=r}function Ku(r){r.return!==null&&(Cr(r,1),Lp(r,1,0))}function qu(r){for(;r===ol;)ol=ui[--ci],ui[ci]=null,ll=ui[--ci],ui[ci]=null;for(;r===Sr;)Sr=Pt[--Nt],Pt[Nt]=null,hn=Pt[--Nt],Pt[Nt]=null,fn=Pt[--Nt],Pt[Nt]=null}var St=null,Ct=null,Ne=!1,zt=null;function Mp(r,i){var l=Dt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Fp(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,St=r,Ct=Fn(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,St=r,Ct=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Sr!==null?{id:fn,overflow:hn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Dt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,St=r,Ct=null,!0):!1;default:return!1}}function Qu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Yu(r){if(Ne){var i=Ct;if(i){var l=i;if(!Fp(r,i)){if(Qu(r))throw Error(n(418));i=Fn(l.nextSibling);var u=St;i&&Fp(r,i)?Mp(u,l):(r.flags=r.flags&-4097|2,Ne=!1,St=r)}}else{if(Qu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ne=!1,St=r}}}function Up(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;St=r}function al(r){if(r!==St)return!1;if(!Ne)return Up(r),Ne=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Wu(r.type,r.memoizedProps)),i&&(i=Ct)){if(Qu(r))throw jp(),Error(n(418));for(;i;)Mp(r,i),i=Fn(i.nextSibling)}if(Up(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Ct=Fn(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Ct=null}}else Ct=St?Fn(r.stateNode.nextSibling):null;return!0}function jp(){for(var r=Ct;r;)r=Fn(r.nextSibling)}function di(){Ct=St=null,Ne=!1}function Ju(r){zt===null?zt=[r]:zt.push(r)}var ZE=B.ReactCurrentBatchConfig;function ys(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var u=l.stateNode}if(!u)throw Error(n(147,r));var d=u,p=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(g){var w=d.refs;g===null?delete w[p]:w[p]=g},i._stringRef=p,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function ul(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function zp(r){var i=r._init;return i(r._payload)}function Wp(r){function i(T,S){if(r){var R=T.deletions;R===null?(T.deletions=[S],T.flags|=16):R.push(S)}}function l(T,S){if(!r)return null;for(;S!==null;)i(T,S),S=S.sibling;return null}function u(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function d(T,S){return T=qn(T,S),T.index=0,T.sibling=null,T}function p(T,S,R){return T.index=R,r?(R=T.alternate,R!==null?(R=R.index,R<S?(T.flags|=2,S):R):(T.flags|=2,S)):(T.flags|=1048576,S)}function g(T){return r&&T.alternate===null&&(T.flags|=2),T}function w(T,S,R,j){return S===null||S.tag!==6?(S=Bc(R,T.mode,j),S.return=T,S):(S=d(S,R),S.return=T,S)}function E(T,S,R,j){var Q=R.type;return Q===se?F(T,S,R.props.children,j,R.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===dt&&zp(Q)===S.type)?(j=d(S,R.props),j.ref=ys(T,S,R),j.return=T,j):(j=Dl(R.type,R.key,R.props,null,T.mode,j),j.ref=ys(T,S,R),j.return=T,j)}function P(T,S,R,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==R.containerInfo||S.stateNode.implementation!==R.implementation?(S=$c(R,T.mode,j),S.return=T,S):(S=d(S,R.children||[]),S.return=T,S)}function F(T,S,R,j,Q){return S===null||S.tag!==7?(S=Ar(R,T.mode,j,Q),S.return=T,S):(S=d(S,R),S.return=T,S)}function U(T,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Bc(""+S,T.mode,R),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Y:return R=Dl(S.type,S.key,S.props,null,T.mode,R),R.ref=ys(T,null,S),R.return=T,R;case J:return S=$c(S,T.mode,R),S.return=T,S;case dt:var j=S._init;return U(T,j(S._payload),R)}if(Ki(S)||te(S))return S=Ar(S,T.mode,R,null),S.return=T,S;ul(T,S)}return null}function D(T,S,R,j){var Q=S!==null?S.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Q!==null?null:w(T,S,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Y:return R.key===Q?E(T,S,R,j):null;case J:return R.key===Q?P(T,S,R,j):null;case dt:return Q=R._init,D(T,S,Q(R._payload),j)}if(Ki(R)||te(R))return Q!==null?null:F(T,S,R,j,null);ul(T,R)}return null}function H(T,S,R,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(R)||null,w(S,T,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return T=T.get(j.key===null?R:j.key)||null,E(S,T,j,Q);case J:return T=T.get(j.key===null?R:j.key)||null,P(S,T,j,Q);case dt:var X=j._init;return H(T,S,R,X(j._payload),Q)}if(Ki(j)||te(j))return T=T.get(R)||null,F(S,T,j,Q,null);ul(S,j)}return null}function K(T,S,R,j){for(var Q=null,X=null,Z=S,ie=S=0,Ke=null;Z!==null&&ie<R.length;ie++){Z.index>ie?(Ke=Z,Z=null):Ke=Z.sibling;var ge=D(T,Z,R[ie],j);if(ge===null){Z===null&&(Z=Ke);break}r&&Z&&ge.alternate===null&&i(T,Z),S=p(ge,S,ie),X===null?Q=ge:X.sibling=ge,X=ge,Z=Ke}if(ie===R.length)return l(T,Z),Ne&&Cr(T,ie),Q;if(Z===null){for(;ie<R.length;ie++)Z=U(T,R[ie],j),Z!==null&&(S=p(Z,S,ie),X===null?Q=Z:X.sibling=Z,X=Z);return Ne&&Cr(T,ie),Q}for(Z=u(T,Z);ie<R.length;ie++)Ke=H(Z,T,ie,R[ie],j),Ke!==null&&(r&&Ke.alternate!==null&&Z.delete(Ke.key===null?ie:Ke.key),S=p(Ke,S,ie),X===null?Q=Ke:X.sibling=Ke,X=Ke);return r&&Z.forEach(function(Qn){return i(T,Qn)}),Ne&&Cr(T,ie),Q}function q(T,S,R,j){var Q=te(R);if(typeof Q!="function")throw Error(n(150));if(R=Q.call(R),R==null)throw Error(n(151));for(var X=Q=null,Z=S,ie=S=0,Ke=null,ge=R.next();Z!==null&&!ge.done;ie++,ge=R.next()){Z.index>ie?(Ke=Z,Z=null):Ke=Z.sibling;var Qn=D(T,Z,ge.value,j);if(Qn===null){Z===null&&(Z=Ke);break}r&&Z&&Qn.alternate===null&&i(T,Z),S=p(Qn,S,ie),X===null?Q=Qn:X.sibling=Qn,X=Qn,Z=Ke}if(ge.done)return l(T,Z),Ne&&Cr(T,ie),Q;if(Z===null){for(;!ge.done;ie++,ge=R.next())ge=U(T,ge.value,j),ge!==null&&(S=p(ge,S,ie),X===null?Q=ge:X.sibling=ge,X=ge);return Ne&&Cr(T,ie),Q}for(Z=u(T,Z);!ge.done;ie++,ge=R.next())ge=H(Z,T,ie,ge.value,j),ge!==null&&(r&&ge.alternate!==null&&Z.delete(ge.key===null?ie:ge.key),S=p(ge,S,ie),X===null?Q=ge:X.sibling=ge,X=ge);return r&&Z.forEach(function(AS){return i(T,AS)}),Ne&&Cr(T,ie),Q}function je(T,S,R,j){if(typeof R=="object"&&R!==null&&R.type===se&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Y:e:{for(var Q=R.key,X=S;X!==null;){if(X.key===Q){if(Q=R.type,Q===se){if(X.tag===7){l(T,X.sibling),S=d(X,R.props.children),S.return=T,T=S;break e}}else if(X.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===dt&&zp(Q)===X.type){l(T,X.sibling),S=d(X,R.props),S.ref=ys(T,X,R),S.return=T,T=S;break e}l(T,X);break}else i(T,X);X=X.sibling}R.type===se?(S=Ar(R.props.children,T.mode,j,R.key),S.return=T,T=S):(j=Dl(R.type,R.key,R.props,null,T.mode,j),j.ref=ys(T,S,R),j.return=T,T=j)}return g(T);case J:e:{for(X=R.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===R.containerInfo&&S.stateNode.implementation===R.implementation){l(T,S.sibling),S=d(S,R.children||[]),S.return=T,T=S;break e}else{l(T,S);break}else i(T,S);S=S.sibling}S=$c(R,T.mode,j),S.return=T,T=S}return g(T);case dt:return X=R._init,je(T,S,X(R._payload),j)}if(Ki(R))return K(T,S,R,j);if(te(R))return q(T,S,R,j);ul(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,S!==null&&S.tag===6?(l(T,S.sibling),S=d(S,R),S.return=T,T=S):(l(T,S),S=Bc(R,T.mode,j),S.return=T,T=S),g(T)):l(T,S)}return je}var fi=Wp(!0),Bp=Wp(!1),cl=Un(null),dl=null,hi=null,Xu=null;function Zu(){Xu=hi=dl=null}function ec(r){var i=cl.current;Re(cl),r._currentValue=i}function tc(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function pi(r,i){dl=r,Xu=hi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(pt=!0),r.firstContext=null)}function xt(r){var i=r._currentValue;if(Xu!==r)if(r={context:r,memoizedValue:i,next:null},hi===null){if(dl===null)throw Error(n(308));hi=r,dl.dependencies={lanes:0,firstContext:r}}else hi=hi.next=r;return i}var Ir=null;function nc(r){Ir===null?Ir=[r]:Ir.push(r)}function $p(r,i,l,u){var d=i.interleaved;return d===null?(l.next=l,nc(i)):(l.next=d.next,d.next=l),i.interleaved=l,pn(r,u)}function pn(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Wn=!1;function rc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function mn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Bn(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,he&2){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,pn(r,l)}return d=u.interleaved,d===null?(i.next=i,nc(u)):(i.next=d.next,d.next=i),u.interleaved=i,pn(r,l)}function fl(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,_u(r,l)}}function Vp(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var g={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?d=p=g:p=p.next=g,l=l.next}while(l!==null);p===null?d=p=i:p=p.next=i}else d=p=i;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function hl(r,i,l,u){var d=r.updateQueue;Wn=!1;var p=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var E=w,P=E.next;E.next=null,g===null?p=P:g.next=P,g=E;var F=r.alternate;F!==null&&(F=F.updateQueue,w=F.lastBaseUpdate,w!==g&&(w===null?F.firstBaseUpdate=P:w.next=P,F.lastBaseUpdate=E))}if(p!==null){var U=d.baseState;g=0,F=P=E=null,w=p;do{var D=w.lane,H=w.eventTime;if((u&D)===D){F!==null&&(F=F.next={eventTime:H,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var K=r,q=w;switch(D=i,H=l,q.tag){case 1:if(K=q.payload,typeof K=="function"){U=K.call(H,U,D);break e}U=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=q.payload,D=typeof K=="function"?K.call(H,U,D):K,D==null)break e;U=G({},U,D);break e;case 2:Wn=!0}}w.callback!==null&&w.lane!==0&&(r.flags|=64,D=d.effects,D===null?d.effects=[w]:D.push(w))}else H={eventTime:H,lane:D,tag:w.tag,payload:w.payload,callback:w.callback,next:null},F===null?(P=F=H,E=U):F=F.next=H,g|=D;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;D=w,w=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);if(F===null&&(E=U),d.baseState=E,d.firstBaseUpdate=P,d.lastBaseUpdate=F,i=d.shared.interleaved,i!==null){d=i;do g|=d.lane,d=d.next;while(d!==i)}else p===null&&(d.shared.lanes=0);Rr|=g,r.lanes=g,r.memoizedState=U}}function Gp(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var u=r[i],d=u.callback;if(d!==null){if(u.callback=null,u=l,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var vs={},en=Un(vs),ws=Un(vs),Es=Un(vs);function kr(r){if(r===vs)throw Error(n(174));return r}function ic(r,i){switch(Ce(Es,i),Ce(ws,r),Ce(en,vs),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:su(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=su(i,r)}Re(en),Ce(en,i)}function mi(){Re(en),Re(ws),Re(Es)}function Kp(r){kr(Es.current);var i=kr(en.current),l=su(i,r.type);i!==l&&(Ce(ws,r),Ce(en,l))}function sc(r){ws.current===r&&(Re(en),Re(ws))}var Ae=Un(0);function pl(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var oc=[];function lc(){for(var r=0;r<oc.length;r++)oc[r]._workInProgressVersionPrimary=null;oc.length=0}var ml=B.ReactCurrentDispatcher,ac=B.ReactCurrentBatchConfig,Tr=0,Oe=null,We=null,Ve=null,gl=!1,Ss=!1,Cs=0,eS=0;function nt(){throw Error(n(321))}function uc(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!jt(r[l],i[l]))return!1;return!0}function cc(r,i,l,u,d,p){if(Tr=p,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ml.current=r===null||r.memoizedState===null?iS:sS,r=l(u,d),Ss){p=0;do{if(Ss=!1,Cs=0,25<=p)throw Error(n(301));p+=1,Ve=We=null,i.updateQueue=null,ml.current=oS,r=l(u,d)}while(Ss)}if(ml.current=vl,i=We!==null&&We.next!==null,Tr=0,Ve=We=Oe=null,gl=!1,i)throw Error(n(300));return r}function dc(){var r=Cs!==0;return Cs=0,r}function tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Oe.memoizedState=Ve=r:Ve=Ve.next=r,Ve}function At(){if(We===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var i=Ve===null?Oe.memoizedState:Ve.next;if(i!==null)Ve=i,We=r;else{if(r===null)throw Error(n(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ve===null?Oe.memoizedState=Ve=r:Ve=Ve.next=r}return Ve}function Is(r,i){return typeof i=="function"?i(r):i}function fc(r){var i=At(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=We,d=u.baseQueue,p=l.pending;if(p!==null){if(d!==null){var g=d.next;d.next=p.next,p.next=g}u.baseQueue=d=p,l.pending=null}if(d!==null){p=d.next,u=u.baseState;var w=g=null,E=null,P=p;do{var F=P.lane;if((Tr&F)===F)E!==null&&(E=E.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),u=P.hasEagerState?P.eagerState:r(u,P.action);else{var U={lane:F,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};E===null?(w=E=U,g=u):E=E.next=U,Oe.lanes|=F,Rr|=F}P=P.next}while(P!==null&&P!==p);E===null?g=u:E.next=w,jt(u,i.memoizedState)||(pt=!0),i.memoizedState=u,i.baseState=g,i.baseQueue=E,l.lastRenderedState=u}if(r=l.interleaved,r!==null){d=r;do p=d.lane,Oe.lanes|=p,Rr|=p,d=d.next;while(d!==r)}else d===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function hc(r){var i=At(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,d=l.pending,p=i.memoizedState;if(d!==null){l.pending=null;var g=d=d.next;do p=r(p,g.action),g=g.next;while(g!==d);jt(p,i.memoizedState)||(pt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),l.lastRenderedState=p}return[p,u]}function qp(){}function Qp(r,i){var l=Oe,u=At(),d=i(),p=!jt(u.memoizedState,d);if(p&&(u.memoizedState=d,pt=!0),u=u.queue,pc(Xp.bind(null,l,u,r),[r]),u.getSnapshot!==i||p||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,ks(9,Jp.bind(null,l,u,d,i),void 0,null),Ge===null)throw Error(n(349));Tr&30||Yp(l,i,d)}return d}function Yp(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Oe.updateQueue,i===null?(i={lastEffect:null,stores:null},Oe.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Jp(r,i,l,u){i.value=l,i.getSnapshot=u,Zp(i)&&em(r)}function Xp(r,i,l){return l(function(){Zp(i)&&em(r)})}function Zp(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!jt(r,l)}catch{return!0}}function em(r){var i=pn(r,1);i!==null&&Ht(i,r,1,-1)}function tm(r){var i=tn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:r},i.queue=r,r=r.dispatch=rS.bind(null,Oe,r),[i.memoizedState,r]}function ks(r,i,l,u){return r={tag:r,create:i,destroy:l,deps:u,next:null},i=Oe.updateQueue,i===null?(i={lastEffect:null,stores:null},Oe.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r)),r}function nm(){return At().memoizedState}function _l(r,i,l,u){var d=tn();Oe.flags|=r,d.memoizedState=ks(1|i,l,void 0,u===void 0?null:u)}function yl(r,i,l,u){var d=At();u=u===void 0?null:u;var p=void 0;if(We!==null){var g=We.memoizedState;if(p=g.destroy,u!==null&&uc(u,g.deps)){d.memoizedState=ks(i,l,p,u);return}}Oe.flags|=r,d.memoizedState=ks(1|i,l,p,u)}function rm(r,i){return _l(8390656,8,r,i)}function pc(r,i){return yl(2048,8,r,i)}function im(r,i){return yl(4,2,r,i)}function sm(r,i){return yl(4,4,r,i)}function om(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function lm(r,i,l){return l=l!=null?l.concat([r]):null,yl(4,4,om.bind(null,i,r),l)}function mc(){}function am(r,i){var l=At();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&uc(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function um(r,i){var l=At();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&uc(i,u[1])?u[0]:(r=r(),l.memoizedState=[r,i],r)}function cm(r,i,l){return Tr&21?(jt(l,i)||(l=zh(),Oe.lanes|=l,Rr|=l,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,pt=!0),r.memoizedState=l)}function tS(r,i){var l=ve;ve=l!==0&&4>l?l:4,r(!0);var u=ac.transition;ac.transition={};try{r(!1),i()}finally{ve=l,ac.transition=u}}function dm(){return At().memoizedState}function nS(r,i,l){var u=Gn(r);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},fm(r))hm(i,l);else if(l=$p(r,i,l,u),l!==null){var d=lt();Ht(l,r,u,d),pm(l,i,u)}}function rS(r,i,l){var u=Gn(r),d={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(fm(r))hm(i,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var g=i.lastRenderedState,w=p(g,l);if(d.hasEagerState=!0,d.eagerState=w,jt(w,g)){var E=i.interleaved;E===null?(d.next=d,nc(i)):(d.next=E.next,E.next=d),i.interleaved=d;return}}catch{}finally{}l=$p(r,i,d,u),l!==null&&(d=lt(),Ht(l,r,u,d),pm(l,i,u))}}function fm(r){var i=r.alternate;return r===Oe||i!==null&&i===Oe}function hm(r,i){Ss=gl=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function pm(r,i,l){if(l&4194240){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,_u(r,l)}}var vl={readContext:xt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},iS={readContext:xt,useCallback:function(r,i){return tn().memoizedState=[r,i===void 0?null:i],r},useContext:xt,useEffect:rm,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,_l(4194308,4,om.bind(null,i,r),l)},useLayoutEffect:function(r,i){return _l(4194308,4,r,i)},useInsertionEffect:function(r,i){return _l(4,2,r,i)},useMemo:function(r,i){var l=tn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var u=tn();return i=l!==void 0?l(i):i,u.memoizedState=u.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},u.queue=r,r=r.dispatch=nS.bind(null,Oe,r),[u.memoizedState,r]},useRef:function(r){var i=tn();return r={current:r},i.memoizedState=r},useState:tm,useDebugValue:mc,useDeferredValue:function(r){return tn().memoizedState=r},useTransition:function(){var r=tm(!1),i=r[0];return r=tS.bind(null,r[1]),tn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var u=Oe,d=tn();if(Ne){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Ge===null)throw Error(n(349));Tr&30||Yp(u,i,l)}d.memoizedState=l;var p={value:l,getSnapshot:i};return d.queue=p,rm(Xp.bind(null,u,p,r),[r]),u.flags|=2048,ks(9,Jp.bind(null,u,p,l,i),void 0,null),l},useId:function(){var r=tn(),i=Ge.identifierPrefix;if(Ne){var l=hn,u=fn;l=(u&~(1<<32-Ut(u)-1)).toString(32)+l,i=":"+i+"R"+l,l=Cs++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=eS++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},sS={readContext:xt,useCallback:am,useContext:xt,useEffect:pc,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:um,useReducer:fc,useRef:nm,useState:function(){return fc(Is)},useDebugValue:mc,useDeferredValue:function(r){var i=At();return cm(i,We.memoizedState,r)},useTransition:function(){var r=fc(Is)[0],i=At().memoizedState;return[r,i]},useMutableSource:qp,useSyncExternalStore:Qp,useId:dm,unstable_isNewReconciler:!1},oS={readContext:xt,useCallback:am,useContext:xt,useEffect:pc,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:um,useReducer:hc,useRef:nm,useState:function(){return hc(Is)},useDebugValue:mc,useDeferredValue:function(r){var i=At();return We===null?i.memoizedState=r:cm(i,We.memoizedState,r)},useTransition:function(){var r=hc(Is)[0],i=At().memoizedState;return[r,i]},useMutableSource:qp,useSyncExternalStore:Qp,useId:dm,unstable_isNewReconciler:!1};function Wt(r,i){if(r&&r.defaultProps){i=G({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function gc(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:G({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var wl={isMounted:function(r){return(r=r._reactInternals)?vr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var u=lt(),d=Gn(r),p=mn(u,d);p.payload=i,l!=null&&(p.callback=l),i=Bn(r,p,d),i!==null&&(Ht(i,r,d,u),fl(i,r,d))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=lt(),d=Gn(r),p=mn(u,d);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=Bn(r,p,d),i!==null&&(Ht(i,r,d,u),fl(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=lt(),u=Gn(r),d=mn(l,u);d.tag=2,i!=null&&(d.callback=i),i=Bn(r,d,u),i!==null&&(Ht(i,r,u,l),fl(i,r,u))}};function mm(r,i,l,u,d,p,g){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,g):i.prototype&&i.prototype.isPureReactComponent?!ds(l,u)||!ds(d,p):!0}function gm(r,i,l){var u=!1,d=jn,p=i.contextType;return typeof p=="object"&&p!==null?p=xt(p):(d=ht(i)?Er:tt.current,u=i.contextTypes,p=(u=u!=null)?ai(r,d):jn),i=new i(l,p),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wl,r.stateNode=i,i._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=p),i}function _m(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&wl.enqueueReplaceState(i,i.state,null)}function _c(r,i,l,u){var d=r.stateNode;d.props=l,d.state=r.memoizedState,d.refs={},rc(r);var p=i.contextType;typeof p=="object"&&p!==null?d.context=xt(p):(p=ht(i)?Er:tt.current,d.context=ai(r,p)),d.state=r.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(gc(r,i,p,l),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&wl.enqueueReplaceState(d,d.state,null),hl(r,l,d,u),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function gi(r,i){try{var l="",u=i;do l+=pe(u),u=u.return;while(u);var d=l}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:i,stack:d,digest:null}}function yc(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function vc(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var lS=typeof WeakMap=="function"?WeakMap:Map;function ym(r,i,l){l=mn(-1,l),l.tag=3,l.payload={element:null};var u=i.value;return l.callback=function(){Rl||(Rl=!0,bc=u),vc(r,i)},l}function vm(r,i,l){l=mn(-1,l),l.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;l.payload=function(){return u(d)},l.callback=function(){vc(r,i)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){vc(r,i),typeof u!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),l}function wm(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new lS;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(l)||(d.add(l),r=ES.bind(null,r,i,l),i.then(r,r))}function Em(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Sm(r,i,l,u,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=mn(-1,1),i.tag=2,Bn(l,i,1))),l.lanes|=1),r)}var aS=B.ReactCurrentOwner,pt=!1;function ot(r,i,l,u){i.child=r===null?Bp(i,null,l,u):fi(i,r.child,l,u)}function Cm(r,i,l,u,d){l=l.render;var p=i.ref;return pi(i,d),u=cc(r,i,l,u,p,d),l=dc(),r!==null&&!pt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,gn(r,i,d)):(Ne&&l&&Ku(i),i.flags|=1,ot(r,i,u,d),i.child)}function Im(r,i,l,u,d){if(r===null){var p=l.type;return typeof p=="function"&&!Wc(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=p,km(r,i,p,u,d)):(r=Dl(l.type,null,u,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!(r.lanes&d)){var g=p.memoizedProps;if(l=l.compare,l=l!==null?l:ds,l(g,u)&&r.ref===i.ref)return gn(r,i,d)}return i.flags|=1,r=qn(p,u),r.ref=i.ref,r.return=i,i.child=r}function km(r,i,l,u,d){if(r!==null){var p=r.memoizedProps;if(ds(p,u)&&r.ref===i.ref)if(pt=!1,i.pendingProps=u=p,(r.lanes&d)!==0)r.flags&131072&&(pt=!0);else return i.lanes=r.lanes,gn(r,i,d)}return wc(r,i,l,u,d)}function Tm(r,i,l){var u=i.pendingProps,d=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(yi,It),It|=l;else{if(!(l&1073741824))return r=p!==null?p.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ce(yi,It),It|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:l,Ce(yi,It),It|=u}else p!==null?(u=p.baseLanes|l,i.memoizedState=null):u=l,Ce(yi,It),It|=u;return ot(r,i,d,l),i.child}function Rm(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function wc(r,i,l,u,d){var p=ht(l)?Er:tt.current;return p=ai(i,p),pi(i,d),l=cc(r,i,l,u,p,d),u=dc(),r!==null&&!pt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,gn(r,i,d)):(Ne&&u&&Ku(i),i.flags|=1,ot(r,i,l,d),i.child)}function Pm(r,i,l,u,d){if(ht(l)){var p=!0;il(i)}else p=!1;if(pi(i,d),i.stateNode===null)Sl(r,i),gm(i,l,u),_c(i,l,u,d),u=!0;else if(r===null){var g=i.stateNode,w=i.memoizedProps;g.props=w;var E=g.context,P=l.contextType;typeof P=="object"&&P!==null?P=xt(P):(P=ht(l)?Er:tt.current,P=ai(i,P));var F=l.getDerivedStateFromProps,U=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function";U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==u||E!==P)&&_m(i,g,u,P),Wn=!1;var D=i.memoizedState;g.state=D,hl(i,u,g,d),E=i.memoizedState,w!==u||D!==E||ft.current||Wn?(typeof F=="function"&&(gc(i,l,F,u),E=i.memoizedState),(w=Wn||mm(i,l,w,u,D,E,P))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=E),g.props=u,g.state=E,g.context=P,u=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Hp(r,i),w=i.memoizedProps,P=i.type===i.elementType?w:Wt(i.type,w),g.props=P,U=i.pendingProps,D=g.context,E=l.contextType,typeof E=="object"&&E!==null?E=xt(E):(E=ht(l)?Er:tt.current,E=ai(i,E));var H=l.getDerivedStateFromProps;(F=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==U||D!==E)&&_m(i,g,u,E),Wn=!1,D=i.memoizedState,g.state=D,hl(i,u,g,d);var K=i.memoizedState;w!==U||D!==K||ft.current||Wn?(typeof H=="function"&&(gc(i,l,H,u),K=i.memoizedState),(P=Wn||mm(i,l,P,u,D,K,E)||!1)?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,K,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,K,E)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),g.props=u,g.state=K,g.context=E,u=P):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&D===r.memoizedState||(i.flags|=1024),u=!1)}return Ec(r,i,l,u,p,d)}function Ec(r,i,l,u,d,p){Rm(r,i);var g=(i.flags&128)!==0;if(!u&&!g)return d&&Dp(i,l,!1),gn(r,i,p);u=i.stateNode,aS.current=i;var w=g&&typeof l.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,r!==null&&g?(i.child=fi(i,r.child,null,p),i.child=fi(i,null,w,p)):ot(r,i,w,p),i.memoizedState=u.state,d&&Dp(i,l,!0),i.child}function Nm(r){var i=r.stateNode;i.pendingContext?Ap(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Ap(r,i.context,!1),ic(r,i.containerInfo)}function xm(r,i,l,u,d){return di(),Ju(d),i.flags|=256,ot(r,i,l,u),i.child}var Sc={dehydrated:null,treeContext:null,retryLane:0};function Cc(r){return{baseLanes:r,cachePool:null,transitions:null}}function Am(r,i,l){var u=i.pendingProps,d=Ae.current,p=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(d&2)!==0),w?(p=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Ce(Ae,d&1),r===null)return Yu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=u.children,r=u.fallback,p?(u=i.mode,p=i.child,g={mode:"hidden",children:g},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=g):p=bl(g,u,0,null),r=Ar(r,u,l,null),p.return=i,r.return=i,p.sibling=r,i.child=p,i.child.memoizedState=Cc(l),i.memoizedState=Sc,r):Ic(i,g));if(d=r.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return uS(r,i,g,u,w,d,l);if(p){p=u.fallback,g=i.mode,d=r.child,w=d.sibling;var E={mode:"hidden",children:u.children};return!(g&1)&&i.child!==d?(u=i.child,u.childLanes=0,u.pendingProps=E,i.deletions=null):(u=qn(d,E),u.subtreeFlags=d.subtreeFlags&14680064),w!==null?p=qn(w,p):(p=Ar(p,g,l,null),p.flags|=2),p.return=i,u.return=i,u.sibling=p,i.child=u,u=p,p=i.child,g=r.child.memoizedState,g=g===null?Cc(l):{baseLanes:g.baseLanes|l,cachePool:null,transitions:g.transitions},p.memoizedState=g,p.childLanes=r.childLanes&~l,i.memoizedState=Sc,u}return p=r.child,r=p.sibling,u=qn(p,{mode:"visible",children:u.children}),!(i.mode&1)&&(u.lanes=l),u.return=i,u.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=u,i.memoizedState=null,u}function Ic(r,i){return i=bl({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function El(r,i,l,u){return u!==null&&Ju(u),fi(i,r.child,null,l),r=Ic(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function uS(r,i,l,u,d,p,g){if(l)return i.flags&256?(i.flags&=-257,u=yc(Error(n(422))),El(r,i,g,u)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(p=u.fallback,d=i.mode,u=bl({mode:"visible",children:u.children},d,0,null),p=Ar(p,d,g,null),p.flags|=2,u.return=i,p.return=i,u.sibling=p,i.child=u,i.mode&1&&fi(i,r.child,null,g),i.child.memoizedState=Cc(g),i.memoizedState=Sc,p);if(!(i.mode&1))return El(r,i,g,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=yc(p,u,void 0),El(r,i,g,u)}if(w=(g&r.childLanes)!==0,pt||w){if(u=Ge,u!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(u.suspendedLanes|g)?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,pn(r,d),Ht(u,r,d,-1))}return zc(),u=yc(Error(n(421))),El(r,i,g,u)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=SS.bind(null,r),d._reactRetry=i,null):(r=p.treeContext,Ct=Fn(d.nextSibling),St=i,Ne=!0,zt=null,r!==null&&(Pt[Nt++]=fn,Pt[Nt++]=hn,Pt[Nt++]=Sr,fn=r.id,hn=r.overflow,Sr=i),i=Ic(i,u.children),i.flags|=4096,i)}function Om(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),tc(r.return,i,l)}function kc(r,i,l,u,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=d)}function Dm(r,i,l){var u=i.pendingProps,d=u.revealOrder,p=u.tail;if(ot(r,i,u.children,l),u=Ae.current,u&2)u=u&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Om(r,l,i);else if(r.tag===19)Om(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(Ce(Ae,u),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(l=i.child,d=null;l!==null;)r=l.alternate,r!==null&&pl(r)===null&&(d=l),l=l.sibling;l=d,l===null?(d=i.child,i.child=null):(d=l.sibling,l.sibling=null),kc(i,!1,d,l,p);break;case"backwards":for(l=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&pl(r)===null){i.child=d;break}r=d.sibling,d.sibling=l,l=d,d=r}kc(i,!0,l,null,p);break;case"together":kc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sl(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function gn(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Rr|=i.lanes,!(l&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=qn(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=qn(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function cS(r,i,l){switch(i.tag){case 3:Nm(i),di();break;case 5:Kp(i);break;case 1:ht(i.type)&&il(i);break;case 4:ic(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,d=i.memoizedProps.value;Ce(cl,u._currentValue),u._currentValue=d;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(Ce(Ae,Ae.current&1),i.flags|=128,null):l&i.child.childLanes?Am(r,i,l):(Ce(Ae,Ae.current&1),r=gn(r,i,l),r!==null?r.sibling:null);Ce(Ae,Ae.current&1);break;case 19:if(u=(l&i.childLanes)!==0,r.flags&128){if(u)return Dm(r,i,l);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ce(Ae,Ae.current),u)break;return null;case 22:case 23:return i.lanes=0,Tm(r,i,l)}return gn(r,i,l)}var bm,Tc,Lm,Mm;bm=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Tc=function(){},Lm=function(r,i,l,u){var d=r.memoizedProps;if(d!==u){r=i.stateNode,kr(en.current);var p=null;switch(l){case"input":d=tu(r,d),u=tu(r,u),p=[];break;case"select":d=G({},d,{value:void 0}),u=G({},u,{value:void 0}),p=[];break;case"textarea":d=iu(r,d),u=iu(r,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=tl)}ou(l,u);var g;l=null;for(P in d)if(!u.hasOwnProperty(P)&&d.hasOwnProperty(P)&&d[P]!=null)if(P==="style"){var w=d[P];for(g in w)w.hasOwnProperty(g)&&(l||(l={}),l[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(o.hasOwnProperty(P)?p||(p=[]):(p=p||[]).push(P,null));for(P in u){var E=u[P];if(w=d!=null?d[P]:void 0,u.hasOwnProperty(P)&&E!==w&&(E!=null||w!=null))if(P==="style")if(w){for(g in w)!w.hasOwnProperty(g)||E&&E.hasOwnProperty(g)||(l||(l={}),l[g]="");for(g in E)E.hasOwnProperty(g)&&w[g]!==E[g]&&(l||(l={}),l[g]=E[g])}else l||(p||(p=[]),p.push(P,l)),l=E;else P==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,w=w?w.__html:void 0,E!=null&&w!==E&&(p=p||[]).push(P,E)):P==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(P,""+E):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(o.hasOwnProperty(P)?(E!=null&&P==="onScroll"&&Te("scroll",r),p||w===E||(p=[])):(p=p||[]).push(P,E))}l&&(p=p||[]).push("style",l);var P=p;(i.updateQueue=P)&&(i.flags|=4)}},Mm=function(r,i,l,u){l!==u&&(i.flags|=4)};function Ts(r,i){if(!Ne)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function rt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var d=r.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function dS(r,i,l){var u=i.pendingProps;switch(qu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return ht(i.type)&&rl(),rt(i),null;case 3:return u=i.stateNode,mi(),Re(ft),Re(tt),lc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(al(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zt!==null&&(Fc(zt),zt=null))),Tc(r,i),rt(i),null;case 5:sc(i);var d=kr(Es.current);if(l=i.type,r!==null&&i.stateNode!=null)Lm(r,i,l,u,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(n(166));return rt(i),null}if(r=kr(en.current),al(i)){u=i.stateNode,l=i.type;var p=i.memoizedProps;switch(u[Zt]=i,u[gs]=p,r=(i.mode&1)!==0,l){case"dialog":Te("cancel",u),Te("close",u);break;case"iframe":case"object":case"embed":Te("load",u);break;case"video":case"audio":for(d=0;d<hs.length;d++)Te(hs[d],u);break;case"source":Te("error",u);break;case"img":case"image":case"link":Te("error",u),Te("load",u);break;case"details":Te("toggle",u);break;case"input":gh(u,p),Te("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Te("invalid",u);break;case"textarea":vh(u,p),Te("invalid",u)}ou(l,p),d=null;for(var g in p)if(p.hasOwnProperty(g)){var w=p[g];g==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&el(u.textContent,w,r),d=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&el(u.textContent,w,r),d=["children",""+w]):o.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Te("scroll",u)}switch(l){case"input":Ao(u),yh(u,p,!0);break;case"textarea":Ao(u),Eh(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=tl)}u=d,i.updateQueue=u,u!==null&&(i.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Sh(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=g.createElement(l,{is:u.is}):(r=g.createElement(l),l==="select"&&(g=r,u.multiple?g.multiple=!0:u.size&&(g.size=u.size))):r=g.createElementNS(r,l),r[Zt]=i,r[gs]=u,bm(r,i,!1,!1),i.stateNode=r;e:{switch(g=lu(l,u),l){case"dialog":Te("cancel",r),Te("close",r),d=u;break;case"iframe":case"object":case"embed":Te("load",r),d=u;break;case"video":case"audio":for(d=0;d<hs.length;d++)Te(hs[d],r);d=u;break;case"source":Te("error",r),d=u;break;case"img":case"image":case"link":Te("error",r),Te("load",r),d=u;break;case"details":Te("toggle",r),d=u;break;case"input":gh(r,u),d=tu(r,u),Te("invalid",r);break;case"option":d=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},d=G({},u,{value:void 0}),Te("invalid",r);break;case"textarea":vh(r,u),d=iu(r,u),Te("invalid",r);break;default:d=u}ou(l,d),w=d;for(p in w)if(w.hasOwnProperty(p)){var E=w[p];p==="style"?kh(r,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Ch(r,E)):p==="children"?typeof E=="string"?(l!=="textarea"||E!=="")&&qi(r,E):typeof E=="number"&&qi(r,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?E!=null&&p==="onScroll"&&Te("scroll",r):E!=null&&L(r,p,E,g))}switch(l){case"input":Ao(r),yh(r,u,!1);break;case"textarea":Ao(r),Eh(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ye(u.value));break;case"select":r.multiple=!!u.multiple,p=u.value,p!=null?Yr(r,!!u.multiple,p,!1):u.defaultValue!=null&&Yr(r,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=tl)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return rt(i),null;case 6:if(r&&i.stateNode!=null)Mm(r,i,r.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(l=kr(Es.current),kr(en.current),al(i)){if(u=i.stateNode,l=i.memoizedProps,u[Zt]=i,(p=u.nodeValue!==l)&&(r=St,r!==null))switch(r.tag){case 3:el(u.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&el(u.nodeValue,l,(r.mode&1)!==0)}p&&(i.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[Zt]=i,i.stateNode=u}return rt(i),null;case 13:if(Re(Ae),u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ne&&Ct!==null&&i.mode&1&&!(i.flags&128))jp(),di(),i.flags|=98560,p=!1;else if(p=al(i),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Zt]=i}else di(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;rt(i),p=!1}else zt!==null&&(Fc(zt),zt=null),p=!0;if(!p)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(r===null||Ae.current&1?Be===0&&(Be=3):zc())),i.updateQueue!==null&&(i.flags|=4),rt(i),null);case 4:return mi(),Tc(r,i),r===null&&ps(i.stateNode.containerInfo),rt(i),null;case 10:return ec(i.type._context),rt(i),null;case 17:return ht(i.type)&&rl(),rt(i),null;case 19:if(Re(Ae),p=i.memoizedState,p===null)return rt(i),null;if(u=(i.flags&128)!==0,g=p.rendering,g===null)if(u)Ts(p,!1);else{if(Be!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(g=pl(r),g!==null){for(i.flags|=128,Ts(p,!1),u=g.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=l,l=i.child;l!==null;)p=l,r=u,p.flags&=14680066,g=p.alternate,g===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=g.childLanes,p.lanes=g.lanes,p.child=g.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=g.memoizedProps,p.memoizedState=g.memoizedState,p.updateQueue=g.updateQueue,p.type=g.type,r=g.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ce(Ae,Ae.current&1|2),i.child}r=r.sibling}p.tail!==null&&Ue()>vi&&(i.flags|=128,u=!0,Ts(p,!1),i.lanes=4194304)}else{if(!u)if(r=pl(g),r!==null){if(i.flags|=128,u=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Ts(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ne)return rt(i),null}else 2*Ue()-p.renderingStartTime>vi&&l!==1073741824&&(i.flags|=128,u=!0,Ts(p,!1),i.lanes=4194304);p.isBackwards?(g.sibling=i.child,i.child=g):(l=p.last,l!==null?l.sibling=g:i.child=g,p.last=g)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ue(),i.sibling=null,l=Ae.current,Ce(Ae,u?l&1|2:l&1),i):(rt(i),null);case 22:case 23:return jc(),u=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?It&1073741824&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function fS(r,i){switch(qu(i),i.tag){case 1:return ht(i.type)&&rl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return mi(),Re(ft),Re(tt),lc(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return sc(i),null;case 13:if(Re(Ae),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));di()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Re(Ae),null;case 4:return mi(),null;case 10:return ec(i.type._context),null;case 22:case 23:return jc(),null;case 24:return null;default:return null}}var Cl=!1,it=!1,hS=typeof WeakSet=="function"?WeakSet:Set,V=null;function _i(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){Le(r,i,u)}else l.current=null}function Rc(r,i,l){try{l()}catch(u){Le(r,i,u)}}var Fm=!1;function pS(r,i){if(ju=$o,r=mp(),Au(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var g=0,w=-1,E=-1,P=0,F=0,U=r,D=null;t:for(;;){for(var H;U!==l||d!==0&&U.nodeType!==3||(w=g+d),U!==p||u!==0&&U.nodeType!==3||(E=g+u),U.nodeType===3&&(g+=U.nodeValue.length),(H=U.firstChild)!==null;)D=U,U=H;for(;;){if(U===r)break t;if(D===l&&++P===d&&(w=g),D===p&&++F===u&&(E=g),(H=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=H}l=w===-1||E===-1?null:{start:w,end:E}}else l=null}l=l||{start:0,end:0}}else l=null;for(zu={focusedElem:r,selectionRange:l},$o=!1,V=i;V!==null;)if(i=V,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,V=r;else for(;V!==null;){i=V;try{var K=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var q=K.memoizedProps,je=K.memoizedState,T=i.stateNode,S=T.getSnapshotBeforeUpdate(i.elementType===i.type?q:Wt(i.type,q),je);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var R=i.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(j){Le(i,i.return,j)}if(r=i.sibling,r!==null){r.return=i.return,V=r;break}V=i.return}return K=Fm,Fm=!1,K}function Rs(r,i,l){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&r)===r){var p=d.destroy;d.destroy=void 0,p!==void 0&&Rc(i,l,p)}d=d.next}while(d!==u)}}function Il(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var u=l.create;l.destroy=u()}l=l.next}while(l!==i)}}function Pc(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Um(r){var i=r.alternate;i!==null&&(r.alternate=null,Um(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Zt],delete i[gs],delete i[Hu],delete i[YE],delete i[JE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function jm(r){return r.tag===5||r.tag===3||r.tag===4}function zm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Nc(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=tl));else if(u!==4&&(r=r.child,r!==null))for(Nc(r,i,l),r=r.sibling;r!==null;)Nc(r,i,l),r=r.sibling}function xc(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(xc(r,i,l),r=r.sibling;r!==null;)xc(r,i,l),r=r.sibling}var Ye=null,Bt=!1;function $n(r,i,l){for(l=l.child;l!==null;)Wm(r,i,l),l=l.sibling}function Wm(r,i,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Fo,l)}catch{}switch(l.tag){case 5:it||_i(l,i);case 6:var u=Ye,d=Bt;Ye=null,$n(r,i,l),Ye=u,Bt=d,Ye!==null&&(Bt?(r=Ye,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ye.removeChild(l.stateNode));break;case 18:Ye!==null&&(Bt?(r=Ye,l=l.stateNode,r.nodeType===8?$u(r.parentNode,l):r.nodeType===1&&$u(r,l),ss(r)):$u(Ye,l.stateNode));break;case 4:u=Ye,d=Bt,Ye=l.stateNode.containerInfo,Bt=!0,$n(r,i,l),Ye=u,Bt=d;break;case 0:case 11:case 14:case 15:if(!it&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,g=p.destroy;p=p.tag,g!==void 0&&(p&2||p&4)&&Rc(l,i,g),d=d.next}while(d!==u)}$n(r,i,l);break;case 1:if(!it&&(_i(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(w){Le(l,i,w)}$n(r,i,l);break;case 21:$n(r,i,l);break;case 22:l.mode&1?(it=(u=it)||l.memoizedState!==null,$n(r,i,l),it=u):$n(r,i,l);break;default:$n(r,i,l)}}function Bm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new hS),i.forEach(function(u){var d=CS.bind(null,r,u);l.has(u)||(l.add(u),u.then(d,d))})}}function $t(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];try{var p=r,g=i,w=g;e:for(;w!==null;){switch(w.tag){case 5:Ye=w.stateNode,Bt=!1;break e;case 3:Ye=w.stateNode.containerInfo,Bt=!0;break e;case 4:Ye=w.stateNode.containerInfo,Bt=!0;break e}w=w.return}if(Ye===null)throw Error(n(160));Wm(p,g,d),Ye=null,Bt=!1;var E=d.alternate;E!==null&&(E.return=null),d.return=null}catch(P){Le(d,i,P)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)$m(i,r),i=i.sibling}function $m(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if($t(i,r),nn(r),u&4){try{Rs(3,r,r.return),Il(3,r)}catch(q){Le(r,r.return,q)}try{Rs(5,r,r.return)}catch(q){Le(r,r.return,q)}}break;case 1:$t(i,r),nn(r),u&512&&l!==null&&_i(l,l.return);break;case 5:if($t(i,r),nn(r),u&512&&l!==null&&_i(l,l.return),r.flags&32){var d=r.stateNode;try{qi(d,"")}catch(q){Le(r,r.return,q)}}if(u&4&&(d=r.stateNode,d!=null)){var p=r.memoizedProps,g=l!==null?l.memoizedProps:p,w=r.type,E=r.updateQueue;if(r.updateQueue=null,E!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&_h(d,p),lu(w,g);var P=lu(w,p);for(g=0;g<E.length;g+=2){var F=E[g],U=E[g+1];F==="style"?kh(d,U):F==="dangerouslySetInnerHTML"?Ch(d,U):F==="children"?qi(d,U):L(d,F,U,P)}switch(w){case"input":nu(d,p);break;case"textarea":wh(d,p);break;case"select":var D=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var H=p.value;H!=null?Yr(d,!!p.multiple,H,!1):D!==!!p.multiple&&(p.defaultValue!=null?Yr(d,!!p.multiple,p.defaultValue,!0):Yr(d,!!p.multiple,p.multiple?[]:"",!1))}d[gs]=p}catch(q){Le(r,r.return,q)}}break;case 6:if($t(i,r),nn(r),u&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,p=r.memoizedProps;try{d.nodeValue=p}catch(q){Le(r,r.return,q)}}break;case 3:if($t(i,r),nn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ss(i.containerInfo)}catch(q){Le(r,r.return,q)}break;case 4:$t(i,r),nn(r);break;case 13:$t(i,r),nn(r),d=r.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Dc=Ue())),u&4&&Bm(r);break;case 22:if(F=l!==null&&l.memoizedState!==null,r.mode&1?(it=(P=it)||F,$t(i,r),it=P):$t(i,r),nn(r),u&8192){if(P=r.memoizedState!==null,(r.stateNode.isHidden=P)&&!F&&r.mode&1)for(V=r,F=r.child;F!==null;){for(U=V=F;V!==null;){switch(D=V,H=D.child,D.tag){case 0:case 11:case 14:case 15:Rs(4,D,D.return);break;case 1:_i(D,D.return);var K=D.stateNode;if(typeof K.componentWillUnmount=="function"){u=D,l=D.return;try{i=u,K.props=i.memoizedProps,K.state=i.memoizedState,K.componentWillUnmount()}catch(q){Le(u,l,q)}}break;case 5:_i(D,D.return);break;case 22:if(D.memoizedState!==null){Gm(U);continue}}H!==null?(H.return=D,V=H):Gm(U)}F=F.sibling}e:for(F=null,U=r;;){if(U.tag===5){if(F===null){F=U;try{d=U.stateNode,P?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=U.stateNode,E=U.memoizedProps.style,g=E!=null&&E.hasOwnProperty("display")?E.display:null,w.style.display=Ih("display",g))}catch(q){Le(r,r.return,q)}}}else if(U.tag===6){if(F===null)try{U.stateNode.nodeValue=P?"":U.memoizedProps}catch(q){Le(r,r.return,q)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===r)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===r)break e;for(;U.sibling===null;){if(U.return===null||U.return===r)break e;F===U&&(F=null),U=U.return}F===U&&(F=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:$t(i,r),nn(r),u&4&&Bm(r);break;case 21:break;default:$t(i,r),nn(r)}}function nn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(jm(l)){var u=l;break e}l=l.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(qi(d,""),u.flags&=-33);var p=zm(r);xc(r,p,d);break;case 3:case 4:var g=u.stateNode.containerInfo,w=zm(r);Nc(r,w,g);break;default:throw Error(n(161))}}catch(E){Le(r,r.return,E)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function mS(r,i,l){V=r,Hm(r)}function Hm(r,i,l){for(var u=(r.mode&1)!==0;V!==null;){var d=V,p=d.child;if(d.tag===22&&u){var g=d.memoizedState!==null||Cl;if(!g){var w=d.alternate,E=w!==null&&w.memoizedState!==null||it;w=Cl;var P=it;if(Cl=g,(it=E)&&!P)for(V=d;V!==null;)g=V,E=g.child,g.tag===22&&g.memoizedState!==null?Km(d):E!==null?(E.return=g,V=E):Km(d);for(;p!==null;)V=p,Hm(p),p=p.sibling;V=d,Cl=w,it=P}Vm(r)}else d.subtreeFlags&8772&&p!==null?(p.return=d,V=p):Vm(r)}}function Vm(r){for(;V!==null;){var i=V;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:it||Il(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!it)if(l===null)u.componentDidMount();else{var d=i.elementType===i.type?l.memoizedProps:Wt(i.type,l.memoizedProps);u.componentDidUpdate(d,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&Gp(i,p,u);break;case 3:var g=i.updateQueue;if(g!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Gp(i,g,l)}break;case 5:var w=i.stateNode;if(l===null&&i.flags&4){l=w;var E=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&l.focus();break;case"img":E.src&&(l.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var P=i.alternate;if(P!==null){var F=P.memoizedState;if(F!==null){var U=F.dehydrated;U!==null&&ss(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}it||i.flags&512&&Pc(i)}catch(D){Le(i,i.return,D)}}if(i===r){V=null;break}if(l=i.sibling,l!==null){l.return=i.return,V=l;break}V=i.return}}function Gm(r){for(;V!==null;){var i=V;if(i===r){V=null;break}var l=i.sibling;if(l!==null){l.return=i.return,V=l;break}V=i.return}}function Km(r){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Il(4,i)}catch(E){Le(i,l,E)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var d=i.return;try{u.componentDidMount()}catch(E){Le(i,d,E)}}var p=i.return;try{Pc(i)}catch(E){Le(i,p,E)}break;case 5:var g=i.return;try{Pc(i)}catch(E){Le(i,g,E)}}}catch(E){Le(i,i.return,E)}if(i===r){V=null;break}var w=i.sibling;if(w!==null){w.return=i.return,V=w;break}V=i.return}}var gS=Math.ceil,kl=B.ReactCurrentDispatcher,Ac=B.ReactCurrentOwner,Ot=B.ReactCurrentBatchConfig,he=0,Ge=null,ze=null,Je=0,It=0,yi=Un(0),Be=0,Ps=null,Rr=0,Tl=0,Oc=0,Ns=null,mt=null,Dc=0,vi=1/0,_n=null,Rl=!1,bc=null,Hn=null,Pl=!1,Vn=null,Nl=0,xs=0,Lc=null,xl=-1,Al=0;function lt(){return he&6?Ue():xl!==-1?xl:xl=Ue()}function Gn(r){return r.mode&1?he&2&&Je!==0?Je&-Je:ZE.transition!==null?(Al===0&&(Al=zh()),Al):(r=ve,r!==0||(r=window.event,r=r===void 0?16:Qh(r.type)),r):1}function Ht(r,i,l,u){if(50<xs)throw xs=0,Lc=null,Error(n(185));es(r,l,u),(!(he&2)||r!==Ge)&&(r===Ge&&(!(he&2)&&(Tl|=l),Be===4&&Kn(r,Je)),gt(r,u),l===1&&he===0&&!(i.mode&1)&&(vi=Ue()+500,sl&&zn()))}function gt(r,i){var l=r.callbackNode;Zw(r,i);var u=zo(r,r===Ge?Je:0);if(u===0)l!==null&&Fh(l),r.callbackNode=null,r.callbackPriority=0;else if(i=u&-u,r.callbackPriority!==i){if(l!=null&&Fh(l),i===1)r.tag===0?XE(Qm.bind(null,r)):bp(Qm.bind(null,r)),qE(function(){!(he&6)&&zn()}),l=null;else{switch(Wh(u)){case 1:l=pu;break;case 4:l=Uh;break;case 16:l=Mo;break;case 536870912:l=jh;break;default:l=Mo}l=rg(l,qm.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function qm(r,i){if(xl=-1,Al=0,he&6)throw Error(n(327));var l=r.callbackNode;if(wi()&&r.callbackNode!==l)return null;var u=zo(r,r===Ge?Je:0);if(u===0)return null;if(u&30||u&r.expiredLanes||i)i=Ol(r,u);else{i=u;var d=he;he|=2;var p=Jm();(Ge!==r||Je!==i)&&(_n=null,vi=Ue()+500,Nr(r,i));do try{vS();break}catch(w){Ym(r,w)}while(!0);Zu(),kl.current=p,he=d,ze!==null?i=0:(Ge=null,Je=0,i=Be)}if(i!==0){if(i===2&&(d=mu(r),d!==0&&(u=d,i=Mc(r,d))),i===1)throw l=Ps,Nr(r,0),Kn(r,u),gt(r,Ue()),l;if(i===6)Kn(r,u);else{if(d=r.current.alternate,!(u&30)&&!_S(d)&&(i=Ol(r,u),i===2&&(p=mu(r),p!==0&&(u=p,i=Mc(r,p))),i===1))throw l=Ps,Nr(r,0),Kn(r,u),gt(r,Ue()),l;switch(r.finishedWork=d,r.finishedLanes=u,i){case 0:case 1:throw Error(n(345));case 2:xr(r,mt,_n);break;case 3:if(Kn(r,u),(u&130023424)===u&&(i=Dc+500-Ue(),10<i)){if(zo(r,0)!==0)break;if(d=r.suspendedLanes,(d&u)!==u){lt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Bu(xr.bind(null,r,mt,_n),i);break}xr(r,mt,_n);break;case 4:if(Kn(r,u),(u&4194240)===u)break;for(i=r.eventTimes,d=-1;0<u;){var g=31-Ut(u);p=1<<g,g=i[g],g>d&&(d=g),u&=~p}if(u=d,u=Ue()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*gS(u/1960))-u,10<u){r.timeoutHandle=Bu(xr.bind(null,r,mt,_n),u);break}xr(r,mt,_n);break;case 5:xr(r,mt,_n);break;default:throw Error(n(329))}}}return gt(r,Ue()),r.callbackNode===l?qm.bind(null,r):null}function Mc(r,i){var l=Ns;return r.current.memoizedState.isDehydrated&&(Nr(r,i).flags|=256),r=Ol(r,i),r!==2&&(i=mt,mt=l,i!==null&&Fc(i)),r}function Fc(r){mt===null?mt=r:mt.push.apply(mt,r)}function _S(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var d=l[u],p=d.getSnapshot;d=d.value;try{if(!jt(p(),d))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kn(r,i){for(i&=~Oc,i&=~Tl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-Ut(i),u=1<<l;r[l]=-1,i&=~u}}function Qm(r){if(he&6)throw Error(n(327));wi();var i=zo(r,0);if(!(i&1))return gt(r,Ue()),null;var l=Ol(r,i);if(r.tag!==0&&l===2){var u=mu(r);u!==0&&(i=u,l=Mc(r,u))}if(l===1)throw l=Ps,Nr(r,0),Kn(r,i),gt(r,Ue()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,xr(r,mt,_n),gt(r,Ue()),null}function Uc(r,i){var l=he;he|=1;try{return r(i)}finally{he=l,he===0&&(vi=Ue()+500,sl&&zn())}}function Pr(r){Vn!==null&&Vn.tag===0&&!(he&6)&&wi();var i=he;he|=1;var l=Ot.transition,u=ve;try{if(Ot.transition=null,ve=1,r)return r()}finally{ve=u,Ot.transition=l,he=i,!(he&6)&&zn()}}function jc(){It=yi.current,Re(yi)}function Nr(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,KE(l)),ze!==null)for(l=ze.return;l!==null;){var u=l;switch(qu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&rl();break;case 3:mi(),Re(ft),Re(tt),lc();break;case 5:sc(u);break;case 4:mi();break;case 13:Re(Ae);break;case 19:Re(Ae);break;case 10:ec(u.type._context);break;case 22:case 23:jc()}l=l.return}if(Ge=r,ze=r=qn(r.current,null),Je=It=i,Be=0,Ps=null,Oc=Tl=Rr=0,mt=Ns=null,Ir!==null){for(i=0;i<Ir.length;i++)if(l=Ir[i],u=l.interleaved,u!==null){l.interleaved=null;var d=u.next,p=l.pending;if(p!==null){var g=p.next;p.next=d,u.next=g}l.pending=u}Ir=null}return r}function Ym(r,i){do{var l=ze;try{if(Zu(),ml.current=vl,gl){for(var u=Oe.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}gl=!1}if(Tr=0,Ve=We=Oe=null,Ss=!1,Cs=0,Ac.current=null,l===null||l.return===null){Be=1,Ps=i,ze=null;break}e:{var p=r,g=l.return,w=l,E=i;if(i=Je,w.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=E,F=w,U=F.tag;if(!(F.mode&1)&&(U===0||U===11||U===15)){var D=F.alternate;D?(F.updateQueue=D.updateQueue,F.memoizedState=D.memoizedState,F.lanes=D.lanes):(F.updateQueue=null,F.memoizedState=null)}var H=Em(g);if(H!==null){H.flags&=-257,Sm(H,g,w,p,i),H.mode&1&&wm(p,P,i),i=H,E=P;var K=i.updateQueue;if(K===null){var q=new Set;q.add(E),i.updateQueue=q}else K.add(E);break e}else{if(!(i&1)){wm(p,P,i),zc();break e}E=Error(n(426))}}else if(Ne&&w.mode&1){var je=Em(g);if(je!==null){!(je.flags&65536)&&(je.flags|=256),Sm(je,g,w,p,i),Ju(gi(E,w));break e}}p=E=gi(E,w),Be!==4&&(Be=2),Ns===null?Ns=[p]:Ns.push(p),p=g;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var T=ym(p,E,i);Vp(p,T);break e;case 1:w=E;var S=p.type,R=p.stateNode;if(!(p.flags&128)&&(typeof S.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Hn===null||!Hn.has(R)))){p.flags|=65536,i&=-i,p.lanes|=i;var j=vm(p,w,i);Vp(p,j);break e}}p=p.return}while(p!==null)}Zm(l)}catch(Q){i=Q,ze===l&&l!==null&&(ze=l=l.return);continue}break}while(!0)}function Jm(){var r=kl.current;return kl.current=vl,r===null?vl:r}function zc(){(Be===0||Be===3||Be===2)&&(Be=4),Ge===null||!(Rr&268435455)&&!(Tl&268435455)||Kn(Ge,Je)}function Ol(r,i){var l=he;he|=2;var u=Jm();(Ge!==r||Je!==i)&&(_n=null,Nr(r,i));do try{yS();break}catch(d){Ym(r,d)}while(!0);if(Zu(),he=l,kl.current=u,ze!==null)throw Error(n(261));return Ge=null,Je=0,Be}function yS(){for(;ze!==null;)Xm(ze)}function vS(){for(;ze!==null&&!Hw();)Xm(ze)}function Xm(r){var i=ng(r.alternate,r,It);r.memoizedProps=r.pendingProps,i===null?Zm(r):ze=i,Ac.current=null}function Zm(r){var i=r;do{var l=i.alternate;if(r=i.return,i.flags&32768){if(l=fS(l,i),l!==null){l.flags&=32767,ze=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Be=6,ze=null;return}}else if(l=dS(l,i,It),l!==null){ze=l;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=r}while(i!==null);Be===0&&(Be=5)}function xr(r,i,l){var u=ve,d=Ot.transition;try{Ot.transition=null,ve=1,wS(r,i,l,u)}finally{Ot.transition=d,ve=u}return null}function wS(r,i,l,u){do wi();while(Vn!==null);if(he&6)throw Error(n(327));l=r.finishedWork;var d=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var p=l.lanes|l.childLanes;if(eE(r,p),r===Ge&&(ze=Ge=null,Je=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Pl||(Pl=!0,rg(Mo,function(){return wi(),null})),p=(l.flags&15990)!==0,l.subtreeFlags&15990||p){p=Ot.transition,Ot.transition=null;var g=ve;ve=1;var w=he;he|=4,Ac.current=null,pS(r,l),$m(l,r),zE(zu),$o=!!ju,zu=ju=null,r.current=l,mS(l),Vw(),he=w,ve=g,Ot.transition=p}else r.current=l;if(Pl&&(Pl=!1,Vn=r,Nl=d),p=r.pendingLanes,p===0&&(Hn=null),qw(l.stateNode),gt(r,Ue()),i!==null)for(u=r.onRecoverableError,l=0;l<i.length;l++)d=i[l],u(d.value,{componentStack:d.stack,digest:d.digest});if(Rl)throw Rl=!1,r=bc,bc=null,r;return Nl&1&&r.tag!==0&&wi(),p=r.pendingLanes,p&1?r===Lc?xs++:(xs=0,Lc=r):xs=0,zn(),null}function wi(){if(Vn!==null){var r=Wh(Nl),i=Ot.transition,l=ve;try{if(Ot.transition=null,ve=16>r?16:r,Vn===null)var u=!1;else{if(r=Vn,Vn=null,Nl=0,he&6)throw Error(n(331));var d=he;for(he|=4,V=r.current;V!==null;){var p=V,g=p.child;if(V.flags&16){var w=p.deletions;if(w!==null){for(var E=0;E<w.length;E++){var P=w[E];for(V=P;V!==null;){var F=V;switch(F.tag){case 0:case 11:case 15:Rs(8,F,p)}var U=F.child;if(U!==null)U.return=F,V=U;else for(;V!==null;){F=V;var D=F.sibling,H=F.return;if(Um(F),F===P){V=null;break}if(D!==null){D.return=H,V=D;break}V=H}}}var K=p.alternate;if(K!==null){var q=K.child;if(q!==null){K.child=null;do{var je=q.sibling;q.sibling=null,q=je}while(q!==null)}}V=p}}if(p.subtreeFlags&2064&&g!==null)g.return=p,V=g;else e:for(;V!==null;){if(p=V,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Rs(9,p,p.return)}var T=p.sibling;if(T!==null){T.return=p.return,V=T;break e}V=p.return}}var S=r.current;for(V=S;V!==null;){g=V;var R=g.child;if(g.subtreeFlags&2064&&R!==null)R.return=g,V=R;else e:for(g=S;V!==null;){if(w=V,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Il(9,w)}}catch(Q){Le(w,w.return,Q)}if(w===g){V=null;break e}var j=w.sibling;if(j!==null){j.return=w.return,V=j;break e}V=w.return}}if(he=d,zn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Fo,r)}catch{}u=!0}return u}finally{ve=l,Ot.transition=i}}return!1}function eg(r,i,l){i=gi(l,i),i=ym(r,i,1),r=Bn(r,i,1),i=lt(),r!==null&&(es(r,1,i),gt(r,i))}function Le(r,i,l){if(r.tag===3)eg(r,r,l);else for(;i!==null;){if(i.tag===3){eg(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hn===null||!Hn.has(u))){r=gi(l,r),r=vm(i,r,1),i=Bn(i,r,1),r=lt(),i!==null&&(es(i,1,r),gt(i,r));break}}i=i.return}}function ES(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),i=lt(),r.pingedLanes|=r.suspendedLanes&l,Ge===r&&(Je&l)===l&&(Be===4||Be===3&&(Je&130023424)===Je&&500>Ue()-Dc?Nr(r,0):Oc|=l),gt(r,i)}function tg(r,i){i===0&&(r.mode&1?(i=jo,jo<<=1,!(jo&130023424)&&(jo=4194304)):i=1);var l=lt();r=pn(r,i),r!==null&&(es(r,i,l),gt(r,l))}function SS(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),tg(r,l)}function CS(r,i){var l=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(i),tg(r,l)}var ng;ng=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||ft.current)pt=!0;else{if(!(r.lanes&l)&&!(i.flags&128))return pt=!1,cS(r,i,l);pt=!!(r.flags&131072)}else pt=!1,Ne&&i.flags&1048576&&Lp(i,ll,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;Sl(r,i),r=i.pendingProps;var d=ai(i,tt.current);pi(i,l),d=cc(null,i,u,r,d,l);var p=dc();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,ht(u)?(p=!0,il(i)):p=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,rc(i),d.updater=wl,i.stateNode=d,d._reactInternals=i,_c(i,u,r,l),i=Ec(null,i,u,!0,p,l)):(i.tag=0,Ne&&p&&Ku(i),ot(null,i,d,l),i=i.child),i;case 16:u=i.elementType;e:{switch(Sl(r,i),r=i.pendingProps,d=u._init,u=d(u._payload),i.type=u,d=i.tag=kS(u),r=Wt(u,r),d){case 0:i=wc(null,i,u,r,l);break e;case 1:i=Pm(null,i,u,r,l);break e;case 11:i=Cm(null,i,u,r,l);break e;case 14:i=Im(null,i,u,Wt(u.type,r),l);break e}throw Error(n(306,u,""))}return i;case 0:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Wt(u,d),wc(r,i,u,d,l);case 1:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Wt(u,d),Pm(r,i,u,d,l);case 3:e:{if(Nm(i),r===null)throw Error(n(387));u=i.pendingProps,p=i.memoizedState,d=p.element,Hp(r,i),hl(i,u,null,l);var g=i.memoizedState;if(u=g.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){d=gi(Error(n(423)),i),i=xm(r,i,u,l,d);break e}else if(u!==d){d=gi(Error(n(424)),i),i=xm(r,i,u,l,d);break e}else for(Ct=Fn(i.stateNode.containerInfo.firstChild),St=i,Ne=!0,zt=null,l=Bp(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(di(),u===d){i=gn(r,i,l);break e}ot(r,i,u,l)}i=i.child}return i;case 5:return Kp(i),r===null&&Yu(i),u=i.type,d=i.pendingProps,p=r!==null?r.memoizedProps:null,g=d.children,Wu(u,d)?g=null:p!==null&&Wu(u,p)&&(i.flags|=32),Rm(r,i),ot(r,i,g,l),i.child;case 6:return r===null&&Yu(i),null;case 13:return Am(r,i,l);case 4:return ic(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=fi(i,null,u,l):ot(r,i,u,l),i.child;case 11:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Wt(u,d),Cm(r,i,u,d,l);case 7:return ot(r,i,i.pendingProps,l),i.child;case 8:return ot(r,i,i.pendingProps.children,l),i.child;case 12:return ot(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(u=i.type._context,d=i.pendingProps,p=i.memoizedProps,g=d.value,Ce(cl,u._currentValue),u._currentValue=g,p!==null)if(jt(p.value,g)){if(p.children===d.children&&!ft.current){i=gn(r,i,l);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var w=p.dependencies;if(w!==null){g=p.child;for(var E=w.firstContext;E!==null;){if(E.context===u){if(p.tag===1){E=mn(-1,l&-l),E.tag=2;var P=p.updateQueue;if(P!==null){P=P.shared;var F=P.pending;F===null?E.next=E:(E.next=F.next,F.next=E),P.pending=E}}p.lanes|=l,E=p.alternate,E!==null&&(E.lanes|=l),tc(p.return,l,i),w.lanes|=l;break}E=E.next}}else if(p.tag===10)g=p.type===i.type?null:p.child;else if(p.tag===18){if(g=p.return,g===null)throw Error(n(341));g.lanes|=l,w=g.alternate,w!==null&&(w.lanes|=l),tc(g,l,i),g=p.sibling}else g=p.child;if(g!==null)g.return=p;else for(g=p;g!==null;){if(g===i){g=null;break}if(p=g.sibling,p!==null){p.return=g.return,g=p;break}g=g.return}p=g}ot(r,i,d.children,l),i=i.child}return i;case 9:return d=i.type,u=i.pendingProps.children,pi(i,l),d=xt(d),u=u(d),i.flags|=1,ot(r,i,u,l),i.child;case 14:return u=i.type,d=Wt(u,i.pendingProps),d=Wt(u.type,d),Im(r,i,u,d,l);case 15:return km(r,i,i.type,i.pendingProps,l);case 17:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Wt(u,d),Sl(r,i),i.tag=1,ht(u)?(r=!0,il(i)):r=!1,pi(i,l),gm(i,u,d),_c(i,u,d,l),Ec(null,i,u,!0,r,l);case 19:return Dm(r,i,l);case 22:return Tm(r,i,l)}throw Error(n(156,i.tag))};function rg(r,i){return Mh(r,i)}function IS(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(r,i,l,u){return new IS(r,i,l,u)}function Wc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kS(r){if(typeof r=="function")return Wc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Yt)return 11;if(r===Jt)return 14}return 2}function qn(r,i){var l=r.alternate;return l===null?(l=Dt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Dl(r,i,l,u,d,p){var g=2;if(u=r,typeof r=="function")Wc(r)&&(g=1);else if(typeof r=="string")g=5;else e:switch(r){case se:return Ar(l.children,d,p,i);case ee:g=8,d|=8;break;case fe:return r=Dt(12,l,i,d|2),r.elementType=fe,r.lanes=p,r;case vt:return r=Dt(13,l,i,d),r.elementType=vt,r.lanes=p,r;case Ft:return r=Dt(19,l,i,d),r.elementType=Ft,r.lanes=p,r;case be:return bl(l,d,p,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case De:g=10;break e;case Rt:g=9;break e;case Yt:g=11;break e;case Jt:g=14;break e;case dt:g=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Dt(g,l,i,d),i.elementType=r,i.type=u,i.lanes=p,i}function Ar(r,i,l,u){return r=Dt(7,r,u,i),r.lanes=l,r}function bl(r,i,l,u){return r=Dt(22,r,u,i),r.elementType=be,r.lanes=l,r.stateNode={isHidden:!1},r}function Bc(r,i,l){return r=Dt(6,r,null,i),r.lanes=l,r}function $c(r,i,l){return i=Dt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function TS(r,i,l,u,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gu(0),this.expirationTimes=gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Hc(r,i,l,u,d,p,g,w,E){return r=new TS(r,i,l,w,E),i===1?(i=1,p===!0&&(i|=8)):i=0,p=Dt(3,null,null,i),r.current=p,p.stateNode=r,p.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(p),r}function RS(r,i,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:u==null?null:""+u,children:r,containerInfo:i,implementation:l}}function ig(r){if(!r)return jn;r=r._reactInternals;e:{if(vr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(ht(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(ht(l))return Op(r,l,i)}return i}function sg(r,i,l,u,d,p,g,w,E){return r=Hc(l,u,!0,r,d,p,g,w,E),r.context=ig(null),l=r.current,u=lt(),d=Gn(l),p=mn(u,d),p.callback=i??null,Bn(l,p,d),r.current.lanes=d,es(r,d,u),gt(r,u),r}function Ll(r,i,l,u){var d=i.current,p=lt(),g=Gn(d);return l=ig(l),i.context===null?i.context=l:i.pendingContext=l,i=mn(p,g),i.payload={element:r},u=u===void 0?null:u,u!==null&&(i.callback=u),r=Bn(d,i,g),r!==null&&(Ht(r,d,g,p),fl(r,d,g)),g}function Ml(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function og(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Vc(r,i){og(r,i),(r=r.alternate)&&og(r,i)}var lg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gc(r){this._internalRoot=r}Fl.prototype.render=Gc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Ll(r,i,null,null)},Fl.prototype.unmount=Gc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Pr(function(){Ll(null,r,null,null)}),i[cn]=null}};function Fl(r){this._internalRoot=r}Fl.prototype.unstable_scheduleHydration=function(r){if(r){var i=Hh();r={blockedOn:null,target:r,priority:i};for(var l=0;l<bn.length&&i!==0&&i<bn[l].priority;l++);bn.splice(l,0,r),l===0&&Kh(r)}};function Kc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ul(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ag(){}function PS(r,i,l,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var P=Ml(g);p.call(P)}}var g=sg(i,u,r,0,null,!1,!1,"",ag);return r._reactRootContainer=g,r[cn]=g.current,ps(r.nodeType===8?r.parentNode:r),Pr(),g}for(;d=r.lastChild;)r.removeChild(d);if(typeof u=="function"){var w=u;u=function(){var P=Ml(E);w.call(P)}}var E=Hc(r,0,!1,null,null,!1,!1,"",ag);return r._reactRootContainer=E,r[cn]=E.current,ps(r.nodeType===8?r.parentNode:r),Pr(function(){Ll(i,E,l,u)}),E}function jl(r,i,l,u,d){var p=l._reactRootContainer;if(p){var g=p;if(typeof d=="function"){var w=d;d=function(){var E=Ml(g);w.call(E)}}Ll(i,g,r,d)}else g=PS(l,i,r,d,u);return Ml(g)}Bh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Zi(i.pendingLanes);l!==0&&(_u(i,l|1),gt(i,Ue()),!(he&6)&&(vi=Ue()+500,zn()))}break;case 13:Pr(function(){var u=pn(r,1);if(u!==null){var d=lt();Ht(u,r,1,d)}}),Vc(r,1)}},yu=function(r){if(r.tag===13){var i=pn(r,134217728);if(i!==null){var l=lt();Ht(i,r,134217728,l)}Vc(r,134217728)}},$h=function(r){if(r.tag===13){var i=Gn(r),l=pn(r,i);if(l!==null){var u=lt();Ht(l,r,i,u)}Vc(r,i)}},Hh=function(){return ve},Vh=function(r,i){var l=ve;try{return ve=r,i()}finally{ve=l}},cu=function(r,i,l){switch(i){case"input":if(nu(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var d=nl(u);if(!d)throw Error(n(90));mh(u),nu(u,d)}}}break;case"textarea":wh(r,l);break;case"select":i=l.value,i!=null&&Yr(r,!!l.multiple,i,!1)}},Nh=Uc,xh=Pr;var NS={usingClientEntryPoint:!1,Events:[_s,oi,nl,Rh,Ph,Uc]},As={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xS={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=bh(r),r===null?null:r.stateNode},findFiberByHostInstance:As.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{Fo=zl.inject(xS),Xt=zl}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS,_t.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kc(i))throw Error(n(200));return RS(r,i,null,l)},_t.createRoot=function(r,i){if(!Kc(r))throw Error(n(299));var l=!1,u="",d=lg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Hc(r,1,!1,null,null,l,!1,u,d),r[cn]=i.current,ps(r.nodeType===8?r.parentNode:r),new Gc(i)},_t.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=bh(i),r=r===null?null:r.stateNode,r},_t.flushSync=function(r){return Pr(r)},_t.hydrate=function(r,i,l){if(!Ul(i))throw Error(n(200));return jl(null,r,i,!0,l)},_t.hydrateRoot=function(r,i,l){if(!Kc(r))throw Error(n(405));var u=l!=null&&l.hydratedSources||null,d=!1,p="",g=lg;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),i=sg(i,null,r,1,l??null,d,!1,p,g),r[cn]=i.current,ps(r),u)for(r=0;r<u.length;r++)l=u[r],d=l._getVersion,d=d(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,d]:i.mutableSourceEagerHydrationData.push(l,d);return new Fl(i)},_t.render=function(r,i,l){if(!Ul(i))throw Error(n(200));return jl(null,r,i,!1,l)},_t.unmountComponentAtNode=function(r){if(!Ul(r))throw Error(n(40));return r._reactRootContainer?(Pr(function(){jl(null,null,r,!1,function(){r._reactRootContainer=null,r[cn]=null})}),!0):!1},_t.unstable_batchedUpdates=Uc,_t.unstable_renderSubtreeIntoContainer=function(r,i,l,u){if(!Ul(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return jl(r,i,l,!1,u)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var gg;function WS(){if(gg)return Yc.exports;gg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yc.exports=zS(),Yc.exports}var _g;function BS(){if(_g)return Wl;_g=1;var t=WS();return Wl.createRoot=t.createRoot,Wl.hydrateRoot=t.hydrateRoot,Wl}var $S=BS(),Zc={exports:{}},ed={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function HS(){if(yg)return ed;yg=1;var t=xa();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,o=t.useRef,a=t.useEffect,c=t.useMemo,f=t.useDebugValue;return ed.useSyncExternalStoreWithSelector=function(h,m,_,y,v){var C=o(null);if(C.current===null){var I={hasValue:!1,value:null};C.current=I}else I=C.current;C=c(function(){function x(Y){if(!O){if(O=!0,W=Y,Y=y(Y),v!==void 0&&I.hasValue){var J=I.value;if(v(J,Y))return L=J}return L=Y}if(J=L,n(W,Y))return J;var se=y(Y);return v!==void 0&&v(J,se)?(W=Y,J):(W=Y,L=se)}var O=!1,W,L,B=_===void 0?null:_;return[function(){return x(m())},B===null?void 0:function(){return x(B())}]},[m,_,y,v]);var A=s(h,C[0],C[1]);return a(function(){I.hasValue=!0,I.value=A},[A]),f(A),A},ed}var vg;function VS(){return vg||(vg=1,Zc.exports=HS()),Zc.exports}var GS=VS();function KS(t){t()}function qS(){let t=null,e=null;return{clear(){t=null,e=null},notify(){KS(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var wg={notify(){},get:()=>[]};function QS(t,e){let n,s=wg,o=0,a=!1;function c(A){_();const x=s.subscribe(A);let O=!1;return()=>{O||(O=!0,x(),y())}}function f(){s.notify()}function h(){I.onStateChange&&I.onStateChange()}function m(){return a}function _(){o++,n||(n=t.subscribe(h),s=qS())}function y(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=wg)}function v(){a||(a=!0,_())}function C(){a&&(a=!1,y())}const I={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:m,trySubscribe:v,tryUnsubscribe:C,getListeners:()=>s};return I}var YS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JS=YS(),XS=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZS=XS(),eC=()=>JS||ZS?N.useLayoutEffect:N.useEffect,tC=eC(),td=Symbol.for("react-redux-context"),nd=typeof globalThis<"u"?globalThis:{};function nC(){if(!N.createContext)return{};const t=nd[td]??(nd[td]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var ur=nC();function rC(t){const{children:e,context:n,serverState:s,store:o}=t,a=N.useMemo(()=>{const h=QS(o);return{store:o,subscription:h,getServerState:s?()=>s:void 0}},[o,s]),c=N.useMemo(()=>o.getState(),[o]);tC(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==o.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,c]);const f=n||ur;return N.createElement(f.Provider,{value:a},e)}var iC=rC;function rf(t=ur){return function(){return N.useContext(t)}}var Y_=rf();function J_(t=ur){const e=t===ur?Y_:rf(t),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var sC=J_();function oC(t=ur){const e=t===ur?sC:J_(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var sf=oC(),lC=(t,e)=>t===e;function aC(t=ur){const e=t===ur?Y_:rf(t),n=(s,o={})=>{const{equalityFn:a=lC}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:f,subscription:h,getServerState:m}=c;N.useRef(!0);const _=N.useCallback({[s.name](v){return s(v)}}[s.name],[s]),y=GS.useSyncExternalStoreWithSelector(h.addNestedSub,f.getState,m||f.getState,_,a);return N.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var of=aC(),Ds={},Eg;function uC(){if(Eg)return Ds;Eg=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.parse=c,Ds.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,C){const I=new a,A=v.length;if(A<2)return I;const x=(C==null?void 0:C.decode)||_;let O=0;do{const W=v.indexOf("=",O);if(W===-1)break;const L=v.indexOf(";",O),B=L===-1?A:L;if(W>B){O=v.lastIndexOf(";",W-1)+1;continue}const Y=f(v,O,W),J=h(v,W,Y),se=v.slice(Y,J);if(I[se]===void 0){let ee=f(v,W+1,B),fe=h(v,B,ee);const De=x(v.slice(ee,fe));I[se]=De}O=B+1}while(O<A);return I}function f(v,C,I){do{const A=v.charCodeAt(C);if(A!==32&&A!==9)return C}while(++C<I);return I}function h(v,C,I){for(;C>I;){const A=v.charCodeAt(--C);if(A!==32&&A!==9)return C+1}return I}function m(v,C,I){const A=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=A(C);if(!e.test(x))throw new TypeError(`argument val is invalid: ${C}`);let O=v+"="+x;if(!I)return O;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);O+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);O+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);O+="; Path="+I.path}if(I.expires){if(!y(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);O+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(O+="; HttpOnly"),I.secure&&(O+="; Secure"),I.partitioned&&(O+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return O}function _(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return o.call(v)==="[object Date]"}return Ds}uC();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sg="popstate";function cC(t={}){function e(o,a){let{pathname:c="/",search:f="",hash:h=""}=Gr(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Cd("",{pathname:c,search:f,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let h=o.location.href,m=h.indexOf("#");f=m===-1?h:h.slice(0,m)}return f+"#"+(typeof a=="string"?a:Js(a))}function s(o,a){Lt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return fC(e,n,s,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dC(){return Math.random().toString(36).substring(2,10)}function Cg(t,e){return{usr:t.state,key:t.key,idx:e}}function Cd(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gr(e):e,state:n,key:e&&e.key||s||dC()}}function Js({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function fC(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,f="POP",h=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function y(){f="POP";let x=_(),O=x==null?null:x-m;m=x,h&&h({action:f,location:A.location,delta:O})}function v(x,O){f="PUSH";let W=Cd(A.location,x,O);n(W,x),m=_()+1;let L=Cg(W,m),B=A.createHref(W);try{c.pushState(L,"",B)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(B)}a&&h&&h({action:f,location:A.location,delta:1})}function C(x,O){f="REPLACE";let W=Cd(A.location,x,O);n(W,x),m=_();let L=Cg(W,m),B=A.createHref(W);c.replaceState(L,"",B),a&&h&&h({action:f,location:A.location,delta:0})}function I(x){let O=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof x=="string"?x:Js(x);return W=W.replace(/ $/,"%20"),xe(O,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,O)}let A={get action(){return f},get location(){return t(o,c)},listen(x){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Sg,y),h=x,()=>{o.removeEventListener(Sg,y),h=null}},createHref(x){return e(o,x)},createURL:I,encodeLocation(x){let O=I(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:C,go(x){return c.go(x)}};return A}function X_(t,e,n="/"){return hC(t,e,n,!1)}function hC(t,e,n,s){let o=typeof e=="string"?Gr(e):e,a=cr(o.pathname||"/",n);if(a==null)return null;let c=Z_(t);pC(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=kC(a);f=CC(c[h],m,s)}return f}function Z_(t,e=[],n=[],s=""){let o=(a,c,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};h.relativePath.startsWith("/")&&(xe(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let m=Sn([s,h.relativePath]),_=n.concat(h);a.children&&a.children.length>0&&(xe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Z_(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:EC(m,a.index),routesMeta:_})};return t.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,c);else for(let h of ey(a.path))o(a,c,h)}),e}function ey(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=ey(s.join("/")),f=[];return f.push(...c.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...c),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function pC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var mC=/^:[\w-]+$/,gC=3,_C=2,yC=1,vC=10,wC=-2,Ig=t=>t==="*";function EC(t,e){let n=t.split("/"),s=n.length;return n.some(Ig)&&(s+=wC),e&&(s+=_C),n.filter(o=>!Ig(o)).reduce((o,a)=>o+(mC.test(a)?gC:a===""?yC:vC),s)}function SC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function CC(t,e,n=!1){let{routesMeta:s}=t,o={},a="/",c=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,_=a==="/"?e:e.slice(a.length)||"/",y=ta({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},_),v=h.route;if(!y&&m&&n&&!s[s.length-1].route.index&&(y=ta({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Sn([a,y.pathname]),pathnameBase:NC(Sn([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=Sn([a,y.pathnameBase]))}return c}function ta(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=IC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:y},v)=>{if(_==="*"){let I=f[v]||"";c=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const C=f[v];return y&&!C?m[_]=void 0:m[_]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function IC(t,e=!1,n=!0){Lt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function TC(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Gr(t):t;return{pathname:n?n.startsWith("/")?n:RC(n,e):e,search:xC(s),hash:AC(o)}}function RC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rd(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lf(t){let e=PC(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function af(t,e,n,s=!1){let o;typeof t=="string"?o=Gr(t):(o={...t},xe(!o.pathname||!o.pathname.includes("?"),rd("?","pathname","search",o)),xe(!o.pathname||!o.pathname.includes("#"),rd("#","pathname","hash",o)),xe(!o.search||!o.search.includes("#"),rd("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,f;if(c==null)f=n;else{let y=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}f=y>=0?e[y]:"/"}let h=TC(o,f),m=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||_)&&(h.pathname+="/"),h}var Sn=t=>t.join("/").replace(/\/\/+/g,"/"),NC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ty=["POST","PUT","PATCH","DELETE"];new Set(ty);var DC=["GET",...ty];new Set(DC);var Fi=N.createContext(null);Fi.displayName="DataRouter";var Aa=N.createContext(null);Aa.displayName="DataRouterState";var ny=N.createContext({isTransitioning:!1});ny.displayName="ViewTransition";var bC=N.createContext(new Map);bC.displayName="Fetchers";var LC=N.createContext(null);LC.displayName="Await";var Qt=N.createContext(null);Qt.displayName="Navigation";var go=N.createContext(null);go.displayName="Location";var an=N.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var uf=N.createContext(null);uf.displayName="RouteError";function MC(t,{relative:e}={}){xe(Ui(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(Qt),{hash:o,pathname:a,search:c}=yo(t,{relative:e}),f=a;return n!=="/"&&(f=a==="/"?n:Sn([n,a])),s.createHref({pathname:f,search:c,hash:o})}function Ui(){return N.useContext(go)!=null}function mr(){return xe(Ui(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(go).location}var ry="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iy(t){N.useContext(Qt).static||N.useLayoutEffect(t)}function _o(){let{isDataRoute:t}=N.useContext(an);return t?QC():FC()}function FC(){xe(Ui(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Fi),{basename:e,navigator:n}=N.useContext(Qt),{matches:s}=N.useContext(an),{pathname:o}=mr(),a=JSON.stringify(lf(s)),c=N.useRef(!1);return iy(()=>{c.current=!0}),N.useCallback((h,m={})=>{if(Lt(c.current,ry),!c.current)return;if(typeof h=="number"){n.go(h);return}let _=af(h,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Sn([e,_.pathname])),(m.replace?n.replace:n.push)(_,m.state,m)},[e,n,a,o,t])}N.createContext(null);function yo(t,{relative:e}={}){let{matches:n}=N.useContext(an),{pathname:s}=mr(),o=JSON.stringify(lf(n));return N.useMemo(()=>af(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function UC(t,e){return sy(t,e)}function sy(t,e,n,s){var W;xe(Ui(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=N.useContext(Qt),{matches:c}=N.useContext(an),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",_=f?f.pathnameBase:"/",y=f&&f.route;{let L=y&&y.path||"";oy(m,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=mr(),C;if(e){let L=typeof e=="string"?Gr(e):e;xe(_==="/"||((W=L.pathname)==null?void 0:W.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${L.pathname}" was given in the \`location\` prop.`),C=L}else C=v;let I=C.pathname||"/",A=I;if(_!=="/"){let L=_.replace(/^\//,"").split("/");A="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let x=!a&&n&&n.matches&&n.matches.length>0?n.matches:X_(t,{pathname:A});Lt(y||x!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Lt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=$C(x&&x.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:Sn([_,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?_:Sn([_,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,n,s);return e&&O?N.createElement(go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},O):O}function jC(){let t=qC(),e=OC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,c)}var zC=N.createElement(jC,null),WC=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(an.Provider,{value:this.props.routeContext},N.createElement(uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BC({routeContext:t,match:e,children:n}){let s=N.useContext(Fi);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(an.Provider,{value:t},n)}function $C(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);xe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,f=-1;if(n)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:_,errors:y}=n,v=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,_)=>{let y,v=!1,C=null,I=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,C=m.route.errorElement||zC,c&&(f<0&&_===0?(oy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,I=null):f===_&&(v=!0,I=m.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,_+1)),x=()=>{let O;return y?O=C:v?O=I:m.route.Component?O=N.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=h,N.createElement(BC,{match:m,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?N.createElement(WC,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):x()},null)}function cf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HC(t){let e=N.useContext(Fi);return xe(e,cf(t)),e}function VC(t){let e=N.useContext(Aa);return xe(e,cf(t)),e}function GC(t){let e=N.useContext(an);return xe(e,cf(t)),e}function df(t){let e=GC(t),n=e.matches[e.matches.length-1];return xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KC(){return df("useRouteId")}function qC(){var s;let t=N.useContext(uf),e=VC("useRouteError"),n=df("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function QC(){let{router:t}=HC("useNavigate"),e=df("useNavigate"),n=N.useRef(!1);return iy(()=>{n.current=!0}),N.useCallback(async(o,a={})=>{Lt(n.current,ry),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var kg={};function oy(t,e,n){!e&&!kg[t]&&(kg[t]=!0,Lt(!1,n))}N.memo(YC);function YC({routes:t,future:e,state:n}){return sy(t,void 0,n,e)}function Id({to:t,replace:e,state:n,relative:s}){xe(Ui(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Qt);Lt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(an),{pathname:c}=mr(),f=_o(),h=af(t,lf(a),c,s==="path"),m=JSON.stringify(h);return N.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:s})},[f,m,s,e,n]),null}function Jn(t){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JC({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:a=!1}){xe(!Ui(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=Gr(n));let{pathname:h="/",search:m="",hash:_="",state:y=null,key:v="default"}=n,C=N.useMemo(()=>{let I=cr(h,c);return I==null?null:{location:{pathname:I,search:m,hash:_,state:y,key:v},navigationType:s}},[c,h,m,_,y,v,s]);return Lt(C!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(Qt.Provider,{value:f},N.createElement(go.Provider,{children:e,value:C}))}function XC({children:t,location:e}){return UC(kd(t),e)}function kd(t,e=[]){let n=[];return N.Children.forEach(t,(s,o)=>{if(!N.isValidElement(s))return;let a=[...e,o];if(s.type===N.Fragment){n.push.apply(n,kd(s.props.children,a));return}xe(s.type===Jn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=kd(s.props.children,a)),n.push(c)}),n}var Kl="get",ql="application/x-www-form-urlencoded";function Oa(t){return t!=null&&typeof t.tagName=="string"}function ZC(t){return Oa(t)&&t.tagName.toLowerCase()==="button"}function eI(t){return Oa(t)&&t.tagName.toLowerCase()==="form"}function tI(t){return Oa(t)&&t.tagName.toLowerCase()==="input"}function nI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rI(t,e){return t.button===0&&(!e||e==="_self")&&!nI(t)}var Bl=null;function iI(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var sI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(t){return t!=null&&!sI.has(t)?(Lt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ql}"`),null):t}function oI(t,e){let n,s,o,a,c;if(eI(t)){let f=t.getAttribute("action");s=f?cr(f,e):null,n=t.getAttribute("method")||Kl,o=id(t.getAttribute("enctype"))||ql,a=new FormData(t)}else if(ZC(t)||tI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(s=h?cr(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Kl,o=id(t.getAttribute("formenctype"))||id(f.getAttribute("enctype"))||ql,a=new FormData(f,t),!iI()){let{name:m,type:_,value:y}=t;if(_==="image"){let v=m?`${m}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else m&&a.append(m,y)}}else{if(Oa(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kl,s=null,o=ql,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:a,body:c}}function ff(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function lI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uI(t,e,n){let s=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await lI(a,n);return c.links?c.links():[]}return[]}));return hI(s.flat(1).filter(aI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tg(t,e,n,s,o,a){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>{var _;return n[m].pathname!==h.pathname||((_=n[m].route.path)==null?void 0:_.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var y;let _=s.routes[h.route.id];if(!_||!_.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function cI(t,e){return dI(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function dI(t){return[...new Set(t)]}function fI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function hI(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let a=JSON.stringify(fI(o));return n.has(a)||(n.add(a),s.push({key:a,link:o})),s},[])}function pI(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mI(){let t=N.useContext(Fi);return ff(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gI(){let t=N.useContext(Aa);return ff(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hf=N.createContext(void 0);hf.displayName="FrameworkContext";function ly(){let t=N.useContext(hf);return ff(t,"You must render this element inside a <HydratedRouter> element"),t}function _I(t,e){let n=N.useContext(hf),[s,o]=N.useState(!1),[a,c]=N.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:_,onTouchStart:y}=e,v=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=O=>{O.forEach(W=>{c(W.isIntersecting)})},x=new IntersectionObserver(A,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[t]),N.useEffect(()=>{if(s){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[s]);let C=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:bs(f,C),onBlur:bs(h,I),onMouseEnter:bs(m,C),onMouseLeave:bs(_,I),onTouchStart:bs(y,C)}]:[!1,v,{}]}function bs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yI({page:t,...e}){let{router:n}=mI(),s=N.useMemo(()=>X_(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?N.createElement(wI,{page:t,matches:s,...e}):null}function vI(t){let{manifest:e,routeModules:n}=ly(),[s,o]=N.useState([]);return N.useEffect(()=>{let a=!1;return uI(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),s}function wI({page:t,matches:e,...n}){let s=mr(),{manifest:o,routeModules:a}=ly(),{loaderData:c,matches:f}=gI(),h=N.useMemo(()=>Tg(t,e,f,o,s,"data"),[t,e,f,o,s]),m=N.useMemo(()=>Tg(t,e,f,o,s,"assets"),[t,e,f,o,s]),_=N.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let C=new Set,I=!1;if(e.forEach(x=>{var W;let O=o.routes[x.route.id];!O||!O.hasLoader||(!h.some(L=>L.route.id===x.route.id)&&x.route.id in c&&((W=a[x.route.id])!=null&&W.shouldRevalidate)||O.hasClientLoader?I=!0:C.add(x.route.id))}),C.size===0)return[];let A=pI(t);return I&&C.size>0&&A.searchParams.set("_routes",e.filter(x=>C.has(x.route.id)).map(x=>x.route.id).join(",")),[A.pathname+A.search]},[c,s,o,h,e,t,a]),y=N.useMemo(()=>cI(m,o),[m,o]),v=vI(m);return N.createElement(N.Fragment,null,_.map(C=>N.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),y.map(C=>N.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),v.map(({key:C,link:I})=>N.createElement("link",{key:C,...I})))}function EI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ay=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ay&&(window.__reactRouterVersion="7.1.5")}catch{}function SI({basename:t,children:e,window:n}){let s=N.useRef();s.current==null&&(s.current=cC({window:n,v5Compat:!0}));let o=s.current,[a,c]=N.useState({action:o.action,location:o.location}),f=N.useCallback(h=>{N.startTransition(()=>c(h))},[c]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.createElement(JC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xn=N.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:a,replace:c,state:f,target:h,to:m,preventScrollReset:_,viewTransition:y,...v},C){let{basename:I}=N.useContext(Qt),A=typeof m=="string"&&uy.test(m),x,O=!1;if(typeof m=="string"&&A&&(x=m,ay))try{let fe=new URL(window.location.href),De=m.startsWith("//")?new URL(fe.protocol+m):new URL(m),Rt=cr(De.pathname,I);De.origin===fe.origin&&Rt!=null?m=Rt+De.search+De.hash:O=!0}catch{Lt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=MC(m,{relative:o}),[L,B,Y]=_I(s,v),J=TI(m,{replace:c,state:f,target:h,preventScrollReset:_,relative:o,viewTransition:y});function se(fe){e&&e(fe),fe.defaultPrevented||J(fe)}let ee=N.createElement("a",{...v,...Y,href:x||W,onClick:O||a?e:se,ref:EI(C,B),target:h,"data-discover":!A&&n==="render"?"true":void 0});return L&&!A?N.createElement(N.Fragment,null,ee,N.createElement(yI,{page:W})):ee});Xn.displayName="Link";var CI=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:f,children:h,...m},_){let y=yo(c,{relative:m.relative}),v=mr(),C=N.useContext(Aa),{navigator:I,basename:A}=N.useContext(Qt),x=C!=null&&AI(y)&&f===!0,O=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,W=v.pathname,L=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(W=W.toLowerCase(),L=L?L.toLowerCase():null,O=O.toLowerCase()),L&&A&&(L=cr(L,A)||L);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=W===O||!o&&W.startsWith(O)&&W.charAt(B)==="/",J=L!=null&&(L===O||!o&&L.startsWith(O)&&L.charAt(O.length)==="/"),se={isActive:Y,isPending:J,isTransitioning:x},ee=Y?e:void 0,fe;typeof s=="function"?fe=s(se):fe=[s,Y?"active":null,J?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let De=typeof a=="function"?a(se):a;return N.createElement(Xn,{...m,"aria-current":ee,className:fe,ref:_,style:De,to:c,viewTransition:f},typeof h=="function"?h(se):h)});CI.displayName="NavLink";var II=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:a,method:c=Kl,action:f,onSubmit:h,relative:m,preventScrollReset:_,viewTransition:y,...v},C)=>{let I=NI(),A=xI(f,{relative:m}),x=c.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&uy.test(f),W=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let B=L.nativeEvent.submitter,Y=(B==null?void 0:B.getAttribute("formmethod"))||c;I(B||L.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:y})};return N.createElement("form",{ref:C,method:x,action:A,onSubmit:s?h:W,...v,"data-discover":!O&&t==="render"?"true":void 0})});II.displayName="Form";function kI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cy(t){let e=N.useContext(Fi);return xe(e,kI(t)),e}function TI(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:c}={}){let f=_o(),h=mr(),m=yo(t,{relative:a});return N.useCallback(_=>{if(rI(_,e)){_.preventDefault();let y=n!==void 0?n:Js(h)===Js(m);f(t,{replace:y,state:s,preventScrollReset:o,relative:a,viewTransition:c})}},[h,f,m,n,s,e,t,o,a,c])}var RI=0,PI=()=>`__${String(++RI)}__`;function NI(){let{router:t}=cy("useSubmit"),{basename:e}=N.useContext(Qt),n=KC();return N.useCallback(async(s,o={})=>{let{action:a,method:c,encType:f,formData:h,body:m}=oI(s,e);if(o.navigate===!1){let _=o.fetcherKey||PI();await t.fetch(_,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function xI(t,{relative:e}={}){let{basename:n}=N.useContext(Qt),s=N.useContext(an);xe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),a={...yo(t||".",{relative:e})},c=mr();if(t==null){a.search=c.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(_=>_==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let _=f.toString();a.search=_?`?${_}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Sn([n,a.pathname])),Js(a)}function AI(t,e={}){let n=N.useContext(ny);xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cy("useViewTransitionState"),o=yo(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ta(o.pathname,c)!=null||ta(o.pathname,a)!=null}new TextEncoder;var Rg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw ji(e)},ji=function(t){return new Error("Firebase Database ("+dy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},OI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],f=t[n++],h=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},pf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,f=c?t[o+1]:0,h=o+2<t.length,m=h?t[o+2]:0,_=a>>2,y=(a&3)<<4|f>>4;let v=(f&15)<<2|m>>6,C=m&63;h||(C=64,c||(v=64)),s.push(n[_],n[y],n[v],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||m==null||y==null)throw new DI;const v=a<<2|f>>4;if(s.push(v),m!==64){const C=f<<4&240|m>>2;if(s.push(C),y!==64){const I=m<<6&192|y;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hy=function(t){const e=fy(t);return pf.encodeByteArray(e,!0)},na=function(t){return hy(t).replace(/\./g,"")},ra=function(t){try{return pf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){return py(void 0,t)}function py(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!LI(n)||(t[n]=py(t[n],e[n]));return t}function LI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=()=>MI().__FIREBASE_DEFAULTS__,UI=()=>{if(typeof process>"u"||typeof Rg>"u")return;const t=Rg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ra(t[1]);return e&&JSON.parse(e)},mf=()=>{try{return FI()||UI()||jI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},my=t=>{var e,n;return(n=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zI=t=>{const e=my(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},gy=()=>{var t;return(t=mf())===null||t===void 0?void 0:t.config},_y=t=>{var e;return(e=mf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[na(JSON.stringify(n)),na(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function BI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $I(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HI(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VI(){return dy.NODE_ADMIN===!0}function GI(){try{return typeof indexedDB=="object"}catch{return!1}}function KI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qI,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wo.prototype.create)}}class wo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?QI(a,s):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new gr(o,f,s)}}function QI(t,e){return t.replace(YI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const YI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=function(t){let e={},n={},s={},o="";try{const a=t.split(".");e=Xs(ra(a[0])||""),n=Xs(ra(a[1])||""),o=a[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:o}},JI=function(t){const e=vy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},XI=function(t){const e=vy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ni(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Td(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ia(t,e,n){const s={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=e.call(n,t[o],o,t));return s}function sa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const a=t[o],c=e[o];if(Pg(a)&&Pg(c)){if(!sa(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ws(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Bs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],a=this.chain_[1],c=this.chain_[2],f=this.chain_[3],h=this.chain_[4],m,_;for(let y=0;y<80;y++){y<40?y<20?(m=f^a&(c^f),_=1518500249):(m=a^c^f,_=1859775393):y<60?(m=a&c|f&(a|c),_=2400959708):(m=a^c^f,_=3395469782);const v=(o<<5|o>>>27)+m+h+_+s[y]&4294967295;h=f,f=c,c=(a<<30|a>>>2)&4294967295,a=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let o=0;const a=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(a[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(a),c=0;break}}else for(;o<n;)if(a[c]=e[o],++c,++o,c===this.blockSize){this.compress_(a),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let a=24;a>=0;a-=8)e[s]=this.chain_[o]>>a&255,++s;return e}}function ek(t,e){const n=new tk(t,e);return n.subscribe.bind(n)}class tk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sd),o.error===void 0&&(o.error=sd),o.complete===void 0&&(o.complete=sd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sd(){}function Da(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);if(o>=55296&&o<=56319){const a=o-55296;s++,z(s<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(s)-56320;o=65536+(a<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ba=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new vo;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ok(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);s===f&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sk(t){return t===Or?void 0:t}function ok(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ik(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const ak={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},uk=we.INFO,ck={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},dk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=ck[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let _f=class{constructor(e){this.name=e,this._logLevel=uk,this._logHandler=dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};const fk=(t,e)=>e.some(n=>t instanceof n);let Ng,xg;function hk(){return Ng||(Ng=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pk(){return xg||(xg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wy=new WeakMap,Rd=new WeakMap,Ey=new WeakMap,od=new WeakMap,yf=new WeakMap;function mk(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(ir(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&wy.set(n,t)}).catch(()=>{}),yf.set(e,t),e}function gk(t){if(Rd.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Rd.set(t,e)}let Pd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ey.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _k(t){Pd=t(Pd)}function yk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ld(this),e,...n);return Ey.set(s,e.sort?e.sort():[e]),ir(s)}:pk().includes(t)?function(...e){return t.apply(ld(this),e),ir(wy.get(this))}:function(...e){return ir(t.apply(ld(this),e))}}function vk(t){return typeof t=="function"?yk(t):(t instanceof IDBTransaction&&gk(t),fk(t,hk())?new Proxy(t,Pd):t)}function ir(t){if(t instanceof IDBRequest)return mk(t);if(od.has(t))return od.get(t);const e=vk(t);return e!==t&&(od.set(t,e),yf.set(e,t)),e}const ld=t=>yf.get(t);function wk(t,e,{blocked:n,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),f=ir(c);return s&&c.addEventListener("upgradeneeded",h=>{s(ir(c.result),h.oldVersion,h.newVersion,ir(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const Ek=["get","getKey","getAll","getAllKeys","count"],Sk=["put","add","delete","clear"],ad=new Map;function Ag(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ad.get(e))return ad.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Sk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ek.includes(n)))return;const a=async function(c,...f){const h=this.transaction(c,o?"readwrite":"readonly");let m=h.store;return s&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&h.done]))[0]};return ad.set(e,a),a}_k(t=>({...t,get:(e,n,s)=>Ag(e,n)||t.get(e,n,s),has:(e,n)=>!!Ag(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ik(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ik(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nd="@firebase/app",Og="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new _f("@firebase/app"),kk="@firebase/app-compat",Tk="@firebase/analytics-compat",Rk="@firebase/analytics",Pk="@firebase/app-check-compat",Nk="@firebase/app-check",xk="@firebase/auth",Ak="@firebase/auth-compat",Ok="@firebase/database",Dk="@firebase/data-connect",bk="@firebase/database-compat",Lk="@firebase/functions",Mk="@firebase/functions-compat",Fk="@firebase/installations",Uk="@firebase/installations-compat",jk="@firebase/messaging",zk="@firebase/messaging-compat",Wk="@firebase/performance",Bk="@firebase/performance-compat",$k="@firebase/remote-config",Hk="@firebase/remote-config-compat",Vk="@firebase/storage",Gk="@firebase/storage-compat",Kk="@firebase/firestore",qk="@firebase/vertexai",Qk="@firebase/firestore-compat",Yk="firebase",Jk="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",Xk={[Nd]:"fire-core",[kk]:"fire-core-compat",[Rk]:"fire-analytics",[Tk]:"fire-analytics-compat",[Nk]:"fire-app-check",[Pk]:"fire-app-check-compat",[xk]:"fire-auth",[Ak]:"fire-auth-compat",[Ok]:"fire-rtdb",[Dk]:"fire-data-connect",[bk]:"fire-rtdb-compat",[Lk]:"fire-fn",[Mk]:"fire-fn-compat",[Fk]:"fire-iid",[Uk]:"fire-iid-compat",[jk]:"fire-fcm",[zk]:"fire-fcm-compat",[Wk]:"fire-perf",[Bk]:"fire-perf-compat",[$k]:"fire-rc",[Hk]:"fire-rc-compat",[Vk]:"fire-gcs",[Gk]:"fire-gcs-compat",[Kk]:"fire-fst",[Qk]:"fire-fst-compat",[qk]:"fire-vertex","fire-js":"fire-js",[Yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Map,Zk=new Map,Ad=new Map;function Dg(t,e){try{t.container.addComponent(e)}catch(n){Tn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xi(t){const e=t.name;if(Ad.has(e))return Tn.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,t);for(const n of Zs.values())Dg(n,t);for(const n of Zk.values())Dg(n,t);return!0}function vf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new wo("app","Firebase",eT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=Jk;function Sy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw sr.create("bad-app-name",{appName:String(o)});if(n||(n=gy()),!n)throw sr.create("no-options");const a=Zs.get(o);if(a){if(sa(n,a.options)&&sa(s,a.config))return a;throw sr.create("duplicate-app",{appName:o})}const c=new lk(o);for(const h of Ad.values())c.addComponent(h);const f=new tT(n,s,c);return Zs.set(o,f),f}function Cy(t=xd){const e=Zs.get(t);if(!e&&t===xd&&gy())return Sy();if(!e)throw sr.create("no-app",{appName:t});return e}function bg(){return Array.from(Zs.values())}function or(t,e,n){var s;let o=(s=Xk[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tn.warn(f.join(" "));return}xi(new Fr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebase-heartbeat-database",rT=1,eo="firebase-heartbeat-store";let ud=null;function Iy(){return ud||(ud=wk(nT,rT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eo)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),ud}async function iT(t){try{const n=(await Iy()).transaction(eo),s=await n.objectStore(eo).get(ky(t));return await n.done,s}catch(e){if(e instanceof gr)Tn.warn(e.message);else{const n=sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tn.warn(n.message)}}}async function Lg(t,e){try{const s=(await Iy()).transaction(eo,"readwrite");await s.objectStore(eo).put(e,ky(t)),await s.done}catch(n){if(n instanceof gr)Tn.warn(n.message);else{const s=sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tn.warn(s.message)}}}function ky(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=1024,oT=30*24*60*60*1e3;class lT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uT(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Mg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=oT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Tn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mg(),{heartbeatsToSend:s,unsentEntries:o}=aT(this._heartbeatsCache.heartbeats),a=na(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Tn.warn(n),""}}}function Mg(){return new Date().toISOString().substring(0,10)}function aT(t,e=sT){const n=[];let s=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Fg(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Fg(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GI()?KI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Lg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Lg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fg(t){return na(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){xi(new Fr("platform-logger",e=>new Ck(e),"PRIVATE")),xi(new Fr("heartbeat",e=>new lT(e),"PRIVATE")),or(Nd,Og,t),or(Nd,Og,"esm2017"),or("fire-js","")}cT("");function wf(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function Ty(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dT=Ty,Ry=new wo("auth","Firebase",Ty());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new _f("@firebase/auth");function fT(t,...e){oa.logLevel<=we.WARN&&oa.warn(`Auth (${Wi}): ${t}`,...e)}function Ql(t,...e){oa.logLevel<=we.ERROR&&oa.error(`Auth (${Wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,...e){throw Ef(t,...e)}function on(t,...e){return Ef(t,...e)}function Py(t,e,n){const s=Object.assign(Object.assign({},dT()),{[e]:n});return new wo("auth","Firebase",s).create(e,{appName:t.name})}function Cn(t){return Py(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ef(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Ry.create(t,...e)}function re(t,e,...n){if(!t)throw Ef(e,...n)}function yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ql(e),new Error(e)}function Rn(t,e){t||yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hT(){return Ug()==="http:"||Ug()==="https:"}function Ug(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hT()||$I()||"connection"in navigator)?navigator.onLine:!0}function mT(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rn(n>e,"Short delay should be less than long delay!"),this.isMobile=gf()||yy()}get(){return pT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t,e){Rn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Eo(3e4,6e4);function _r(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yr(t,e,n,s,o={}){return xy(t,o,async()=>{let a={},c={};s&&(e==="GET"?c=s:a={body:JSON.stringify(s)});const f=zi(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return BI()||(m.referrerPolicy="no-referrer"),Ny.fetch()(Ay(t,t.config.apiHost,n,f),m)})}async function xy(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},gT),e);try{const o=new vT(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw $l(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw $l(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw $l(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw $l(t,"user-disabled",c);const _=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Py(t,_,m);qt(t,_)}}catch(o){if(o instanceof gr)throw o;qt(t,"network-request-failed",{message:String(o)})}}async function So(t,e,n,s,o={}){const a=await yr(t,e,n,s,o);return"mfaPendingCredential"in a&&qt(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Ay(t,e,n,s){const o=`${e}${n}?${s}`;return t.config.emulator?Sf(t.config,o):`${t.config.apiScheme}://${o}`}function yT(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(on(this.auth,"network-request-failed")),_T.get())})}}function $l(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=on(t,e,s);return o.customData._tokenResponse=n,o}function jg(t){return t!==void 0&&t.enterprise!==void 0}class wT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yT(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ET(t,e){return yr(t,"GET","/v2/recaptchaConfig",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(t,e){return yr(t,"POST","/v1/accounts:delete",e)}async function Oy(t,e){return yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CT(t,e=!1){const n=st(t),s=await n.getIdToken(e),o=Cf(s);re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:Hs(cd(o.auth_time)),issuedAtTime:Hs(cd(o.iat)),expirationTime:Hs(cd(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function cd(t){return Number(t)*1e3}function Cf(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ql("JWT malformed, contained fewer than 3 sections"),null;try{const o=ra(n);return o?JSON.parse(o):(Ql("Failed to decode base64 JWT payload"),null)}catch(o){return Ql("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zg(t){const e=Cf(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&IT(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function IT({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hs(this.lastLoginAt),this.creationTime=Hs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t){var e;const n=t.auth,s=await t.getIdToken(),o=await to(t,Oy(n,{idToken:s}));re(o==null?void 0:o.users.length,n,"internal-error");const a=o.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Dy(a.providerUserInfo):[],f=RT(t.providerData,c),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(f!=null&&f.length),_=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Dd(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(t,y)}async function TT(t){const e=st(t);await la(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RT(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Dy(t){return t.map(e=>{var{providerId:n}=e,s=wf(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PT(t,e){const n=await xy(t,{},async()=>{const s=zi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=Ay(t,o,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Ny.fetch()(c,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NT(t,e){return yr(t,"POST","/v2/accounts:revokeToken",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=zg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:a}=await PT(e,n);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:a}=n,c=new Ii;return s&&(re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ii,this.toJSON())}_performRefresh(){return yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,a=wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dd(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await to(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CT(this,e)}reload(){return TT(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await la(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rn(this.auth.app))return Promise.reject(Cn(this.auth));const e=await this.getIdToken();return await to(this,ST(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,a,c,f,h,m,_;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,C=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,I=(c=n.photoURL)!==null&&c!==void 0?c:void 0,A=(f=n.tenantId)!==null&&f!==void 0?f:void 0,x=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,O=(m=n.createdAt)!==null&&m!==void 0?m:void 0,W=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:L,emailVerified:B,isAnonymous:Y,providerData:J,stsTokenManager:se}=n;re(L&&se,e,"internal-error");const ee=Ii.fromJSON(this.name,se);re(typeof L=="string",e,"internal-error"),Yn(y,e.name),Yn(v,e.name),re(typeof B=="boolean",e,"internal-error"),re(typeof Y=="boolean",e,"internal-error"),Yn(C,e.name),Yn(I,e.name),Yn(A,e.name),Yn(x,e.name),Yn(O,e.name),Yn(W,e.name);const fe=new vn({uid:L,auth:e,email:v,emailVerified:B,displayName:y,isAnonymous:Y,photoURL:I,phoneNumber:C,tenantId:A,stsTokenManager:ee,createdAt:O,lastLoginAt:W});return J&&Array.isArray(J)&&(fe.providerData=J.map(De=>Object.assign({},De))),x&&(fe._redirectEventId=x),fe}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ii;o.updateFromServerResponse(n);const a=new vn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await la(a),a}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Dy(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Ii;f.updateFromIdToken(s);const h=new vn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Dd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map;function wn(t){Rn(t instanceof Function,"Expected a class definition");let e=Wg.get(t);return e?(Rn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}by.type="NONE";const Bg=by;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t,e,n){return`firebase:${t}:${e}:${n}`}class ki{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Yl(this.userKey,o.apiKey,a),this.fullPersistenceKey=Yl("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ki(wn(Bg),e,s);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||wn(Bg);const c=Yl(s,e.config.apiKey,e.name);let f=null;for(const m of n)try{const _=await m._get(c);if(_){const y=vn._fromJSON(e,_);m!==a&&(f=y),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ki(a,e,s):(a=h[0],f&&await a._set(c,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new ki(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ly(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zy(e))return"Blackberry";if(Wy(e))return"Webos";if(My(e))return"Safari";if((e.includes("chrome/")||Fy(e))&&!e.includes("edge/"))return"Chrome";if(jy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ly(t=ct()){return/firefox\//i.test(t)}function My(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fy(t=ct()){return/crios\//i.test(t)}function Uy(t=ct()){return/iemobile/i.test(t)}function jy(t=ct()){return/android/i.test(t)}function zy(t=ct()){return/blackberry/i.test(t)}function Wy(t=ct()){return/webos/i.test(t)}function If(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xT(t=ct()){var e;return If(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AT(){return HI()&&document.documentMode===10}function By(t=ct()){return If(t)||jy(t)||Wy(t)||zy(t)||/windows phone/i.test(t)||Uy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e=[]){let n;switch(t){case"Browser":n=$g(ct());break;case"Worker":n=`${$g(ct())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wi}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((c,f)=>{try{const h=e(a);c(h)}catch(h){f(h)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(t,e={}){return yr(t,"GET","/v2/passwordPolicy",_r(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=6;class LT{constructor(e){var n,s,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:bT,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,a,c,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(s=h.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hg(this),this.idTokenSubscription=new Hg(this),this.beforeStateQueue=new OT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ry,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wn(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ki.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oy(this,{idToken:e}),s=await vn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await la(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rn(this.app))return Promise.reject(Cn(this));const n=e?st(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rn(this.app)?Promise.reject(Cn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rn(this.app)?Promise.reject(Cn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DT(this),n=new LT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NT(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wn(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await ki.create(this,[wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,s,o);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$y(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fT(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Kr(t){return st(t)}class Hg{constructor(e){this.auth=e,this.observer=null,this.addObserver=ek(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FT(t){La=t}function Hy(t){return La.loadJS(t)}function UT(){return La.recaptchaEnterpriseScript}function jT(){return La.gapiScript}function zT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class WT{constructor(){this.enterprise=new BT}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BT{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $T="recaptcha-enterprise",Vy="NO_RECAPTCHA";class HT{constructor(e){this.type=$T,this.auth=Kr(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,f)=>{ET(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new wT(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(h=>{f(h)})})}function o(a,c,f){const h=window.grecaptcha;jg(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(Vy)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WT().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{s(this.auth).then(f=>{if(!n&&jg(window.grecaptcha))o(f,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=UT();h.length!==0&&(h+=f),Hy(h).then(()=>{o(f,a,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function Vg(t,e,n,s=!1,o=!1){const a=new HT(t);let c;if(o)c=Vy;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function bd(t,e,n,s,o){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Vg(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Vg(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){const n=vf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(sa(a,e??{}))return o;qt(o,"already-initialized")}return n.initialize({options:e})}function GT(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function KT(t,e,n){const s=Kr(t);re(s._canInitEmulator,s,"emulator-config-failed"),re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=Gy(e),{host:c,port:f}=qT(e),h=f===null?"":`:${f}`;s.config.emulator={url:`${a}//${c}${h}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),QT()}function Gy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qT(t){const e=Gy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:Gg(s.substr(a.length+1))}}else{const[a,c]=s.split(":");return{host:a,port:Gg(c)}}}function Gg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QT(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yn("not implemented")}_getIdTokenResponse(e){return yn("not implemented")}_linkToIdToken(e,n){return yn("not implemented")}_getReauthenticationResolver(e){return yn("not implemented")}}async function YT(t,e){return yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(t,e){return So(t,"POST","/v1/accounts:signInWithPassword",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))}async function ZT(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends kf{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new no(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new no(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bd(e,n,"signInWithPassword",JT);case"emailLink":return XT(e,{email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bd(e,s,"signUpPassword",YT);case"emailLink":return ZT(e,{idToken:n,email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(t,e){return So(t,"POST","/v1/accounts:signInWithIdp",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="http://localhost";class Ur extends kf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,a=wf(n,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Ur(s,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ti(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ti(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ti(e,n)}buildRequest(){const e={requestUri:e0,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n0(t){const e=Ws(Bs(t)).link,n=e?Ws(Bs(e)).deep_link_id:null,s=Ws(Bs(t)).deep_link_id;return(s?Ws(Bs(s)).link:null)||s||n||e||t}class Tf{constructor(e){var n,s,o,a,c,f;const h=Ws(Bs(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,_=(s=h.oobCode)!==null&&s!==void 0?s:null,y=t0((o=h.mode)!==null&&o!==void 0?o:null);re(m&&_&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=_,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=h.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=n0(e);try{return new Tf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.providerId=Bi.PROVIDER_ID}static credential(e,n){return no._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tf.parseLink(n);return re(s,"argument-error"),no._fromEmailAndCode(e,s.code,s.tenantId)}}Bi.PROVIDER_ID="password";Bi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Co{constructor(){super("facebook.com")}static credential(e){return Ur._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zn.credential(e.oauthAccessToken)}catch{return null}}}Zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Co{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ur._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return er.credential(n,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Co{constructor(){super("github.com")}static credential(e){return Ur._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Co{constructor(){super("twitter.com")}static credential(e,n){return Ur._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return nr.credential(n,s)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r0(t,e){return So(t,"POST","/v1/accounts:signUp",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const a=await vn._fromIdTokenResponse(e,s,o),c=Kg(s);return new jr({user:a,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Kg(s);return new jr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Kg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends gr{constructor(e,n,s,o){var a;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,aa.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new aa(e,n,s,o)}}function qy(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?aa._fromErrorAndOperation(t,a,e,s):a})}async function i0(t,e,n=!1){const s=await to(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0(t,e,n=!1){const{auth:s}=t;if(rn(s.app))return Promise.reject(Cn(s));const o="reauthenticate";try{const a=await to(t,qy(s,o,e,t),n);re(a.idToken,s,"internal-error");const c=Cf(a.idToken);re(c,s,"internal-error");const{sub:f}=c;return re(t.uid===f,s,"user-mismatch"),jr._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&qt(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qy(t,e,n=!1){if(rn(t.app))return Promise.reject(Cn(t));const s="signIn",o=await qy(t,s,e),a=await jr._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(a.user),a}async function o0(t,e){return Qy(Kr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yy(t){const e=Kr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l0(t,e,n){if(rn(t.app))return Promise.reject(Cn(t));const s=Kr(t),c=await bd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r0).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&Yy(t),h}),f=await jr._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function a0(t,e,n){return rn(t.app)?Promise.reject(Cn(t)):o0(st(t),Bi.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Yy(t),s})}function u0(t,e,n,s){return st(t).onIdTokenChanged(e,n,s)}function c0(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function d0(t,e,n,s){return st(t).onAuthStateChanged(e,n,s)}function f0(t){return st(t).signOut()}const ua="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=1e3,p0=10;class Xy extends Jy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=By(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},a=this.storage.getItem(s);AT()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,p0):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},h0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xy.type="LOCAL";const m0=Xy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends Jy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zy.type="SESSION";const ev=Zy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ma(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(c).map(async m=>m(n.origin,a)),h=await g0(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ma.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((f,h)=>{const m=Rf("",20);o.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(y){const v=y;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(v.data.response);break;default:clearTimeout(_),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function y0(t){ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function v0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w0(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E0(){return tv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="firebaseLocalStorageDb",S0=1,ca="firebaseLocalStorage",rv="fbase_key";class Io{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fa(t,e){return t.transaction([ca],e?"readwrite":"readonly").objectStore(ca)}function C0(){const t=indexedDB.deleteDatabase(nv);return new Io(t).toPromise()}function Ld(){const t=indexedDB.open(nv,S0);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ca,{keyPath:rv})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ca)?e(s):(s.close(),await C0(),e(await Ld()))})})}async function qg(t,e,n){const s=Fa(t,!0).put({[rv]:e,value:n});return new Io(s).toPromise()}async function I0(t,e){const n=Fa(t,!1).get(e),s=await new Io(n).toPromise();return s===void 0?null:s.value}function Qg(t,e){const n=Fa(t,!0).delete(e);return new Io(n).toPromise()}const k0=800,T0=3;class iv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ld(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>T0)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ma._getInstance(E0()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v0(),!this.activeServiceWorker)return;this.sender=new _0(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ld();return await qg(e,ua,"1"),await Qg(e,ua),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qg(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>I0(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Fa(o,!1).getAll();return new Io(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iv.type="LOCAL";const R0=iv;new Eo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e){return e?wn(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends kf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ti(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ti(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N0(t){return Qy(t.auth,new Pf(t),t.bypassAuthState)}function x0(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),s0(n,new Pf(t),t.bypassAuthState)}async function A0(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),i0(n,new Pf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:a,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N0;case"linkViaPopup":case"linkViaRedirect":return A0;case"reauthViaPopup":case"reauthViaRedirect":return x0;default:qt(this.auth,"internal-error")}}resolve(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Eo(2e3,1e4);class Si extends sv{constructor(e,n,s,o,a){super(e,n,o,a),this.provider=s,this.authWindow=null,this.pollId=null,Si.currentPopupAction&&Si.currentPopupAction.cancel(),Si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Rn(this.filter.length===1,"Popup operations only handle one event");const e=Rf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O0.get())};e()}}Si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="pendingRedirect",Jl=new Map;class b0 extends sv{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jl.get(this.auth._key());if(!e){try{const s=await L0(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jl.set(this.auth._key(),e)}return this.bypassAuthState||Jl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L0(t,e){const n=U0(e),s=F0(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function M0(t,e){Jl.set(t._key(),e)}function F0(t){return wn(t._redirectPersistence)}function U0(t){return Yl(D0,t.config.apiKey,t.name)}async function j0(t,e,n=!1){if(rn(t.app))return Promise.reject(Cn(t));const s=Kr(t),o=P0(s,e),c=await new b0(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=10*60*1e3;class W0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B0(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!ov(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(on(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z0&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yg(e))}saveEventToCache(e){this.cachedEventUids.add(Yg(e)),this.lastProcessedEventTime=Date.now()}}function Yg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ov({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B0(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ov(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(t,e={}){return yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V0=/^https?/;async function G0(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $0(t);for(const n of e)try{if(K0(n))return}catch{}qt(t,"unauthorized-domain")}function K0(t){const e=Od(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!V0.test(n))return!1;if(H0.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Eo(3e4,6e4);function Jg(){const t=ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q0(t){return new Promise((e,n)=>{var s,o,a;function c(){Jg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jg(),n(on(t,"network-request-failed"))},timeout:q0.get()})}if(!((o=(s=ln().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ln().gapi)===null||a===void 0)&&a.load)c();else{const f=zT("iframefcb");return ln()[f]=()=>{gapi.load?c():n(on(t,"network-request-failed"))},Hy(`${jT()}?onload=${f}`).catch(h=>n(h))}}).catch(e=>{throw Xl=null,e})}let Xl=null;function Y0(t){return Xl=Xl||Q0(t),Xl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Eo(5e3,15e3),X0="__/auth/iframe",Z0="emulator/auth/iframe",eR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nR(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sf(e,Z0):`https://${t.config.authDomain}/${X0}`,s={apiKey:e.apiKey,appName:t.name,v:Wi},o=tR.get(t.config.apiHost);o&&(s.eid=o);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${zi(s).slice(1)}`}async function rR(t){const e=await Y0(t),n=ln().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:nR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eR,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const c=on(t,"network-request-failed"),f=ln().setTimeout(()=>{a(c)},J0.get());function h(){ln().clearTimeout(f),o(s)}s.ping(h).then(h,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sR=500,oR=600,lR="_blank",aR="http://localhost";class Xg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uR(t,e,n,s=sR,o=oR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const h=Object.assign(Object.assign({},iR),{width:s.toString(),height:o.toString(),top:a,left:c}),m=ct().toLowerCase();n&&(f=Fy(m)?lR:n),Ly(m)&&(e=e||aR,h.scrollbars="yes");const _=Object.entries(h).reduce((v,[C,I])=>`${v}${C}=${I},`,"");if(xT(m)&&f!=="_self")return cR(e||"",f),new Xg(null);const y=window.open(e||"",f,_);re(y,t,"popup-blocked");try{y.focus()}catch{}return new Xg(y)}function cR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="__/auth/handler",fR="emulator/auth/handler",hR=encodeURIComponent("fac");async function Zg(t,e,n,s,o,a){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Wi,eventId:o};if(e instanceof Ky){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Td(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))c[_]=y}if(e instanceof Co){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(c.scopes=_.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const h=await t._getAppCheckToken(),m=h?`#${hR}=${encodeURIComponent(h)}`:"";return`${pR(t)}?${zi(f).slice(1)}${m}`}function pR({config:t}){return t.emulator?Sf(t,fR):`https://${t.authDomain}/${dR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="webStorageSupport";class mR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ev,this._completeRedirectFn=j0,this._overrideRedirectResult=M0}async _openPopup(e,n,s,o){var a;Rn((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Zg(e,n,s,Od(),o);return uR(e,c,Rf())}async _openRedirect(e,n,s,o){await this._originValidation(e);const a=await Zg(e,n,s,Od(),o);return y0(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Rn(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rR(e),s=new W0(e);return n.register("authEvent",o=>(re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dd,{type:dd},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[dd];c!==void 0&&n(!!c),qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G0(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return By()||My()||If()}}const gR=mR;var e_="@firebase/auth",t_="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vR(t){xi(new Fr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$y(t)},m=new MT(s,o,a,h);return GT(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xi(new Fr("auth-internal",e=>{const n=Kr(e.getProvider("auth").getImmediate());return(s=>new _R(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(e_,t_,yR(t)),or(e_,t_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=5*60,ER=_y("authIdTokenMaxAge")||wR;let n_=null;const SR=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ER)return;const o=n==null?void 0:n.token;n_!==o&&(n_=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CR(t=Cy()){const e=vf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VT(t,{popupRedirectResolver:gR,persistence:[R0,m0,ev]}),s=_y("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const c=SR(a.toString());c0(n,c,()=>c(n.currentUser)),u0(n,f=>c(f))}}const o=my("auth");return o&&KT(n,`http://${o}`),n}function IR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FT({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const a=on("internal-error");a.customData=o,n(a)},s.type="text/javascript",s.charset="UTF-8",IR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vR("Browser");var kR="firebase",TR="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(kR,TR,"app");var r_={};const i_="@firebase/database",s_="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lv="";function RR(t){lv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PR(e)}}catch{}return new NR},Lr=av("localStorage"),xR=av("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new _f("@firebase/database"),AR=function(){let t=1;return function(){return t++}}(),uv=function(t){const e=rk(t),n=new ZI;n.update(e);const s=n.digest();return pf.encodeByteArray(s)},ko=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=ko.apply(null,s):typeof s=="object"?e+=He(s):e+=s,e+=" "}return e};let Vs=null,o_=!0;const OR=function(t,e){z(!0,"Can't turn on custom loggers persistently."),Ri.logLevel=we.VERBOSE,Vs=Ri.log.bind(Ri)},Ze=function(...t){if(o_===!0&&(o_=!1,Vs===null&&xR.get("logging_enabled")===!0&&OR()),Vs){const e=ko.apply(null,t);Vs(e)}},To=function(t){return function(...e){Ze(t,...e)}},Md=function(...t){const e="FIREBASE INTERNAL ERROR: "+ko(...t);Ri.error(e)},Pn=function(...t){const e=`FIREBASE FATAL ERROR: ${ko(...t)}`;throw Ri.error(e),new Error(e)},ut=function(...t){const e="FIREBASE WARNING: "+ko(...t);Ri.warn(e)},DR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Nf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ai="[MIN_NAME]",zr="[MAX_NAME]",qr=function(t,e){if(t===e)return 0;if(t===Ai||e===zr)return-1;if(e===Ai||t===zr)return 1;{const n=l_(t),s=l_(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},LR=function(t,e){return t===e?0:t<e?-1:1},Ls=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},xf=function(t){if(typeof t!="object"||t===null)return He(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=He(e[s]),n+=":",n+=xf(t[e[s]]);return n+="}",n},cv=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let o=0;o<n;o+=e)o+e>n?s.push(t.substring(o,n)):s.push(t.substring(o,o+e));return s};function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const dv=function(t){z(!Nf(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let o,a,c,f,h;t===0?(a=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),s),a=f+s,c=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(a=0,c=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(h=n;h;h-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(h=e;h;h-=1)m.push(a%2?1:0),a=Math.floor(a/2);m.push(o?1:0),m.reverse();const _=m.join("");let y="";for(h=0;h<64;h+=8){let v=parseInt(_.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},MR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},FR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const jR=new RegExp("^-?(0*)\\d{1,10}$"),zR=-2147483648,WR=2147483647,l_=function(t){if(jR.test(t)){const e=Number(t);if(e>=zR&&e<=WR)return e}return null},$i=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ut("Exception was thrown by user callback.",n),e},Math.floor(0))}},BR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(e)}}class Zl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="5",fv="v",hv="s",pv="r",mv="f",gv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_v="ls",yv="p",Fd="ac",vv="websocket",wv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n,s,o,a=!1,c="",f=!1,h=!1){this.secure=n,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=c,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function VR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Sv(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let s;if(e===vv)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===wv)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);VR(t)&&(n.ns=t.namespace);const o=[];return et(n,(a,c)=>{o.push(a+"="+c)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd={},hd={};function Of(t){const e=t.toString();return fd[e]||(fd[e]=new GR),fd[e]}function KR(t,e){const n=t.toString();return hd[n]||(hd[n]=e()),hd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&$i(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="start",QR="close",YR="pLPCommand",JR="pRTLPCB",Cv="id",Iv="pw",kv="ser",XR="cb",ZR="seg",eP="ts",tP="d",nP="dframe",Tv=1870,Rv=30,rP=Tv-Rv,iP=25e3,sP=3e4;class Ci{constructor(e,n,s,o,a,c,f){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=o,this.authToken=a,this.transportSessionId=c,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=To(e),this.stats_=Of(n),this.urlFn=h=>(this.appCheckToken&&(h[Fd]=this.appCheckToken),Sv(n,wv,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sP)),bR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Df((...a)=>{const[c,f,h,m,_]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===a_)this.id=f,this.password=h;else if(c===QR)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...a)=>{const[c,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(c,f)},()=>{this.onClosed_()},this.urlFn);const s={};s[a_]="t",s[kv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[XR]=this.scriptTagHolder.uniqueCallbackIdentifier),s[fv]=Af,this.transportSessionId&&(s[hv]=this.transportSessionId),this.lastSessionId&&(s[_v]=this.lastSessionId),this.applicationId&&(s[yv]=this.applicationId),this.appCheckToken&&(s[Fd]=this.appCheckToken),typeof location<"u"&&location.hostname&&gv.test(location.hostname)&&(s[pv]=mv);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ci.forceAllow_=!0}static forceDisallow(){Ci.forceDisallow_=!0}static isAvailable(){return Ci.forceAllow_?!0:!Ci.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MR()&&!FR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=hy(n),o=cv(s,rP);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[nP]="t",s[Cv]=e,s[Iv]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Df{constructor(e,n,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AR(),window[YR+this.uniqueCallbackIdentifier]=e,window[JR+this.uniqueCallbackIdentifier]=n,this.myIFrame=Df.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(f){Ze("frame writing exception"),f.stack&&Ze(f.stack),Ze(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ze("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Cv]=this.myID,e[Iv]=this.myPW,e[kv]=this.currentSerial;let n=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Rv+s.length<=Tv;){const c=this.pendingSegs.shift();s=s+"&"+ZR+o+"="+c.seg+"&"+eP+o+"="+c.ts+"&"+tP+o+"="+c.d,o++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(s,Math.floor(iP)),a=()=>{clearTimeout(o),s()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=16384,lP=45e3;let da=null;typeof MozWebSocket<"u"?da=MozWebSocket:typeof WebSocket<"u"&&(da=WebSocket);class sn{constructor(e,n,s,o,a,c,f){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=To(this.connId),this.stats_=Of(n),this.connURL=sn.connectionURL_(n,c,f,o,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,o,a){const c={};return c[fv]=Af,typeof location<"u"&&location.hostname&&gv.test(location.hostname)&&(c[pv]=mv),n&&(c[hv]=n),s&&(c[_v]=s),o&&(c[Fd]=o),a&&(c[yv]=a),Sv(e,vv,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lr.set("previous_websocket_failure",!0);try{let s;VI(),this.mySock=new da(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&da!==null&&!sn.forceDisallow_}static previouslyFailed(){return Lr.isInMemoryStorage||Lr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Lr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Xs(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=cv(n,oP);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static get ALL_TRANSPORTS(){return[Ci,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=sn.isAvailable();let s=n&&!sn.previouslyFailed();if(e.webSocketOnly&&(n||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[sn];else{const o=this.transports_=[];for(const a of ro.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);ro.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ro.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=6e4,uP=5e3,cP=10*1024,dP=100*1024,pd="t",u_="d",fP="s",c_="r",hP="e",d_="o",f_="a",h_="n",p_="p",pP="h";class mP{constructor(e,n,s,o,a,c,f,h,m,_){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=c,this.onReady_=f,this.onDisconnect_=h,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=To("c:"+this.id+":"),this.transportManager_=new ro(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Gs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pd in e){const n=e[pd];n===f_?this.upgradeIfSecondaryHealthy_():n===c_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===d_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ls("t",e),s=Ls("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:p_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:f_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:h_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ls("t",e),s=Ls("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ls(pd,e);if(u_ in e){const s=e[u_];if(n===pP){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===h_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fP?this.onConnectionShutdown_(s):n===c_?this.onReset_(s):n===hP?Md("Server Error: "+s):n===d_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Md("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Af!==s&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Gs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:p_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{put(e,n,s,o){}merge(e,n,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const o=this.getInitialEvent(e);o&&n.apply(s,o)}off(e,n,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let a=0;a<o.length;a++)if(o[a].callback===n&&(!s||s===o[a].context)){o.splice(a,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Nv{static getInstance(){return new fa}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=32,g_=768;class Ee{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function _e(){return new Ee("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function dr(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ee(t.pieces_,e)}function bf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function io(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function xv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ee(e,0)}function Me(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ee)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&n.push(s[o])}return new Ee(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function at(t,e){const n=ae(t),s=ae(e);if(n===null)return e;if(n===s)return at(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _P(t,e){const n=io(t,0),s=io(e,0);for(let o=0;o<n.length&&o<s.length;o++){const a=qr(n[o],s[o]);if(a!==0)return a}return n.length===s.length?0:n.length<s.length?-1:1}function Lf(t,e){if(dr(t)!==dr(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function bt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(dr(t)>dr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class yP{constructor(e,n){this.errorPrefix_=n,this.parts_=io(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ba(this.parts_[s]);Av(this)}}function vP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ba(e),Av(t)}function wP(t){const e=t.parts_.pop();t.byteLength_-=ba(e),t.parts_.length>0&&(t.byteLength_-=1)}function Av(t){if(t.byteLength_>g_)throw new Error(t.errorPrefix_+"has a key path longer than "+g_+" bytes ("+t.byteLength_+").");if(t.parts_.length>m_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+m_+") or object contains a cycle "+Dr(t))}function Dr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Nv{static getInstance(){return new Mf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=1e3,EP=60*5*1e3,__=30*1e3,SP=1.3,CP=3e4,IP="server_kill",y_=3;class In extends Pv{constructor(e,n,s,o,a,c,f,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=f,this.authOverride_=h,this.id=In.nextPersistentConnectionId_++,this.log_=To("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ms,this.maxReconnectDelay_=EP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const o=++this.requestNumber_,a={r:o,a:e,b:n};this.log_(He(a)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const n=new vo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const f=c.d;c.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,s,o){this.initConnection_();const a=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:n,query:e,tag:s};this.listens.get(c).set(a,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+s+" for "+o);const a={p:s},c="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(c,a,f=>{const h=f.d,m=f.s;In.warnOnListenWarnings_(h,n),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",f),m!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(m,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&un(e,"w")){const s=Ni(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||XI(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=__)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=JI(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,o=>{const a=o.s,c=o.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,n)}sendUnlisten_(e,n,s,o){this.log_("Unlisten on "+e+" for "+n);const a={p:e},c="n";o&&(a.q=s,a.t=o),this.sendRequest(c,a)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,o){const a={p:n,d:s};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,s,o){this.putInternal("p",e,n,s,o)}merge(e,n,s,o){this.putInternal("m",e,n,s,o)}putInternal(e,n,s,o,a){this.initConnection_();const c={p:n,d:s};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const a=s.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+He(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Md("Unrecognized action received from server: "+He(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CP&&(this.reconnectDelay_=Ms),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+In.nextConnectionId_++,a=this.lastSessionId;let c=!1,f=null;const h=function(){f?f.close():(c=!0,s())},m=function(y){z(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:h,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);c?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,f=new mP(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,C=>{ut(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(IP)},a))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&ut(y),h())}}}interrupt(e){Ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Td(this.interruptReasons_)&&(this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(a=>xf(a)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const s=new Ee(e).toString();let o;if(this.listens.has(s)){const a=this.listens.get(s);o=a.get(n),a.delete(n),a.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,n){Ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=y_&&(this.reconnectDelay_=__,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=y_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+lv.replace(/\./g,"-")]=1,gf()?e["framework.cordova"]=1:yy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fa.getInstance().currentlyOnline();return Td(this.interruptReasons_)&&e}}In.nextPersistentConnectionId_=0;In.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ue(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new ue(Ai,e),o=new ue(Ai,n);return this.compare(s,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl;class Ov extends Ua{static get __EMPTY_NODE(){return Hl}static set __EMPTY_NODE(e){Hl=e}compare(e,n){return qr(e.name,n.name)}isDefinedOn(e){throw ji("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(zr,Hl)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Hl)}toString(){return".key"}}const Pi=new Ov;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,s,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?s(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qe{constructor(e,n,s,o,a){this.key=e,this.value=n,this.color=s??Qe.RED,this.left=o??yt.EMPTY_NODE,this.right=a??yt.EMPTY_NODE}copy(e,n,s,o,a){return new Qe(e??this.key,n??this.value,s??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const a=s(e,o.key);return a<0?o=o.copy(null,null,null,o.left.insert(e,n,s),null):a===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,o;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return yt.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class kP{copy(e,n,s,o,a){return this}insert(e,n,s){return new Qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yt{constructor(e,n=yt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new yt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(e){return new yt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,o=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Vl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Vl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Vl(this.root_,null,this.comparator_,!0,e)}}yt.EMPTY_NODE=new kP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e){return qr(t.name,e.name)}function Ff(t,e){return qr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud;function RP(t){Ud=t}const Dv=function(t){return typeof t=="number"?"number:"+dv(t):"string:"+t},bv=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else z(t===Ud||t.isEmpty(),"priority of unexpected type.");z(t===Ud||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_;class qe{static set __childrenNodeConstructor(e){v_=e}static get __childrenNodeConstructor(){return v_}constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ae(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ae(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(z(s!==".priority"||dr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Dv(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=dv(this.value_):e+=this.value_,this.lazyHash_=uv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,o=qe.VALUE_TYPE_ORDER.indexOf(n),a=qe.VALUE_TYPE_ORDER.indexOf(s);return z(o>=0,"Unknown leaf type: "+n),z(a>=0,"Unknown leaf type: "+s),o===a?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv,Mv;function PP(t){Lv=t}function NP(t){Mv=t}class xP extends Ua{compare(e,n){const s=e.node.getPriority(),o=n.node.getPriority(),a=s.compareTo(o);return a===0?qr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(zr,new qe("[PRIORITY-POST]",Mv))}makePost(e,n){const s=Lv(e);return new ue(n,new qe("[PRIORITY-POST]",s))}toString(){return".priority"}}const Fe=new xP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=Math.log(2);class OP{constructor(e){const n=a=>parseInt(Math.log(a)/AP,10),s=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ha=function(t,e,n,s){t.sort(e);const o=function(h,m){const _=m-h;let y,v;if(_===0)return null;if(_===1)return y=t[h],v=n?n(y):y,new Qe(v,y.node,Qe.BLACK,null,null);{const C=parseInt(_/2,10)+h,I=o(h,C),A=o(C+1,m);return y=t[C],v=n?n(y):y,new Qe(v,y.node,Qe.BLACK,I,A)}},a=function(h){let m=null,_=null,y=t.length;const v=function(I,A){const x=y-I,O=y;y-=I;const W=o(x+1,O),L=t[x],B=n?n(L):L;C(new Qe(B,L.node,A,null,W))},C=function(I){m?(m.left=I,m=I):(_=I,m=I)};for(let I=0;I<h.count;++I){const A=h.nextBitIsOne(),x=Math.pow(2,h.count-(I+1));A?v(x,Qe.BLACK):(v(x,Qe.BLACK),v(x,Qe.RED))}return _},c=new OP(t.length),f=a(c);return new yt(s||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md;const Fs={};class En{static get Default(){return z(Fe,"ChildrenNode.ts has not been loaded"),md=md||new En({".priority":Fs},{".priority":Fe}),md}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ni(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof yt?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){z(e!==Pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const a=n.getIterator(ue.Wrap);let c=a.getNext();for(;c;)o=o||e.isDefinedOn(c.node),s.push(c),c=a.getNext();let f;o?f=ha(s,e.getCompare()):f=Fs;const h=e.toString(),m=Object.assign({},this.indexSet_);m[h]=e;const _=Object.assign({},this.indexes_);return _[h]=f,new En(_,m)}addToIndexes(e,n){const s=ia(this.indexes_,(o,a)=>{const c=Ni(this.indexSet_,a);if(z(c,"Missing index implementation for "+a),o===Fs)if(c.isDefinedOn(e.node)){const f=[],h=n.getIterator(ue.Wrap);let m=h.getNext();for(;m;)m.name!==e.name&&f.push(m),m=h.getNext();return f.push(e),ha(f,c.getCompare())}else return Fs;else{const f=n.get(e.name);let h=o;return f&&(h=h.remove(new ue(e.name,f))),h.insert(e,e.node)}});return new En(s,this.indexSet_)}removeFromIndexes(e,n){const s=ia(this.indexes_,o=>{if(o===Fs)return o;{const a=n.get(e.name);return a?o.remove(new ue(e.name,a)):o}});return new En(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us;class ne{static get EMPTY_NODE(){return Us||(Us=new ne(new yt(Ff),null,En.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&bv(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Us}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Us:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new ue(e,n);let o,a;n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(s,this.children_));const c=o.isEmpty()?Us:this.priorityNode_;return new ne(o,c,a)}}updateChild(e,n){const s=ae(e);if(s===null)return n;{z(ae(e)!==".priority"||dr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(ke(e),n);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,o=0,a=!0;if(this.forEachChild(Fe,(c,f)=>{n[c]=f.val(e),s++,a&&ne.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):a=!1}),!e&&a&&o<2*s){const c=[];for(const f in n)c[f]=n[f];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Dv(this.getPriority().val())+":"),this.forEachChild(Fe,(n,s)=>{const o=s.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":uv(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const o=this.resolveIndex_(s);if(o){const a=o.getPredecessorKey(new ue(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ue(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ue(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ue.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ro?-1:0}withIndex(e){if(e===Pi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Pi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Fe),o=n.getIterator(Fe);let a=s.getNext(),c=o.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=s.getNext(),c=o.getNext()}return a===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Pi?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class DP extends ne{constructor(){super(new yt(Ff),ne.EMPTY_NODE,En.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const Ro=new DP;Object.defineProperties(ue,{MIN:{value:new ue(Ai,ne.EMPTY_NODE)},MAX:{value:new ue(zr,Ro)}});Ov.__EMPTY_NODE=ne.EMPTY_NODE;qe.__childrenNodeConstructor=ne;RP(Ro);NP(Ro);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=!0;function $e(t,e=null){if(t===null)return ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,$e(e))}if(!(t instanceof Array)&&bP){const n=[];let s=!1;if(et(t,(c,f)=>{if(c.substring(0,1)!=="."){const h=$e(f);h.isEmpty()||(s=s||!h.getPriority().isEmpty(),n.push(new ue(c,h)))}}),n.length===0)return ne.EMPTY_NODE;const a=ha(n,TP,c=>c.name,Ff);if(s){const c=ha(n,Fe.getCompare());return new ne(a,$e(e),new En({".priority":c},{".priority":Fe}))}else return new ne(a,$e(e),En.Default)}else{let n=ne.EMPTY_NODE;return et(t,(s,o)=>{if(un(t,s)&&s.substring(0,1)!=="."){const a=$e(o);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(s,a))}}),n.updatePriority($e(e))}}PP($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP extends Ua{constructor(e){super(),this.indexPath_=e,z(!de(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),o=this.extractChild(n.node),a=s.compareTo(o);return a===0?qr(e.name,n.name):a}makePost(e,n){const s=$e(e),o=ne.EMPTY_NODE.updateChild(this.indexPath_,s);return new ue(n,o)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Ro);return new ue(zr,e)}toString(){return io(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP extends Ua{compare(e,n){const s=e.node.compareTo(n.node);return s===0?qr(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){const s=$e(e);return new ue(n,s)}toString(){return".value"}}const FP=new MP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){return{type:"value",snapshotNode:t}}function Oi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function so(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function oo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function UP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.index_=e}updateChild(e,n,s,o,a,c){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(o).equals(s.getChild(o))&&f.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(n)?c.trackChildChange(so(n,f)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?c.trackChildChange(Oi(n,s)):c.trackChildChange(oo(n,s,f))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Fe,(o,a)=>{n.hasChild(o)||s.trackChildChange(so(o,a))}),n.isLeafNode()||n.forEachChild(Fe,(o,a)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(a)||s.trackChildChange(oo(o,a,c))}else s.trackChildChange(Oi(o,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.indexedFilter_=new Uf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lo.getStartPost_(e),this.endPost_=lo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,o,a,c){return this.matches(new ue(n,s))||(s=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,o,a,c)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ne.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ne.EMPTY_NODE);const a=this;return n.forEachChild(Fe,(c,f)=>{a.matches(new ue(c,f))||(o=o.updateImmediateChild(c,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new lo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,o,a,c){return this.rangedFilter_.matches(new ue(n,s))||(s=ne.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,o,a,c):this.fullLimitUpdateChild_(e,n,s,a,c)}updateFullNode(e,n,s){let o;if(n.isLeafNode()||n.isEmpty())o=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ne.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;a.hasNext()&&c<this.limit_;){const f=a.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ne.EMPTY_NODE);let a;this.reverse_?a=o.getReverseIterator(this.index_):a=o.getIterator(this.index_);let c=0;for(;a.hasNext();){const f=a.getNext();c<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?c++:o=o.updateImmediateChild(f.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,o,a){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,C)=>y(C,v)}else c=this.index_.getCompare();const f=e;z(f.numChildren()===this.limit_,"");const h=new ue(n,s),m=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(f.hasChild(n)){const y=f.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||f.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const C=v==null?1:c(v,h);if(_&&!s.isEmpty()&&C>=0)return a!=null&&a.trackChildChange(oo(n,s,y)),f.updateImmediateChild(n,s);{a!=null&&a.trackChildChange(so(n,y));const A=f.updateImmediateChild(n,ne.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(a!=null&&a.trackChildChange(Oi(v.name,v.node)),A.updateImmediateChild(v.name,v.node)):A}}else return s.isEmpty()?e:_&&c(m,h)>=0?(a!=null&&(a.trackChildChange(so(m.name,m.node)),a.trackChildChange(Oi(n,s))),f.updateImmediateChild(n,s).updateImmediateChild(m.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ai}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new jf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zP(t){return t.loadsAllData()?new Uf(t.getIndex()):t.hasLimit()?new jP(t):new lo(t)}function w_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Fe?n="$priority":t.index_===FP?n="$value":t.index_===Pi?n="$key":(z(t.index_ instanceof LP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=He(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+He(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=He(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function E_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Fe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Pv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=To("p:rest:"),this.listens_={}}listen(e,n,s,o){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const c=pa.getListenId_(e,s),f={};this.listens_[c]=f;const h=w_(e._queryParams);this.restRequest_(a+".json",h,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(a,y,!1,s),Ni(this.listens_,c)===f){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",o(v,null)}})}unlisten(e,n){const s=pa.getListenId_(e,n);delete this.listens_[s]}get(e){const n=w_(e._queryParams),s=e._path.toString(),o=new vo;return this.restRequest_(s+".json",n,(a,c)=>{let f=c;a===404&&(f=null,a=null),a===null?(this.onDataUpdate_(s,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(n.auth=o.accessToken),a&&a.token&&(n.ac=a.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zi(n);this.log_("Sending REST request for "+c);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(s&&f.readyState===4){this.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);let h=null;if(f.status>=200&&f.status<300){try{h=Xs(f.responseText)}catch{ut("Failed to parse JSON response for "+c+": "+f.responseText)}s(null,h)}else f.status!==401&&f.status!==404&&ut("Got unsuccessful REST response for "+c+" Status: "+f.status),s(f.status);s=null}},f.open("GET",c,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(){return{value:null,children:new Map}}function Uv(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ae(e);t.children.has(s)||t.children.set(s,ma());const o=t.children.get(s);e=ke(e),Uv(o,e,n)}}function jd(t,e,n){t.value!==null?n(e,t.value):BP(t,(s,o)=>{const a=new Ee(e.toString()+"/"+s);jd(o,a,n)})}function BP(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(s,o)=>{n[s]=n[s]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=10*1e3,HP=30*1e3,VP=5*60*1e3;class GP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new $P(e);const s=S_+(HP-S_)*Math.random();Gs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;et(e,(o,a)=>{a>0&&un(this.statsToReport_,o)&&(n[o]=a,s=!0)}),s&&this.server_.reportStats(n),Gs(this.reportStats_.bind(this),Math.floor(Math.random()*2*VP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function zf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Gt.ACK_USER_WRITE,this.source=zf()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ee(e));return new ga(_e(),n,this.revert)}}else return z(ae(this.path)===e,"operationForChild called for unrelated child."),new ga(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new ao(this.source,_e()):new ao(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Gt.OVERWRITE}operationForChild(e){return de(this.path)?new Wr(this.source,_e(),this.snap.getImmediateChild(e)):new Wr(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Gt.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new Ee(e));return n.isEmpty()?null:n.value?new Wr(this.source,_e(),n.value):new Di(this.source,_e(),n)}else return z(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Di(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function qP(t,e,n,s){const o=[],a=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(UP(c.childName,c.snapshotNode))}),js(t,o,"child_removed",e,s,n),js(t,o,"child_added",e,s,n),js(t,o,"child_moved",a,s,n),js(t,o,"child_changed",e,s,n),js(t,o,"value",e,s,n),o}function js(t,e,n,s,o,a){const c=s.filter(f=>f.type===n);c.sort((f,h)=>YP(t,f,h)),c.forEach(f=>{const h=QP(t,f,a);o.forEach(m=>{m.respondsTo(f.type)&&e.push(m.createEvent(h,t.query_))})})}function QP(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function YP(t,e,n){if(e.childName==null||n.childName==null)throw ji("Should only compare child_ events.");const s=new ue(e.childName,e.snapshotNode),o=new ue(n.childName,n.snapshotNode);return t.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){return{eventCache:t,serverCache:e}}function Ks(t,e,n,s){return ja(new fr(e,n,s),t.serverCache)}function jv(t,e,n,s){return ja(t.eventCache,new fr(e,n,s))}function _a(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Br(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd;const JP=()=>(gd||(gd=new yt(LR)),gd);class Ie{static fromObject(e){let n=new Ie(null);return et(e,(s,o)=>{n=n.set(new Ee(s),o)}),n}constructor(e,n=JP()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_e(),value:this.value};if(de(e))return null;{const s=ae(e),o=this.children.get(s);if(o!==null){const a=o.findRootMostMatchingPathAndValue(ke(e),n);return a!=null?{path:Me(new Ee(s),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=ae(e),s=this.children.get(n);return s!==null?s.subtree(ke(e)):new Ie(null)}}set(e,n){if(de(e))return new Ie(n,this.children);{const s=ae(e),a=(this.children.get(s)||new Ie(null)).set(ke(e),n),c=this.children.insert(s,a);return new Ie(this.value,c)}}remove(e){if(de(e))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const n=ae(e),s=this.children.get(n);if(s){const o=s.remove(ke(e));let a;return o.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,o),this.value===null&&a.isEmpty()?new Ie(null):new Ie(this.value,a)}else return this}}get(e){if(de(e))return this.value;{const n=ae(e),s=this.children.get(n);return s?s.get(ke(e)):null}}setTree(e,n){if(de(e))return n;{const s=ae(e),a=(this.children.get(s)||new Ie(null)).setTree(ke(e),n);let c;return a.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,a),new Ie(this.value,c)}}fold(e){return this.fold_(_e(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((o,a)=>{s[o]=a.fold_(Me(e,o),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,_e(),n)}findOnPath_(e,n,s){const o=this.value?s(n,this.value):!1;if(o)return o;if(de(e))return null;{const a=ae(e),c=this.children.get(a);return c?c.findOnPath_(ke(e),Me(n,a),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_e(),n)}foreachOnPath_(e,n,s){if(de(e))return this;{this.value&&s(n,this.value);const o=ae(e),a=this.children.get(o);return a?a.foreachOnPath_(ke(e),Me(n,o),s):new Ie(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,n){this.children.inorderTraversal((s,o)=>{o.foreach_(Me(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new Ie(null))}}function qs(t,e,n){if(de(e))return new Kt(new Ie(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let a=s.value;const c=at(o,e);return a=a.updateChild(c,n),new Kt(t.writeTree_.set(o,a))}else{const o=new Ie(n),a=t.writeTree_.setTree(e,o);return new Kt(a)}}}function zd(t,e,n){let s=t;return et(n,(o,a)=>{s=qs(s,Me(e,o),a)}),s}function C_(t,e){if(de(e))return Kt.empty();{const n=t.writeTree_.setTree(e,new Ie(null));return new Kt(n)}}function Wd(t,e){return Qr(t,e)!=null}function Qr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(at(n.path,e)):null}function I_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fe,(s,o)=>{e.push(new ue(s,o))}):t.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new ue(s,o.value))}),e}function lr(t,e){if(de(e))return t;{const n=Qr(t,e);return n!=null?new Kt(new Ie(n)):new Kt(t.writeTree_.subtree(e))}}function Bd(t){return t.writeTree_.isEmpty()}function bi(t,e){return zv(_e(),t.writeTree_,e)}function zv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((o,a)=>{o===".priority"?(z(a.value!==null,"Priority writes must always be leaf nodes"),s=a.value):n=zv(Me(t,o),a,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Me(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t,e){return Hv(e,t)}function XP(t,e,n,s,o){z(s>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:o}),o&&(t.visibleWrites=qs(t.visibleWrites,e,n)),t.lastWriteId=s}function ZP(t,e,n,s){z(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=zd(t.visibleWrites,e,n),t.lastWriteId=s}function eN(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function tN(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let o=s.visible,a=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const f=t.allWrites[c];f.visible&&(c>=n&&nN(f,s.path)?o=!1:bt(s.path,f.path)&&(a=!0)),c--}if(o){if(a)return rN(t),!0;if(s.snap)t.visibleWrites=C_(t.visibleWrites,s.path);else{const f=s.children;et(f,h=>{t.visibleWrites=C_(t.visibleWrites,Me(s.path,h))})}return!0}else return!1}function nN(t,e){if(t.snap)return bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bt(Me(t.path,n),e))return!0;return!1}function rN(t){t.visibleWrites=Wv(t.allWrites,iN,_e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function iN(t){return t.visible}function Wv(t,e,n){let s=Kt.empty();for(let o=0;o<t.length;++o){const a=t[o];if(e(a)){const c=a.path;let f;if(a.snap)bt(n,c)?(f=at(n,c),s=qs(s,f,a.snap)):bt(c,n)&&(f=at(c,n),s=qs(s,_e(),a.snap.getChild(f)));else if(a.children){if(bt(n,c))f=at(n,c),s=zd(s,f,a.children);else if(bt(c,n))if(f=at(c,n),de(f))s=zd(s,_e(),a.children);else{const h=Ni(a.children,ae(f));if(h){const m=h.getChild(ke(f));s=qs(s,_e(),m)}}}else throw ji("WriteRecord should have .snap or .children")}}return s}function Bv(t,e,n,s,o){if(!s&&!o){const a=Qr(t.visibleWrites,e);if(a!=null)return a;{const c=lr(t.visibleWrites,e);if(Bd(c))return n;if(n==null&&!Wd(c,_e()))return null;{const f=n||ne.EMPTY_NODE;return bi(c,f)}}}else{const a=lr(t.visibleWrites,e);if(!o&&Bd(a))return n;if(!o&&n==null&&!Wd(a,_e()))return null;{const c=function(m){return(m.visible||o)&&(!s||!~s.indexOf(m.writeId))&&(bt(m.path,e)||bt(e,m.path))},f=Wv(t.allWrites,c,e),h=n||ne.EMPTY_NODE;return bi(f,h)}}}function sN(t,e,n){let s=ne.EMPTY_NODE;const o=Qr(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Fe,(a,c)=>{s=s.updateImmediateChild(a,c)}),s;if(n){const a=lr(t.visibleWrites,e);return n.forEachChild(Fe,(c,f)=>{const h=bi(lr(a,new Ee(c)),f);s=s.updateImmediateChild(c,h)}),I_(a).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const a=lr(t.visibleWrites,e);return I_(a).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function oN(t,e,n,s,o){z(s||o,"Either existingEventSnap or existingServerSnap must exist");const a=Me(e,n);if(Wd(t.visibleWrites,a))return null;{const c=lr(t.visibleWrites,a);return Bd(c)?o.getChild(n):bi(c,o.getChild(n))}}function lN(t,e,n,s){const o=Me(e,n),a=Qr(t.visibleWrites,o);if(a!=null)return a;if(s.isCompleteForChild(n)){const c=lr(t.visibleWrites,o);return bi(c,s.getNode().getImmediateChild(n))}else return null}function aN(t,e){return Qr(t.visibleWrites,e)}function uN(t,e,n,s,o,a,c){let f;const h=lr(t.visibleWrites,e),m=Qr(h,_e());if(m!=null)f=m;else if(n!=null)f=bi(h,n);else return[];if(f=f.withIndex(c),!f.isEmpty()&&!f.isLeafNode()){const _=[],y=c.getCompare(),v=a?f.getReverseIteratorFrom(s,c):f.getIteratorFrom(s,c);let C=v.getNext();for(;C&&_.length<o;)y(C,s)!==0&&_.push(C),C=v.getNext();return _}else return[]}function cN(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function ya(t,e,n,s){return Bv(t.writeTree,t.treePath,e,n,s)}function $f(t,e){return sN(t.writeTree,t.treePath,e)}function k_(t,e,n,s){return oN(t.writeTree,t.treePath,e,n,s)}function va(t,e){return aN(t.writeTree,Me(t.treePath,e))}function dN(t,e,n,s,o,a){return uN(t.writeTree,t.treePath,e,n,s,o,a)}function Hf(t,e,n){return lN(t.writeTree,t.treePath,e,n)}function $v(t,e){return Hv(Me(t.treePath,e),t.writeTree)}function Hv(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const a=o.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(s,oo(s,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(s,so(s,o.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(s,Oi(s,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(s,oo(s,e.snapshotNode,o.oldSnap));else throw ji("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Vv=new hN;class Vf{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new fr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hf(this.writes_,e,s)}}getChildAfterChild(e,n,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Br(this.viewCache_),a=dN(this.writes_,o,n,1,s,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){return{filter:t}}function mN(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function gN(t,e,n,s,o){const a=new fN;let c,f;if(n.type===Gt.OVERWRITE){const m=n;m.source.fromUser?c=$d(t,e,m.path,m.snap,s,o,a):(z(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered()&&!de(m.path),c=wa(t,e,m.path,m.snap,s,o,f,a))}else if(n.type===Gt.MERGE){const m=n;m.source.fromUser?c=yN(t,e,m.path,m.children,s,o,a):(z(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered(),c=Hd(t,e,m.path,m.children,s,o,f,a))}else if(n.type===Gt.ACK_USER_WRITE){const m=n;m.revert?c=EN(t,e,m.path,s,o,a):c=vN(t,e,m.path,m.affectedTree,s,o,a)}else if(n.type===Gt.LISTEN_COMPLETE)c=wN(t,e,n.path,s,a);else throw ji("Unknown operation type: "+n.type);const h=a.getChanges();return _N(e,c,h),{viewCache:c,changes:h}}function _N(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),a=_a(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!s.getNode().equals(a)||!s.getNode().getPriority().equals(a.getPriority()))&&n.push(Fv(_a(e)))}}function Gv(t,e,n,s,o,a){const c=e.eventCache;if(va(s,n)!=null)return e;{let f,h;if(de(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Br(e),_=m instanceof ne?m:ne.EMPTY_NODE,y=$f(s,_);f=t.filter.updateFullNode(e.eventCache.getNode(),y,a)}else{const m=ya(s,Br(e));f=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const m=ae(n);if(m===".priority"){z(dr(n)===1,"Can't have a priority with additional path components");const _=c.getNode();h=e.serverCache.getNode();const y=k_(s,n,_,h);y!=null?f=t.filter.updatePriority(_,y):f=c.getNode()}else{const _=ke(n);let y;if(c.isCompleteForChild(m)){h=e.serverCache.getNode();const v=k_(s,n,c.getNode(),h);v!=null?y=c.getNode().getImmediateChild(m).updateChild(_,v):y=c.getNode().getImmediateChild(m)}else y=Hf(s,m,e.serverCache);y!=null?f=t.filter.updateChild(c.getNode(),m,y,_,o,a):f=c.getNode()}}return Ks(e,f,c.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function wa(t,e,n,s,o,a,c,f){const h=e.serverCache;let m;const _=c?t.filter:t.filter.getIndexedFilter();if(de(n))m=_.updateFullNode(h.getNode(),s,null);else if(_.filtersNodes()&&!h.isFiltered()){const C=h.getNode().updateChild(n,s);m=_.updateFullNode(h.getNode(),C,null)}else{const C=ae(n);if(!h.isCompleteForPath(n)&&dr(n)>1)return e;const I=ke(n),x=h.getNode().getImmediateChild(C).updateChild(I,s);C===".priority"?m=_.updatePriority(h.getNode(),x):m=_.updateChild(h.getNode(),C,x,I,Vv,null)}const y=jv(e,m,h.isFullyInitialized()||de(n),_.filtersNodes()),v=new Vf(o,y,a);return Gv(t,y,n,o,v,f)}function $d(t,e,n,s,o,a,c){const f=e.eventCache;let h,m;const _=new Vf(o,e,a);if(de(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,c),h=Ks(e,m,!0,t.filter.filtersNodes());else{const y=ae(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),h=Ks(e,m,f.isFullyInitialized(),f.isFiltered());else{const v=ke(n),C=f.getNode().getImmediateChild(y);let I;if(de(v))I=s;else{const A=_.getCompleteChild(y);A!=null?bf(v)===".priority"&&A.getChild(xv(v)).isEmpty()?I=A:I=A.updateChild(v,s):I=ne.EMPTY_NODE}if(C.equals(I))h=e;else{const A=t.filter.updateChild(f.getNode(),y,I,v,_,c);h=Ks(e,A,f.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function T_(t,e){return t.eventCache.isCompleteForChild(e)}function yN(t,e,n,s,o,a,c){let f=e;return s.foreach((h,m)=>{const _=Me(n,h);T_(e,ae(_))&&(f=$d(t,f,_,m,o,a,c))}),s.foreach((h,m)=>{const _=Me(n,h);T_(e,ae(_))||(f=$d(t,f,_,m,o,a,c))}),f}function R_(t,e,n){return n.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Hd(t,e,n,s,o,a,c,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,m;de(n)?m=s:m=new Ie(null).setTree(n,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(_.hasChild(y)){const C=e.serverCache.getNode().getImmediateChild(y),I=R_(t,C,v);h=wa(t,h,new Ee(y),I,o,a,c,f)}}),m.children.inorderTraversal((y,v)=>{const C=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!_.hasChild(y)&&!C){const I=e.serverCache.getNode().getImmediateChild(y),A=R_(t,I,v);h=wa(t,h,new Ee(y),A,o,a,c,f)}}),h}function vN(t,e,n,s,o,a,c){if(va(o,n)!=null)return e;const f=e.serverCache.isFiltered(),h=e.serverCache;if(s.value!=null){if(de(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return wa(t,e,n,h.getNode().getChild(n),o,a,f,c);if(de(n)){let m=new Ie(null);return h.getNode().forEachChild(Pi,(_,y)=>{m=m.set(new Ee(_),y)}),Hd(t,e,n,m,o,a,f,c)}else return e}else{let m=new Ie(null);return s.foreach((_,y)=>{const v=Me(n,_);h.isCompleteForPath(v)&&(m=m.set(_,h.getNode().getChild(v)))}),Hd(t,e,n,m,o,a,f,c)}}function wN(t,e,n,s,o){const a=e.serverCache,c=jv(e,a.getNode(),a.isFullyInitialized()||de(n),a.isFiltered());return Gv(t,c,n,s,Vv,o)}function EN(t,e,n,s,o,a){let c;if(va(s,n)!=null)return e;{const f=new Vf(s,e,o),h=e.eventCache.getNode();let m;if(de(n)||ae(n)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=ya(s,Br(e));else{const y=e.serverCache.getNode();z(y instanceof ne,"serverChildren would be complete if leaf node"),_=$f(s,y)}_=_,m=t.filter.updateFullNode(h,_,a)}else{const _=ae(n);let y=Hf(s,_,e.serverCache);y==null&&e.serverCache.isCompleteForChild(_)&&(y=h.getImmediateChild(_)),y!=null?m=t.filter.updateChild(h,_,y,ke(n),f,a):e.eventCache.getNode().hasChild(_)?m=t.filter.updateChild(h,_,ne.EMPTY_NODE,ke(n),f,a):m=h,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=ya(s,Br(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,a)))}return c=e.serverCache.isFullyInitialized()||va(s,_e())!=null,Ks(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new Uf(s.getIndex()),a=zP(s);this.processor_=pN(a);const c=n.serverCache,f=n.eventCache,h=o.updateFullNode(ne.EMPTY_NODE,c.getNode(),null),m=a.updateFullNode(ne.EMPTY_NODE,f.getNode(),null),_=new fr(h,c.isFullyInitialized(),o.filtersNodes()),y=new fr(m,f.isFullyInitialized(),a.filtersNodes());this.viewCache_=ja(y,_),this.eventGenerator_=new KP(this.query_)}get query(){return this.query_}}function CN(t){return t.viewCache_.serverCache.getNode()}function IN(t){return _a(t.viewCache_)}function kN(t,e){const n=Br(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function P_(t){return t.eventRegistrations_.length===0}function TN(t,e){t.eventRegistrations_.push(e)}function N_(t,e,n){const s=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(a=>{const c=a.createCancelEvent(n,o);c&&s.push(c)})}if(e){let o=[];for(let a=0;a<t.eventRegistrations_.length;++a){const c=t.eventRegistrations_[a];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return s}function x_(t,e,n,s){e.type===Gt.MERGE&&e.source.queryId!==null&&(z(Br(t.viewCache_),"We should always have a full cache before handling merges"),z(_a(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,a=gN(t.processor_,o,e,n,s);return mN(t.processor_,a.viewCache),z(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Kv(t,a.changes,a.viewCache.eventCache.getNode(),null)}function RN(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Fe,(a,c)=>{s.push(Oi(a,c))}),n.isFullyInitialized()&&s.push(Fv(n.getNode())),Kv(t,s,n.getNode(),e)}function Kv(t,e,n,s){const o=s?[s]:t.eventRegistrations_;return qP(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea;class qv{constructor(){this.views=new Map}}function PN(t){z(!Ea,"__referenceConstructor has already been defined"),Ea=t}function NN(){return z(Ea,"Reference.ts has not been loaded"),Ea}function xN(t){return t.views.size===0}function Gf(t,e,n,s){const o=e.source.queryId;if(o!==null){const a=t.views.get(o);return z(a!=null,"SyncTree gave us an op for an invalid query."),x_(a,e,n,s)}else{let a=[];for(const c of t.views.values())a=a.concat(x_(c,e,n,s));return a}}function Qv(t,e,n,s,o){const a=e._queryIdentifier,c=t.views.get(a);if(!c){let f=ya(n,o?s:null),h=!1;f?h=!0:s instanceof ne?(f=$f(n,s),h=!1):(f=ne.EMPTY_NODE,h=!1);const m=ja(new fr(f,h,!1),new fr(s,o,!1));return new SN(e,m)}return c}function AN(t,e,n,s,o,a){const c=Qv(t,e,s,o,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),TN(c,n),RN(c,n)}function ON(t,e,n,s){const o=e._queryIdentifier,a=[];let c=[];const f=hr(t);if(o==="default")for(const[h,m]of t.views.entries())c=c.concat(N_(m,n,s)),P_(m)&&(t.views.delete(h),m.query._queryParams.loadsAllData()||a.push(m.query));else{const h=t.views.get(o);h&&(c=c.concat(N_(h,n,s)),P_(h)&&(t.views.delete(o),h.query._queryParams.loadsAllData()||a.push(h.query)))}return f&&!hr(t)&&a.push(new(NN())(e._repo,e._path)),{removed:a,events:c}}function Yv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ar(t,e){let n=null;for(const s of t.views.values())n=n||kN(s,e);return n}function Jv(t,e){if(e._queryParams.loadsAllData())return Wa(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Xv(t,e){return Jv(t,e)!=null}function hr(t){return Wa(t)!=null}function Wa(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa;function DN(t){z(!Sa,"__referenceConstructor has already been defined"),Sa=t}function bN(){return z(Sa,"Reference.ts has not been loaded"),Sa}let LN=1;class A_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=cN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Zv(t,e,n,s,o){return XP(t.pendingWriteTree_,e,n,s,o),o?Hi(t,new Wr(zf(),e,n)):[]}function MN(t,e,n,s){ZP(t.pendingWriteTree_,e,n,s);const o=Ie.fromObject(n);return Hi(t,new Di(zf(),e,o))}function rr(t,e,n=!1){const s=eN(t.pendingWriteTree_,e);if(tN(t.pendingWriteTree_,e)){let a=new Ie(null);return s.snap!=null?a=a.set(_e(),!0):et(s.children,c=>{a=a.set(new Ee(c),!0)}),Hi(t,new ga(s.path,a,n))}else return[]}function Po(t,e,n){return Hi(t,new Wr(Wf(),e,n))}function FN(t,e,n){const s=Ie.fromObject(n);return Hi(t,new Di(Wf(),e,s))}function UN(t,e){return Hi(t,new ao(Wf(),e))}function jN(t,e,n){const s=qf(t,n);if(s){const o=Qf(s),a=o.path,c=o.queryId,f=at(a,e),h=new ao(Bf(c),f);return Yf(t,a,h)}else return[]}function Ca(t,e,n,s,o=!1){const a=e._path,c=t.syncPointTree_.get(a);let f=[];if(c&&(e._queryIdentifier==="default"||Xv(c,e))){const h=ON(c,e,n,s);xN(c)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const m=h.removed;if(f=h.events,!o){const _=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(a,(v,C)=>hr(C));if(_&&!y){const v=t.syncPointTree_.subtree(a);if(!v.isEmpty()){const C=BN(v);for(let I=0;I<C.length;++I){const A=C[I],x=A.query,O=rw(t,A);t.listenProvider_.startListening(Qs(x),uo(t,x),O.hashFn,O.onComplete)}}}!y&&m.length>0&&!s&&(_?t.listenProvider_.stopListening(Qs(e),null):m.forEach(v=>{const C=t.queryToTagMap.get(Ba(v));t.listenProvider_.stopListening(Qs(v),C)}))}$N(t,m)}return f}function ew(t,e,n,s){const o=qf(t,s);if(o!=null){const a=Qf(o),c=a.path,f=a.queryId,h=at(c,e),m=new Wr(Bf(f),h,n);return Yf(t,c,m)}else return[]}function zN(t,e,n,s){const o=qf(t,s);if(o){const a=Qf(o),c=a.path,f=a.queryId,h=at(c,e),m=Ie.fromObject(n),_=new Di(Bf(f),h,m);return Yf(t,c,_)}else return[]}function Vd(t,e,n,s=!1){const o=e._path;let a=null,c=!1;t.syncPointTree_.foreachOnPath(o,(v,C)=>{const I=at(v,o);a=a||ar(C,I),c=c||hr(C)});let f=t.syncPointTree_.get(o);f?(c=c||hr(f),a=a||ar(f,_e())):(f=new qv,t.syncPointTree_=t.syncPointTree_.set(o,f));let h;a!=null?h=!0:(h=!1,a=ne.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((C,I)=>{const A=ar(I,_e());A&&(a=a.updateImmediateChild(C,A))}));const m=Xv(f,e);if(!m&&!e._queryParams.loadsAllData()){const v=Ba(e);z(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const C=HN();t.queryToTagMap.set(v,C),t.tagToQueryMap.set(C,v)}const _=za(t.pendingWriteTree_,o);let y=AN(f,e,n,_,a,h);if(!m&&!c&&!s){const v=Jv(f,e);y=y.concat(VN(t,e,v))}return y}function Kf(t,e,n){const o=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(c,f)=>{const h=at(c,e),m=ar(f,h);if(m)return m});return Bv(o,e,a,n,!0)}function WN(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(m,_)=>{const y=at(m,n);s=s||ar(_,y)});let o=t.syncPointTree_.get(n);o?s=s||ar(o,_e()):(o=new qv,t.syncPointTree_=t.syncPointTree_.set(n,o));const a=s!=null,c=a?new fr(s,!0,!1):null,f=za(t.pendingWriteTree_,e._path),h=Qv(o,e,f,a?c.getNode():ne.EMPTY_NODE,a);return IN(h)}function Hi(t,e){return tw(e,t.syncPointTree_,null,za(t.pendingWriteTree_,_e()))}function tw(t,e,n,s){if(de(t.path))return nw(t,e,n,s);{const o=e.get(_e());n==null&&o!=null&&(n=ar(o,_e()));let a=[];const c=ae(t.path),f=t.operationForChild(c),h=e.children.get(c);if(h&&f){const m=n?n.getImmediateChild(c):null,_=$v(s,c);a=a.concat(tw(f,h,m,_))}return o&&(a=a.concat(Gf(o,t,s,n))),a}}function nw(t,e,n,s){const o=e.get(_e());n==null&&o!=null&&(n=ar(o,_e()));let a=[];return e.children.inorderTraversal((c,f)=>{const h=n?n.getImmediateChild(c):null,m=$v(s,c),_=t.operationForChild(c);_&&(a=a.concat(nw(_,f,h,m)))}),o&&(a=a.concat(Gf(o,t,s,n))),a}function rw(t,e){const n=e.query,s=uo(t,n);return{hashFn:()=>(CN(e)||ne.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?jN(t,n._path,s):UN(t,n._path);{const a=UR(o,n);return Ca(t,n,null,a)}}}}function uo(t,e){const n=Ba(e);return t.queryToTagMap.get(n)}function Ba(t){return t._path.toString()+"$"+t._queryIdentifier}function qf(t,e){return t.tagToQueryMap.get(e)}function Qf(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ee(t.substr(0,e))}}function Yf(t,e,n){const s=t.syncPointTree_.get(e);z(s,"Missing sync point for query tag that we're tracking");const o=za(t.pendingWriteTree_,e);return Gf(s,n,o,null)}function BN(t){return t.fold((e,n,s)=>{if(n&&hr(n))return[Wa(n)];{let o=[];return n&&(o=Yv(n)),et(s,(a,c)=>{o=o.concat(c)}),o}})}function Qs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(bN())(t._repo,t._path):t}function $N(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const o=Ba(s),a=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(a)}}}function HN(){return LN++}function VN(t,e,n){const s=e._path,o=uo(t,e),a=rw(t,n),c=t.listenProvider_.startListening(Qs(e),o,a.hashFn,a.onComplete),f=t.syncPointTree_.subtree(s);if(o)z(!hr(f.value),"If we're adding a query, it shouldn't be shadowed");else{const h=f.fold((m,_,y)=>{if(!de(m)&&_&&hr(_))return[Wa(_).query];{let v=[];return _&&(v=v.concat(Yv(_).map(C=>C.query))),et(y,(C,I)=>{v=v.concat(I)}),v}});for(let m=0;m<h.length;++m){const _=h[m];t.listenProvider_.stopListening(Qs(_),uo(t,_))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Jf(n)}node(){return this.node_}}class Xf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Me(this.path_,e);return new Xf(this.syncTree_,n)}node(){return Kf(this.syncTree_,this.path_)}}const GN=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},O_=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return KN(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qN(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},KN=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},qN=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&z(!1,"Unexpected increment value: "+s);const o=e.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const c=o.getValue();return typeof c!="number"?s:c+s},iw=function(t,e,n,s){return Zf(e,new Xf(n,t),s)},sw=function(t,e,n){return Zf(t,new Jf(e),n)};function Zf(t,e,n){const s=t.getPriority().val(),o=O_(s,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const c=t,f=O_(c.getValue(),e,n);return f!==c.getValue()||o!==c.getPriority().val()?new qe(f,$e(o)):t}else{const c=t;return a=c,o!==c.getPriority().val()&&(a=a.updatePriority(new qe(o))),c.forEachChild(Fe,(f,h)=>{const m=Zf(h,e.getImmediateChild(f),n);m!==h&&(a=a.updateImmediateChild(f,m))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function th(t,e){let n=e instanceof Ee?e:new Ee(e),s=t,o=ae(n);for(;o!==null;){const a=Ni(s.node.children,o)||{children:{},childCount:0};s=new eh(o,s,a),n=ke(n),o=ae(n)}return s}function Vi(t){return t.node.value}function ow(t,e){t.node.value=e,Gd(t)}function lw(t){return t.node.childCount>0}function QN(t){return Vi(t)===void 0&&!lw(t)}function $a(t,e){et(t.node.children,(n,s)=>{e(new eh(n,t,s))})}function aw(t,e,n,s){n&&e(t),$a(t,o=>{aw(o,e,!0)})}function YN(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function No(t){return new Ee(t.parent===null?t.name:No(t.parent)+"/"+t.name)}function Gd(t){t.parent!==null&&JN(t.parent,t.name,t)}function JN(t,e,n){const s=QN(n),o=un(t.node.children,e);s&&o?(delete t.node.children[e],t.node.childCount--,Gd(t)):!s&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Gd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/[\[\].#$\/\u0000-\u001F\u007F]/,ZN=/[\[\].#$\u0000-\u001F\u007F]/,_d=10*1024*1024,nh=function(t){return typeof t=="string"&&t.length!==0&&!XN.test(t)},uw=function(t){return typeof t=="string"&&t.length!==0&&!ZN.test(t)},e1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),uw(t)},t1=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Nf(t)||t&&typeof t=="object"&&un(t,".sv")},cw=function(t,e,n,s){s&&e===void 0||Ha(Da(t,"value"),e,n)},Ha=function(t,e,n){const s=n instanceof Ee?new yP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Dr(s));if(typeof e=="function")throw new Error(t+"contains a function "+Dr(s)+" with contents = "+e.toString());if(Nf(e))throw new Error(t+"contains "+e.toString()+" "+Dr(s));if(typeof e=="string"&&e.length>_d/3&&ba(e)>_d)throw new Error(t+"contains a string greater than "+_d+" utf8 bytes "+Dr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,a=!1;if(et(e,(c,f)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(a=!0,!nh(c)))throw new Error(t+" contains an invalid key ("+c+") "+Dr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vP(s,c),Ha(t,f,s),wP(s)}),o&&a)throw new Error(t+' contains ".value" child '+Dr(s)+" in addition to actual children.")}},n1=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const a=io(s);for(let c=0;c<a.length;c++)if(!(a[c]===".priority"&&c===a.length-1)){if(!nh(a[c]))throw new Error(t+"contains an invalid key ("+a[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(_P);let o=null;for(n=0;n<e.length;n++){if(s=e[n],o!==null&&bt(o,s))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+s.toString());o=s}},r1=function(t,e,n,s){const o=Da(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const a=[];et(e,(c,f)=>{const h=new Ee(c);if(Ha(o,f,Me(n,h)),bf(h)===".priority"&&!t1(f))throw new Error(o+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),n1(o,a)},dw=function(t,e,n,s){if(!uw(n))throw new Error(Da(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},i1=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dw(t,e,n)},fw=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},s1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!e1(n))throw new Error(Da(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Va(t,e){let n=null;for(let s=0;s<e.length;s++){const o=e[s],a=o.getPath();n!==null&&!Lf(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(o)}n&&t.eventLists_.push(n)}function hw(t,e,n){Va(t,n),pw(t,s=>Lf(s,e))}function Mt(t,e,n){Va(t,n),pw(t,s=>bt(s,e)||bt(e,s))}function pw(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const o=t.eventLists_[s];if(o){const a=o.path;e(a)?(l1(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function l1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Vs&&Ze("event: "+n.toString()),$i(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="repo_interrupt",u1=25;class c1{constructor(e,n,s,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ma(),this.transactionQueueTree_=new eh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d1(t,e,n){if(t.stats_=Of(t.repoInfo_),t.forceRestClient_||BR())t.server_=new pa(t.repoInfo_,(s,o,a,c)=>{D_(t,s,o,a,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>b_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new In(t.repoInfo_,e,(s,o,a,c)=>{D_(t,s,o,a,c)},s=>{b_(t,s)},s=>{f1(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=KR(t.repoInfo_,()=>new GP(t.stats_,t.server_)),t.infoData_=new WP,t.infoSyncTree_=new A_({startListening:(s,o,a,c)=>{let f=[];const h=t.infoData_.getNode(s._path);return h.isEmpty()||(f=Po(t.infoSyncTree_,s._path,h),setTimeout(()=>{c("ok")},0)),f},stopListening:()=>{}}),rh(t,"connected",!1),t.serverSyncTree_=new A_({startListening:(s,o,a,c)=>(t.server_.listen(s,a,o,(f,h)=>{const m=c(f,h);Mt(t.eventQueue_,s._path,m)}),[]),stopListening:(s,o)=>{t.server_.unlisten(s,o)}})}function mw(t){const n=t.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ga(t){return GN({timestamp:mw(t)})}function D_(t,e,n,s,o){t.dataUpdateCount++;const a=new Ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(s){const h=ia(n,m=>$e(m));c=zN(t.serverSyncTree_,a,h,o)}else{const h=$e(n);c=ew(t.serverSyncTree_,a,h,o)}else if(s){const h=ia(n,m=>$e(m));c=FN(t.serverSyncTree_,a,h)}else{const h=$e(n);c=Po(t.serverSyncTree_,a,h)}let f=a;c.length>0&&(f=Li(t,a)),Mt(t.eventQueue_,f,c)}function b_(t,e){rh(t,"connected",e),e===!1&&g1(t)}function f1(t,e){et(e,(n,s)=>{rh(t,n,s)})}function rh(t,e,n){const s=new Ee("/.info/"+e),o=$e(n);t.infoData_.updateSnapshot(s,o);const a=Po(t.infoSyncTree_,s,o);Mt(t.eventQueue_,s,a)}function ih(t){return t.nextWriteId_++}function h1(t,e,n){const s=WN(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(o=>{const a=$e(o).withIndex(e._queryParams.getIndex());Vd(t.serverSyncTree_,e,n,!0);let c;if(e._queryParams.loadsAllData())c=Po(t.serverSyncTree_,e._path,a);else{const f=uo(t.serverSyncTree_,e);c=ew(t.serverSyncTree_,e._path,a,f)}return Mt(t.eventQueue_,e._path,c),Ca(t.serverSyncTree_,e,n,null,!0),a},o=>(xo(t,"get for query "+He(e)+" failed: "+o),Promise.reject(new Error(o))))}function p1(t,e,n,s,o){xo(t,"set",{path:e.toString(),value:n,priority:s});const a=Ga(t),c=$e(n,s),f=Kf(t.serverSyncTree_,e),h=sw(c,f,a),m=ih(t),_=Zv(t.serverSyncTree_,e,h,m,!0);Va(t.eventQueue_,_),t.server_.put(e.toString(),c.val(!0),(v,C)=>{const I=v==="ok";I||ut("set at "+e+" failed: "+v);const A=rr(t.serverSyncTree_,m,!I);Mt(t.eventQueue_,e,A),qd(t,o,v,C)});const y=oh(t,e);Li(t,y),Mt(t.eventQueue_,y,[])}function m1(t,e,n,s){xo(t,"update",{path:e.toString(),value:n});let o=!0;const a=Ga(t),c={};if(et(n,(f,h)=>{o=!1,c[f]=iw(Me(e,f),$e(h),t.serverSyncTree_,a)}),o)Ze("update() called with empty data.  Don't do anything."),qd(t,s,"ok",void 0);else{const f=ih(t),h=MN(t.serverSyncTree_,e,c,f);Va(t.eventQueue_,h),t.server_.merge(e.toString(),n,(m,_)=>{const y=m==="ok";y||ut("update at "+e+" failed: "+m);const v=rr(t.serverSyncTree_,f,!y),C=v.length>0?Li(t,e):e;Mt(t.eventQueue_,C,v),qd(t,s,m,_)}),et(n,m=>{const _=oh(t,Me(e,m));Li(t,_)}),Mt(t.eventQueue_,e,[])}}function g1(t){xo(t,"onDisconnectEvents");const e=Ga(t),n=ma();jd(t.onDisconnect_,_e(),(o,a)=>{const c=iw(o,a,t.serverSyncTree_,e);Uv(n,o,c)});let s=[];jd(n,_e(),(o,a)=>{s=s.concat(Po(t.serverSyncTree_,o,a));const c=oh(t,o);Li(t,c)}),t.onDisconnect_=ma(),Mt(t.eventQueue_,_e(),s)}function _1(t,e,n){let s;ae(e._path)===".info"?s=Vd(t.infoSyncTree_,e,n):s=Vd(t.serverSyncTree_,e,n),hw(t.eventQueue_,e._path,s)}function Kd(t,e,n){let s;ae(e._path)===".info"?s=Ca(t.infoSyncTree_,e,n):s=Ca(t.serverSyncTree_,e,n),hw(t.eventQueue_,e._path,s)}function y1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(a1)}function xo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ze(n,...e)}function qd(t,e,n,s){e&&$i(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let a=o;s&&(a+=": "+s);const c=new Error(a);c.code=o,e(c)}})}function gw(t,e,n){return Kf(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function sh(t,e=t.transactionQueueTree_){if(e||Ka(t,e),Vi(e)){const n=yw(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&v1(t,No(e),n)}else lw(e)&&$a(e,n=>{sh(t,n)})}function v1(t,e,n){const s=n.map(m=>m.currentWriteId),o=gw(t,e,s);let a=o;const c=o.hash();for(let m=0;m<n.length;m++){const _=n[m];z(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=at(e,_.path);a=a.updateChild(y,_.currentOutputSnapshotRaw)}const f=a.val(!0),h=e;t.server_.put(h.toString(),f,m=>{xo(t,"transaction put response",{path:h.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,_=_.concat(rr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Ka(t,th(t.transactionQueueTree_,e)),sh(t,t.transactionQueueTree_),Mt(t.eventQueue_,e,_);for(let v=0;v<y.length;v++)$i(y[v])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{ut("transaction at "+h.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}Li(t,e)}},c)}function Li(t,e){const n=_w(t,e),s=No(n),o=yw(t,n);return w1(t,o,s),s}function w1(t,e,n){if(e.length===0)return;const s=[];let o=[];const c=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const h=e[f],m=at(n,h.path);let _=!1,y;if(z(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)_=!0,y=h.abortReason,o=o.concat(rr(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=u1)_=!0,y="maxretry",o=o.concat(rr(t.serverSyncTree_,h.currentWriteId,!0));else{const v=gw(t,h.path,c);h.currentInputSnapshot=v;const C=e[f].update(v.val());if(C!==void 0){Ha("transaction failed: Data returned ",C,h.path);let I=$e(C);typeof C=="object"&&C!=null&&un(C,".priority")||(I=I.updatePriority(v.getPriority()));const x=h.currentWriteId,O=Ga(t),W=sw(I,v,O);h.currentOutputSnapshotRaw=I,h.currentOutputSnapshotResolved=W,h.currentWriteId=ih(t),c.splice(c.indexOf(x),1),o=o.concat(Zv(t.serverSyncTree_,h.path,W,h.currentWriteId,h.applyLocally)),o=o.concat(rr(t.serverSyncTree_,x,!0))}else _=!0,y="nodata",o=o.concat(rr(t.serverSyncTree_,h.currentWriteId,!0))}Mt(t.eventQueue_,n,o),o=[],_&&(e[f].status=2,function(v){setTimeout(v,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?s.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):s.push(()=>e[f].onComplete(new Error(y),!1,null))))}Ka(t,t.transactionQueueTree_);for(let f=0;f<s.length;f++)$i(s[f]);sh(t,t.transactionQueueTree_)}function _w(t,e){let n,s=t.transactionQueueTree_;for(n=ae(e);n!==null&&Vi(s)===void 0;)s=th(s,n),e=ke(e),n=ae(e);return s}function yw(t,e){const n=[];return vw(t,e,n),n.sort((s,o)=>s.order-o.order),n}function vw(t,e,n){const s=Vi(e);if(s)for(let o=0;o<s.length;o++)n.push(s[o]);$a(e,o=>{vw(t,o,n)})}function Ka(t,e){const n=Vi(e);if(n){let s=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[s]=n[o],s++);n.length=s,ow(e,n.length>0?n:void 0)}$a(e,s=>{Ka(t,s)})}function oh(t,e){const n=No(_w(t,e)),s=th(t.transactionQueueTree_,e);return YN(s,o=>{yd(t,o)}),yd(t,s),aw(s,o=>{yd(t,o)}),n}function yd(t,e){const n=Vi(e);if(n){const s=[];let o=[],a=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(z(a===c-1,"All SENT items should be at beginning of queue."),a=c,n[c].status=3,n[c].abortReason="set"):(z(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(rr(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&s.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));a===-1?ow(e,void 0):n.length=a+1,Mt(t.eventQueue_,No(e),o);for(let c=0;c<s.length;c++)$i(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let o=n[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function S1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):ut(`Invalid query segment '${n}' in query '${t}'`)}return e}const L_=function(t,e){const n=C1(t),s=n.namespace;n.domain==="firebase.com"&&Pn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||DR();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ev(n.host,n.secure,s,o,e,"",s!==n.subdomain),path:new Ee(n.pathString)}},C1=function(t){let e="",n="",s="",o="",a="",c=!0,f="https",h=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(f=t.substring(0,m-1),t=t.substring(m+2));let _=t.indexOf("/");_===-1&&(_=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(_,y)),_<y&&(o=E1(t.substring(_,y)));const v=S1(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(c=f==="https"||f==="wss",h=parseInt(e.substring(m+1),10)):m=e.length;const C=e.slice(0,m);if(C.toLowerCase()==="localhost")n="localhost";else if(C.split(".").length<=2)n=C;else{const I=e.indexOf(".");s=e.substring(0,I).toLowerCase(),n=e.substring(I+1),a=s}"ns"in v&&(a=v.ns)}return{host:e,port:h,domain:n,subdomain:s,secure:c,scheme:f,pathString:o,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",I1=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let o;const a=new Array(8);for(o=7;o>=0;o--)a[o]=M_.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let c=a.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=M_.charAt(e[o]);return z(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,s,o){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}}class T1{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,s,o){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=o}get key(){return de(this._path)?null:bf(this._path)}get ref(){return new xn(this._repo,this._path)}get _queryIdentifier(){const e=E_(this._queryParams),n=xf(e);return n==="{}"?"default":n}get _queryObject(){return E_(this._queryParams)}isEqual(e){if(e=st(e),!(e instanceof lh))return!1;const n=this._repo===e._repo,s=Lf(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+gP(this._path)}}class xn extends lh{constructor(e,n){super(e,n,new jf,!1)}get parent(){const e=xv(this._path);return e===null?null:new xn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class co{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ee(e),s=fo(this.ref,e);return new co(this._node.getChild(n),s,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new co(o,fo(this.ref,s),Fe)))}hasChild(e){const n=new Ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pr(t,e){return t=st(t),t._checkNotDeleted("ref"),e!==void 0?fo(t._root,e):t._root}function fo(t,e){return t=st(t),ae(t._path)===null?i1("child","path",e):dw("child","path",e),new xn(t._repo,Me(t._path,e))}function R1(t,e){t=st(t),fw("push",t._path),cw("push",e,t._path,!0);const n=mw(t._repo),s=I1(n),o=fo(t,s),a=fo(t,s);let c;return e!=null?c=Ew(a,e).then(()=>a):c=Promise.resolve(a),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function Ew(t,e){t=st(t),fw("set",t._path),cw("set",e,t._path,!1);const n=new vo;return p1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Sw(t,e){r1("update",e,t._path);const n=new vo;return m1(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function P1(t){t=st(t);const e=new ww(()=>{}),n=new qa(e);return h1(t._repo,t,n).then(s=>new co(s,new xn(t._repo,t._path),t._queryParams.getIndex()))}class qa{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new k1("value",this,new co(e.snapshotNode,new xn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new T1(this,e,n):null}matches(e){return e instanceof qa?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function N1(t,e,n,s,o){let a;if(typeof s=="object"&&(a=void 0,o=s),typeof s=="function"&&(a=s),o&&o.onlyOnce){const h=n,m=(_,y)=>{Kd(t._repo,t,f),h(_,y)};m.userCallback=n.userCallback,m.context=n.context,n=m}const c=new ww(n,a||void 0),f=new qa(c);return _1(t._repo,t,f),()=>Kd(t._repo,t,f)}function ah(t,e,n,s){return N1(t,"value",e,n,s)}function uh(t,e,n){Kd(t._repo,t,null)}PN(xn);DN(xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="FIREBASE_DATABASE_EMULATOR_HOST",Qd={};let A1=!1;function O1(t,e,n,s){t.repoInfo_=new Ev(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function D1(t,e,n,s,o){let a=s||t.options.databaseURL;a===void 0&&(t.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=L_(a,o),f=c.repoInfo,h;typeof process<"u"&&r_&&(h=r_[x1]),h?(a=`http://${h}?ns=${f.namespace}`,c=L_(a,o),f=c.repoInfo):c.repoInfo.secure;const m=new HR(t.name,t.options,e);s1("Invalid Firebase Database URL",c),de(c.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=L1(f,t,m,new $R(t.name,n));return new M1(_,t)}function b1(t,e){const n=Qd[e];(!n||n[t.key]!==t)&&Pn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),y1(t),delete n[t.key]}function L1(t,e,n,s){let o=Qd[e.name];o||(o={},Qd[e.name]=o);let a=o[t.toURLString()];return a&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new c1(t,A1,n,s),o[t.toURLString()]=a,a}class M1{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(d1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xn(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(b1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pn("Cannot call "+e+" on a deleted database.")}}function Yd(t=Cy(),e){const n=vf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=zI("database");s&&F1(n,...s)}return n}function F1(t,e,n,s={}){t=st(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Pn("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let a;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Zl(Zl.OWNER);else if(s.mockUserToken){const c=typeof s.mockUserToken=="string"?s.mockUserToken:WI(s.mockUserToken,t.app.options.projectId);a=new Zl(c)}O1(o,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){RR(Wi),xi(new Fr("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return D1(s,o,a,n)},"PUBLIC").setMultipleInstances(!0)),or(i_,s_,t),or(i_,s_,"esm2017")}In.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};In.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};U1();const j1={apiKey:"AIzaSyCjpLB87zlHMb-fvh_TdhBarduhQD-s--o",authDomain:"tienda-comida-1a7e2.firebaseapp.com",databaseURL:"https://tienda-comida-1a7e2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tienda-comida-1a7e2",storageBucket:"tienda-comida-1a7e2.firebasestorage.app",messagingSenderId:"1092414552129",appId:"1:1092414552129:web:b91dd2b90d0b1fdfb0aec0"},Ia=bg().length?bg()[0]:Sy(j1),Gi=Yd(Ia),z1=async(t,e)=>{const n=pr(Gi,`menu/${t}`);await Sw(n,{quantity:e})},W1=async t=>{const e=pr(Gi,"orders");await R1(e,t)},Cw=t=>t?Object.entries(t).map(([e,n])=>({...n,id:e})):[],B1=async(t,e)=>{const n=pr(Gi,`users/${t}/roles`);console.log(t,e),await Sw(n,e)};var $r=(t=>(t.ADMIN="ADMIN",t.USER="USER",t))($r||{});class Iw{constructor(){}async setUserRoles(e,{email:n,roles:s}){const o=Yd(Ia),a=pr(o,`users/${e}`),c={};Object.values($r).forEach(f=>c[f.toUpperCase()]=!1),s.forEach(f=>{c[f.toUpperCase()]=!0}),await Ew(a,{email:n,roles:c})}async getUserRoles(e){const n=Yd(Ia),s=pr(n,`users/${e}/roles`),o=await P1(s);if(o.exists()){const a=o.val(),c=[];return Object.entries(a).forEach(([h,m])=>{m&&c.push(h)}),c}return[$r.USER]}}const $1=new Iw,zs=CR(Ia);class H1{constructor(){Ei(this,"databaseService");this.databaseService=new Iw}signIn(e,n){return a0(zs,e,n)}signUp(e,n){return l0(zs,e,n)}signOut(){return f0(zs)}onAuthStateChanged(e){return d0(zs,e)}getCurrentUser(){return zs.currentUser}async getUserRoles(e){return e.email==="msf91@alu.ua.es"?[$r.ADMIN]:this.databaseService.getUserRoles(e.uid)}}const ho=new H1;class V1{constructor(){Ei(this,"levels");Ei(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no vlido: ${e}`)}log(e,n){const s=this.levels.indexOf(e),o=this.levels.indexOf(this.currentLevel);if(s>=o){const a=new Date().toISOString();console[e](`[${e.toUpperCase()}] ${a}: ${n}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}}const Mr=new V1,Qa=N.createContext({user:null,roles:null}),G1=({children:t})=>{const[e,n]=N.useState(null),[s,o]=N.useState(null);return N.useEffect(()=>ho.onAuthStateChanged(async c=>{if(n(c),c)try{const f=await ho.getUserRoles(c);o(f)}catch(f){Mr.error("Error al obtener los roles: "+f),o(null)}else o(null)}),[]),b.jsx(Qa.Provider,{value:{user:e,roles:s},children:t})},K1=()=>{const{user:t,roles:e}=N.useContext(Qa),n=_o(),s=async()=>{try{await ho.signOut(),n("/login")}catch(o){Mr.error(`Error al cerrar la sesin: ${o}`)}};return b.jsx("header",{children:b.jsxs("nav",{children:[b.jsx("ul",{children:b.jsx("li",{children:b.jsx(Xn,{to:"/",children:b.jsx("strong",{children:"Comida Rpida"})})})}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx(Xn,{to:"/stock",children:"Stock"})}),b.jsx("li",{children:b.jsx(Xn,{to:"/orders",children:"Pedidos"})}),t&&b.jsx("li",{children:b.jsx(Xn,{to:"/dashboard",children:"Dashboard"})}),!t&&b.jsx("li",{children:b.jsx(Xn,{to:"/login",children:"Login"})}),!t&&b.jsx("li",{children:b.jsx(Xn,{to:"/register",children:"Registro"})}),t&&b.jsx("li",{children:b.jsx("button",{onClick:s,children:"Logout"})})]})]})})};function Xe(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var q1=typeof Symbol=="function"&&Symbol.observable||"@@observable",F_=q1,vd=()=>Math.random().toString(36).substring(7).split("").join("."),Q1={INIT:`@@redux/INIT${vd()}`,REPLACE:`@@redux/REPLACE${vd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vd()}`},ka=Q1;function ch(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function kw(t,e,n){if(typeof t!="function")throw new Error(Xe(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xe(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xe(1));return n(kw)(t,e)}let s=t,o=e,a=new Map,c=a,f=0,h=!1;function m(){c===a&&(c=new Map,a.forEach((x,O)=>{c.set(O,x)}))}function _(){if(h)throw new Error(Xe(3));return o}function y(x){if(typeof x!="function")throw new Error(Xe(4));if(h)throw new Error(Xe(5));let O=!0;m();const W=f++;return c.set(W,x),function(){if(O){if(h)throw new Error(Xe(6));O=!1,m(),c.delete(W),a=null}}}function v(x){if(!ch(x))throw new Error(Xe(7));if(typeof x.type>"u")throw new Error(Xe(8));if(typeof x.type!="string")throw new Error(Xe(17));if(h)throw new Error(Xe(9));try{h=!0,o=s(o,x)}finally{h=!1}return(a=c).forEach(W=>{W()}),x}function C(x){if(typeof x!="function")throw new Error(Xe(10));s=x,v({type:ka.REPLACE})}function I(){const x=y;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Xe(11));function W(){const B=O;B.next&&B.next(_())}return W(),{unsubscribe:x(W)}},[F_](){return this}}}return v({type:ka.INIT}),{dispatch:v,subscribe:y,getState:_,replaceReducer:C,[F_]:I}}function Y1(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ka.INIT})>"u")throw new Error(Xe(12));if(typeof n(void 0,{type:ka.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xe(13))})}function J1(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const c=e[a];typeof t[c]=="function"&&(n[c]=t[c])}const s=Object.keys(n);let o;try{Y1(n)}catch(a){o=a}return function(c={},f){if(o)throw o;let h=!1;const m={};for(let _=0;_<s.length;_++){const y=s[_],v=n[y],C=c[y],I=v(C,f);if(typeof I>"u")throw f&&f.type,new Error(Xe(14));m[y]=I,h=h||I!==C}return h=h||s.length!==Object.keys(c).length,h?m:c}}function Ta(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function X1(...t){return e=>(n,s)=>{const o=e(n,s);let a=()=>{throw new Error(Xe(15))};const c={getState:o.getState,dispatch:(h,...m)=>a(h,...m)},f=t.map(h=>h(c));return a=Ta(...f)(o.dispatch),{...o,dispatch:a}}}function Z1(t){return ch(t)&&"type"in t&&typeof t.type=="string"}var Tw=Symbol.for("immer-nothing"),U_=Symbol.for("immer-draftable"),kt=Symbol.for("immer-state");function Vt(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mi=Object.getPrototypeOf;function Hr(t){return!!t&&!!t[kt]}function Nn(t){var e;return t?Rw(t)||Array.isArray(t)||!!t[U_]||!!((e=t.constructor)!=null&&e[U_])||Ja(t)||Xa(t):!1}var ex=Object.prototype.constructor.toString();function Rw(t){if(!t||typeof t!="object")return!1;const e=Mi(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===ex}function Ra(t,e){Ya(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,s)=>e(s,n,t))}function Ya(t){const e=t[kt];return e?e.type_:Array.isArray(t)?1:Ja(t)?2:Xa(t)?3:0}function Jd(t,e){return Ya(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Pw(t,e,n){const s=Ya(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function tx(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ja(t){return t instanceof Map}function Xa(t){return t instanceof Set}function br(t){return t.copy_||t.base_}function Xd(t,e){if(Ja(t))return new Map(t);if(Xa(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Rw(t);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(t);delete s[kt];let o=Reflect.ownKeys(s);for(let a=0;a<o.length;a++){const c=o[a],f=s[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(s[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:t[c]})}return Object.create(Mi(t),s)}else{const s=Mi(t);if(s!==null&&n)return{...t};const o=Object.create(s);return Object.assign(o,t)}}function dh(t,e=!1){return Za(t)||Hr(t)||!Nn(t)||(Ya(t)>1&&(t.set=t.add=t.clear=t.delete=nx),Object.freeze(t),e&&Object.entries(t).forEach(([n,s])=>dh(s,!0))),t}function nx(){Vt(2)}function Za(t){return Object.isFrozen(t)}var rx={};function Vr(t){const e=rx[t];return e||Vt(0,t),e}var po;function Nw(){return po}function ix(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function j_(t,e){e&&(Vr("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Zd(t){ef(t),t.drafts_.forEach(sx),t.drafts_=null}function ef(t){t===po&&(po=t.parent_)}function z_(t){return po=ix(po,t)}function sx(t){const e=t[kt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function W_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[kt].modified_&&(Zd(e),Vt(4)),Nn(t)&&(t=Pa(e,t),e.parent_||Na(e,t)),e.patches_&&Vr("Patches").generateReplacementPatches_(n[kt].base_,t,e.patches_,e.inversePatches_)):t=Pa(e,n,[]),Zd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Tw?t:void 0}function Pa(t,e,n){if(Za(e))return e;const s=e[kt];if(!s)return Ra(e,(o,a)=>B_(t,s,e,o,a,n)),e;if(s.scope_!==t)return e;if(!s.modified_)return Na(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let a=o,c=!1;s.type_===3&&(a=new Set(o),o.clear(),c=!0),Ra(a,(f,h)=>B_(t,s,o,f,h,n,c)),Na(t,o,!1),n&&t.patches_&&Vr("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function B_(t,e,n,s,o,a,c){if(Hr(o)){const f=a&&e&&e.type_!==3&&!Jd(e.assigned_,s)?a.concat(s):void 0,h=Pa(t,o,f);if(Pw(n,s,h),Hr(h))t.canAutoFreeze_=!1;else return}else c&&n.add(o);if(Nn(o)&&!Za(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Pa(t,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&Na(t,o)}}function Na(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dh(e,n)}function ox(t,e){const n=Array.isArray(t),s={type_:n?1:0,scope_:e?e.scope_:Nw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,a=fh;n&&(o=[s],a=mo);const{revoke:c,proxy:f}=Proxy.revocable(o,a);return s.draft_=f,s.revoke_=c,f}var fh={get(t,e){if(e===kt)return t;const n=br(t);if(!Jd(n,e))return lx(t,n,e);const s=n[e];return t.finalized_||!Nn(s)?s:s===wd(t.base_,e)?(Ed(t),t.copy_[e]=nf(s,t)):s},has(t,e){return e in br(t)},ownKeys(t){return Reflect.ownKeys(br(t))},set(t,e,n){const s=xw(br(t),e);if(s!=null&&s.set)return s.set.call(t.draft_,n),!0;if(!t.modified_){const o=wd(br(t),e),a=o==null?void 0:o[kt];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(tx(n,o)&&(n!==void 0||Jd(t.base_,e)))return!0;Ed(t),tf(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return wd(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ed(t),tf(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=br(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){Vt(11)},getPrototypeOf(t){return Mi(t.base_)},setPrototypeOf(){Vt(12)}},mo={};Ra(fh,(t,e)=>{mo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mo.deleteProperty=function(t,e){return mo.set.call(this,t,e,void 0)};mo.set=function(t,e,n){return fh.set.call(this,t[0],e,n,t[0])};function wd(t,e){const n=t[kt];return(n?br(n):t)[e]}function lx(t,e,n){var o;const s=xw(e,n);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(t.draft_):void 0}function xw(t,e){if(!(e in t))return;let n=Mi(t);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Mi(n)}}function tf(t){t.modified_||(t.modified_=!0,t.parent_&&tf(t.parent_))}function Ed(t){t.copy_||(t.copy_=Xd(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ax=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const c=this;return function(h=a,...m){return c.produce(h,_=>n.call(this,_,...m))}}typeof n!="function"&&Vt(6),s!==void 0&&typeof s!="function"&&Vt(7);let o;if(Nn(e)){const a=z_(this),c=nf(e,void 0);let f=!0;try{o=n(c),f=!1}finally{f?Zd(a):ef(a)}return j_(a,s),W_(o,a)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===Tw&&(o=void 0),this.autoFreeze_&&dh(o,!0),s){const a=[],c=[];Vr("Patches").generateReplacementPatches_(e,o,a,c),s(a,c)}return o}else Vt(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...f)=>this.produceWithPatches(c,h=>e(h,...f));let s,o;return[this.produce(e,n,(c,f)=>{s=c,o=f}),s,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Nn(t)||Vt(8),Hr(t)&&(t=ux(t));const e=z_(this),n=nf(t,void 0);return n[kt].isManual_=!0,ef(e),n}finishDraft(t,e){const n=t&&t[kt];(!n||!n.isManual_)&&Vt(9);const{scope_:s}=n;return j_(s,e),W_(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const s=Vr("Patches").applyPatches_;return Hr(t)?s(t,e):this.produce(t,o=>s(o,e))}};function nf(t,e){const n=Ja(t)?Vr("MapSet").proxyMap_(t,e):Xa(t)?Vr("MapSet").proxySet_(t,e):ox(t,e);return(e?e.scope_:Nw()).drafts_.push(n),n}function ux(t){return Hr(t)||Vt(10,t),Aw(t)}function Aw(t){if(!Nn(t)||Za(t))return t;const e=t[kt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Xd(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Xd(t,!0);return Ra(n,(s,o)=>{Pw(n,s,Aw(o))}),e&&(e.finalized_=!1),n}var Tt=new ax,Ow=Tt.produce;Tt.produceWithPatches.bind(Tt);Tt.setAutoFreeze.bind(Tt);Tt.setUseStrictShallowCopy.bind(Tt);Tt.applyPatches.bind(Tt);Tt.createDraft.bind(Tt);Tt.finishDraft.bind(Tt);function Dw(t){return({dispatch:n,getState:s})=>o=>a=>typeof a=="function"?a(n,s,t):o(a)}var cx=Dw(),dx=Dw,fx=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ta:Ta.apply(null,arguments)},hx=t=>t&&typeof t.match=="function";function Ys(t,e){function n(...s){if(e){let o=e(...s);if(!o)throw new Error(kn(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:s[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=s=>Z1(s)&&s.type===t,n}var bw=class $s extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$s.prototype)}static get[Symbol.species](){return $s}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new $s(...e[0].concat(this)):new $s(...e.concat(this))}};function $_(t){return Nn(t)?Ow(t,()=>{}):t}function H_(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function px(t){return typeof t=="boolean"}var mx=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=e??{};let c=new bw;return n&&(px(n)?c.push(cx):c.push(dx(n.extraArgument))),c},gx="RTK_autoBatch",V_=t=>e=>{setTimeout(e,t)},_x=(t={type:"raf"})=>e=>(...n)=>{const s=e(...n);let o=!0,a=!1,c=!1;const f=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:V_(10):t.type==="callback"?t.queueNotification:V_(t.timeout),m=()=>{c=!1,a&&(a=!1,f.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const y=()=>o&&_(),v=s.subscribe(y);return f.add(_),()=>{v(),f.delete(_)}},dispatch(_){var y;try{return o=!((y=_==null?void 0:_.meta)!=null&&y[gx]),a=!o,a&&(c||(c=!0,h(m))),s.dispatch(_)}finally{o=!0}}})},yx=t=>function(n){const{autoBatch:s=!0}=n??{};let o=new bw(t);return s&&o.push(_x(typeof s=="object"?s:void 0)),o};function vx(t){const e=mx(),{reducer:n=void 0,middleware:s,devTools:o=!0,preloadedState:a=void 0,enhancers:c=void 0}=t;let f;if(typeof n=="function")f=n;else if(ch(n))f=J1(n);else throw new Error(kn(1));let h;typeof s=="function"?h=s(e):h=e();let m=Ta;o&&(m=fx({trace:!1,...typeof o=="object"&&o}));const _=X1(...h),y=yx(_);let v=typeof c=="function"?c(y):y();const C=m(...v);return kw(f,a,C)}function Lw(t){const e={},n=[];let s;const o={addCase(a,c){const f=typeof a=="string"?a:a.type;if(!f)throw new Error(kn(28));if(f in e)throw new Error(kn(29));return e[f]=c,o},addMatcher(a,c){return n.push({matcher:a,reducer:c}),o},addDefaultCase(a){return s=a,o}};return t(o),[e,n,s]}function wx(t){return typeof t=="function"}function Ex(t,e){let[n,s,o]=Lw(e),a;if(wx(t))a=()=>$_(t());else{const f=$_(t);a=()=>f}function c(f=a(),h){let m=[n[h.type],...s.filter(({matcher:_})=>_(h)).map(({reducer:_})=>_)];return m.filter(_=>!!_).length===0&&(m=[o]),m.reduce((_,y)=>{if(y)if(Hr(_)){const C=y(_,h);return C===void 0?_:C}else{if(Nn(_))return Ow(_,v=>y(v,h));{const v=y(_,h);if(v===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return _},f)}return c.getInitialState=a,c}var Sx=(t,e)=>hx(t)?t.match(e):t(e);function Cx(...t){return e=>t.some(n=>Sx(n,e))}var Ix="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kx=(t=21)=>{let e="",n=t;for(;n--;)e+=Ix[Math.random()*64|0];return e},Tx=["name","message","stack","code"],Sd=class{constructor(t,e){Ei(this,"_type");this.payload=t,this.meta=e}},G_=class{constructor(t,e){Ei(this,"_type");this.payload=t,this.meta=e}},Rx=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of Tx)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},eu=(()=>{function t(e,n,s){const o=Ys(e+"/fulfilled",(h,m,_,y)=>({payload:h,meta:{...y||{},arg:_,requestId:m,requestStatus:"fulfilled"}})),a=Ys(e+"/pending",(h,m,_)=>({payload:void 0,meta:{..._||{},arg:m,requestId:h,requestStatus:"pending"}})),c=Ys(e+"/rejected",(h,m,_,y,v)=>({payload:y,error:(s&&s.serializeError||Rx)(h||"Rejected"),meta:{...v||{},arg:_,requestId:m,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"}}));function f(h){return(m,_,y)=>{const v=s!=null&&s.idGenerator?s.idGenerator(h):kx(),C=new AbortController;let I,A;function x(W){A=W,C.abort()}const O=async function(){var B,Y;let W;try{let J=(B=s==null?void 0:s.condition)==null?void 0:B.call(s,h,{getState:_,extra:y});if(Nx(J)&&(J=await J),J===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const se=new Promise((ee,fe)=>{I=()=>{fe({name:"AbortError",message:A||"Aborted"})},C.signal.addEventListener("abort",I)});m(a(v,h,(Y=s==null?void 0:s.getPendingMeta)==null?void 0:Y.call(s,{requestId:v,arg:h},{getState:_,extra:y}))),W=await Promise.race([se,Promise.resolve(n(h,{dispatch:m,getState:_,extra:y,requestId:v,signal:C.signal,abort:x,rejectWithValue:(ee,fe)=>new Sd(ee,fe),fulfillWithValue:(ee,fe)=>new G_(ee,fe)})).then(ee=>{if(ee instanceof Sd)throw ee;return ee instanceof G_?o(ee.payload,v,h,ee.meta):o(ee,v,h)})])}catch(J){W=J instanceof Sd?c(null,v,h,J.payload,J.meta):c(J,v,h)}finally{I&&C.signal.removeEventListener("abort",I)}return s&&!s.dispatchConditionRejection&&c.match(W)&&W.meta.condition||m(W),W}();return Object.assign(O,{abort:x,requestId:v,arg:h,unwrap(){return O.then(Px)}})}}return Object.assign(f,{pending:a,rejected:c,fulfilled:o,settled:Cx(c,o),typePrefix:e})}return t.withTypes=()=>t,t})();function Px(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Nx(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var xx=Symbol.for("rtk-slice-createasyncthunk");function Ax(t,e){return`${t}/${e}`}function Ox({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[xx];return function(o){const{name:a,reducerPath:c=a}=o;if(!a)throw new Error(kn(11));const f=(typeof o.reducers=="function"?o.reducers(bx()):o.reducers)||{},h=Object.keys(f),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(L,B){const Y=typeof L=="string"?L:L.type;if(!Y)throw new Error(kn(12));if(Y in m.sliceCaseReducersByType)throw new Error(kn(13));return m.sliceCaseReducersByType[Y]=B,_},addMatcher(L,B){return m.sliceMatchers.push({matcher:L,reducer:B}),_},exposeAction(L,B){return m.actionCreators[L]=B,_},exposeCaseReducer(L,B){return m.sliceCaseReducersByName[L]=B,_}};h.forEach(L=>{const B=f[L],Y={reducerName:L,type:Ax(a,L),createNotation:typeof o.reducers=="function"};Mx(B)?Ux(Y,B,_,e):Lx(Y,B,_)});function y(){const[L={},B=[],Y=void 0]=typeof o.extraReducers=="function"?Lw(o.extraReducers):[o.extraReducers],J={...L,...m.sliceCaseReducersByType};return Ex(o.initialState,se=>{for(let ee in J)se.addCase(ee,J[ee]);for(let ee of m.sliceMatchers)se.addMatcher(ee.matcher,ee.reducer);for(let ee of B)se.addMatcher(ee.matcher,ee.reducer);Y&&se.addDefaultCase(Y)})}const v=L=>L,C=new Map;let I;function A(L,B){return I||(I=y()),I(L,B)}function x(){return I||(I=y()),I.getInitialState()}function O(L,B=!1){function Y(se){let ee=se[L];return typeof ee>"u"&&B&&(ee=x()),ee}function J(se=v){const ee=H_(C,B,()=>new WeakMap);return H_(ee,se,()=>{const fe={};for(const[De,Rt]of Object.entries(o.selectors??{}))fe[De]=Dx(Rt,se,x,B);return fe})}return{reducerPath:L,getSelectors:J,get selectors(){return J(Y)},selectSlice:Y}}const W={name:a,reducer:A,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:x,...O(c),injectInto(L,{reducerPath:B,...Y}={}){const J=B??c;return L.inject({reducerPath:J,reducer:A},Y),{...W,...O(J,!0)}}};return W}}function Dx(t,e,n,s){function o(a,...c){let f=e(a);return typeof f>"u"&&s&&(f=n()),t(f,...c)}return o.unwrapped=t,o}var hh=Ox();function bx(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Lx({type:t,reducerName:e,createNotation:n},s,o){let a,c;if("reducer"in s){if(n&&!Fx(s))throw new Error(kn(17));a=s.reducer,c=s.prepare}else a=s;o.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,c?Ys(t,c):Ys(t))}function Mx(t){return t._reducerDefinitionType==="asyncThunk"}function Fx(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ux({type:t,reducerName:e},n,s,o){if(!o)throw new Error(kn(18));const{payloadCreator:a,fulfilled:c,pending:f,rejected:h,settled:m,options:_}=n,y=o(t,a,_);s.exposeAction(e,y),c&&s.addCase(y.fulfilled,c),f&&s.addCase(y.pending,f),h&&s.addCase(y.rejected,h),m&&s.addMatcher(y.settled,m),s.exposeCaseReducer(e,{fulfilled:c||Gl,pending:f||Gl,rejected:h||Gl,settled:m||Gl})}function Gl(){}function kn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const jx={items:[],error:null,loading:!1},ea=eu("menu/fetchItems",async(t,{rejectWithValue:e})=>new Promise((n,s)=>{const o=pr(Gi,"menu");ah(o,a=>{const c=a.val();if(c){const f=Cw(c);n(f)}else s(new Error("No hay datos disponibles"));uh(o)},a=>{console.error("Error en Firebase:",a),e(a)})}).catch(n=>e(n))),zx=eu("menu/refreshMenu",async(t,{rejectWithValue:e})=>new Promise((n,s)=>{const o=pr(Gi,"menu");ah(o,a=>{const c=a.val();if(c){const f=Cw(c);n(f)}else s(new Error("No hay datos disponibles"));uh(o)},a=>{console.error("Error en Firebase:",a),e(a)})}).catch(n=>e(n)));eu("menu/addOrder",async({id:t,order:e})=>new Promise((n,s)=>{try{W1(e).then(()=>z1(t,e.quantity)),n()}catch(o){console.error(o.message),s()}}));const Wx=hh({name:"menu",initialState:jx,reducers:{},extraReducers:t=>{t.addCase(ea.fulfilled,(e,n)=>{e.items=n.payload,e.loading=!1,e.error=null}).addCase(ea.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ea.pending,e=>{e.loading=!0,e.error=null}).addCase(zx.fulfilled,(e,n)=>{e.items=n.payload})}}),Bx=Wx.reducer;function $x(){const[t,e]=N.useState(""),[n,s]=N.useState(""),[o,a]=N.useState(""),c=_o(),f=async h=>{h.preventDefault(),a("");try{const m=await ho.signIn(t,n);console.log("Usuario autenticado:",m.user),c("/dashboard")}catch(m){console.error("Error al iniciar sesin:",m),a(m.message)}};return b.jsxs("form",{onSubmit:f,children:[b.jsx("h2",{children:"Iniciar Sesin"}),b.jsx("input",{type:"email",placeholder:"Correo electrnico",value:t,onChange:h=>e(h.target.value)}),b.jsx("input",{type:"password",placeholder:"Contrasea",value:n,onChange:h=>s(h.target.value)}),b.jsx("button",{type:"submit",children:"Ingresar"}),o&&b.jsx("p",{className:"error-message",children:o})]})}const Hx="modulepreload",Vx=function(t){return"https://msarfer.github.io/tienda-comida-auth/"+t},K_={},Gx=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(n.map(h=>{if(h=Vx(h),h in K_)return;K_[h]=!0;const m=h.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${_}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":Hx,m||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),m)return new Promise((v,C)=>{y.addEventListener("load",v),y.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},Kx=Q_.lazy(()=>Gx(()=>import("./Foods-DGaUuUGq.js"),[]));function qx(){const{items:t}=of(e=>e.menu);return b.jsxs("main",{children:[b.jsx("h4",{children:"Pgina de pedidos"}),b.jsx(N.Suspense,{fallback:b.jsx("div",{children:"Cargando comida"}),children:b.jsx(Kx,{items:t})})]})}function Qx(){const[t,e]=N.useState(""),[n,s]=N.useState(""),[o,a]=N.useState(""),[c,f]=N.useState(""),h=_o(),m=async _=>{_.preventDefault(),a("");try{const y=await ho.signUp(t,n);console.log("Usuario registrado:",y.user),await $1.setUserRoles(y.user.uid,{email:y.user.email,roles:[$r.ADMIN]}),f("Registro exitoso. Redirigiendo al Dashboard..."),setTimeout(()=>{h("/dashboard")},2e3)}catch(y){console.error("Error al registrarse:",y),a(y.message)}};return b.jsxs("form",{onSubmit:m,children:[b.jsx("h2",{children:"Registrarse"}),b.jsx("input",{type:"email",placeholder:"Correo electrnico",value:t,onChange:_=>e(_.target.value)}),b.jsx("input",{type:"password",placeholder:"Contrasea",value:n,onChange:_=>s(_.target.value)}),b.jsx("button",{type:"submit",children:"Registrarse"}),o&&b.jsx("p",{className:"error-message",children:o}),c&&b.jsx("p",{className:"success-message",children:c})]})}const Yx=({items:t})=>b.jsx(b.Fragment,{children:b.jsx("ul",{className:"ulApp",children:t.map(e=>b.jsxs("article",{className:"liApp",children:[b.jsx("p",{children:e.name}),b.jsxs("p",{children:["#",e.quantity]})]},e.id))})});function Jx(){const{items:t,loading:e,error:n}=of(s=>s.menu);return e?b.jsx("h1",{children:"Cargando men"}):n?b.jsx("h1",{children:"No se ha podido cargar el men"}):b.jsxs("main",{children:[b.jsx("h4",{children:"Pgina del Inventario"}),b.jsx(Yx,{items:t})]})}const q_=({children:t})=>{const{user:e,roles:n}=N.useContext(Qa);return e?!n||!n.includes($r.ADMIN)?b.jsx(Id,{to:"/",replace:!0}):t:b.jsx(Id,{to:"/login"})},Xx=({children:t})=>{const{user:e}=N.useContext(Qa);return e?t:b.jsx(Id,{to:"/login",replace:!0})},Zx={users:[]},eA=t=>Object.entries(t).map(([e,{email:n,roles:s}])=>({id:e,email:n,roles:s})),ph=eu("users/fetchUsers",async(t,{rejectWithValue:e})=>new Promise((n,s)=>{const o=pr(Gi,"users");ah(o,a=>{const c=a.val();if(console.log(c),c){const f=eA(c);n(f)}else s(new Error("No hay datos disponibles"));uh(o)},a=>{console.error("Error en Firebase:",a),e(a)})}).catch(n=>e(n))),tA=hh({name:"menu",initialState:Zx,reducers:{},extraReducers:t=>{t.addCase(ph.fulfilled,(e,n)=>{e.users=n.payload})}}),nA=tA.reducer,rA=({user:t,initActiveRoles:e})=>{var f;const[n,s]=N.useState(e||[]),o=sf(),a=h=>{const{value:m,checked:_}=h.target,y=n.findIndex(([C])=>C===m),v=[...n];y!==-1?v[y][1]=_:v.push([m,_]),console.log(v),s(v)},c=()=>{const h={};n.forEach(([m,_])=>{h[m]=_}),B1(t.id,h),o(ph())};return b.jsxs("fieldset",{role:"group",children:[b.jsxs("details",{className:"dropdown",children:[b.jsx("summary",{children:"Selecciona los roles..."}),b.jsx("ul",{children:(f=Object.values($r))==null?void 0:f.map(h=>b.jsx("li",{children:b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",value:h,checked:n.some(([m,_])=>m===h&&_),onChange:a}),h.toLowerCase()]})},h))})]}),b.jsx("button",{onClick:c,children:"Cambiar Roles"})]})};function iA(){const{users:t}=of(n=>n.users),e=sf();return N.useEffect(()=>{e(ph())},[]),b.jsxs("div",{children:[b.jsx("h2",{children:"Dashboard"}),b.jsxs("table",{className:"striped",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",children:"Email"}),b.jsx("th",{scope:"col",children:"Roles"}),b.jsx("th",{scope:"col",children:"Acciones"})]})}),b.jsx("tbody",{children:t==null?void 0:t.map(n=>{var f;const{id:s,email:o,roles:a}=n,c=a?(f=Object.entries(a))==null?void 0:f.filter(([h,m])=>m):[];return b.jsxs("tr",{children:[b.jsx("th",{scope:"row",children:o}),b.jsx("td",{children:b.jsx("div",{style:{display:"flex",gap:"1rem"},children:c==null?void 0:c.map(([h])=>b.jsx("kbd",{style:{backgroundColor:"#017FC0",textTransform:"capitalize"},children:h.toLocaleLowerCase()},`${s}-${h}`))})}),b.jsx("td",{children:b.jsx(rA,{user:n,initActiveRoles:c})})]},s)})})]})]})}function sA(){const t=sf();return N.useEffect(()=>{t(ea())},[]),b.jsxs(SI,{children:[b.jsx(K1,{}),b.jsxs(XC,{children:[b.jsx(Jn,{path:"/",element:b.jsx("h1",{children:"Home"})}),b.jsx(Jn,{path:"/login",element:b.jsx($x,{})}),b.jsx(Jn,{path:"/register",element:b.jsx(Qx,{})}),b.jsx(Jn,{path:"/stock",element:b.jsx(q_,{children:b.jsx(Jx,{})})}),b.jsx(Jn,{path:"/dashboard",element:b.jsx(q_,{children:b.jsx(iA,{})})}),b.jsx(Jn,{path:"/orders",element:b.jsx(Xx,{children:b.jsx(qx,{})})}),b.jsx(Jn,{path:"*",element:b.jsx("h1",{children:"Home"})})]})]})}class oA extends Q_.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){Mr.warn("Error capturado por ErrorBoundary: "+e.message),Mr.debug("Detalles del error: "+n.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const lA={isChooseFoodPage:!1},Mw=hh({name:"pages",initialState:lA,reducers:{togglePages:t=>{t.isChooseFoodPage=!t.isChooseFoodPage}}}),{togglePages:hA}=Mw.actions,aA=Mw.reducer,uA=t=>e=>n=>{Mr.info(` Enviando acccin: ${JSON.stringify(n)}`),Mr.info(` Estado anterior: ${JSON.stringify(t.getState())}`);const s=e(n);return Mr.info(` Nuevo estado: ${JSON.stringify(t.getState())}`),s},cA=vx({reducer:{menu:Bx,pages:aA,users:nA},middleware:t=>t().concat(uA)});$S.createRoot(document.getElementById("root")).render(b.jsx(N.StrictMode,{children:b.jsx("main",{className:"container",children:b.jsx(oA,{fallback:b.jsx("div",{children:"Algo ha ido mal :("}),children:b.jsx(G1,{children:b.jsx(iC,{store:cA,children:b.jsx(sA,{})})})})})}));export{W1 as a,zx as b,b as j,z1 as l,N as r,hA as t,sf as u};
